var $q=Object.defineProperty;var qq=(t,e,n)=>e in t?$q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mg=(t,e,n)=>qq(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var WS={exports:{}},Eg={},GS={exports:{}},wn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PL;function Xq(){if(PL)return wn;PL=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=h&&j[h]||j["@@iterator"],typeof j=="function"?j:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function x(j,q,pe){this.props=j,this.context=q,this.refs=S,this.updater=pe||v}x.prototype.isReactComponent={},x.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function w(){}w.prototype=x.prototype;function E(j,q,pe){this.props=j,this.context=q,this.refs=S,this.updater=pe||v}var b=E.prototype=new w;b.constructor=E,_(b,x.prototype),b.isPureReactComponent=!0;var T=Array.isArray,P=Object.prototype.hasOwnProperty,C={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function D(j,q,pe){var _e,Re={},Ie=null,Ye=null;if(q!=null)for(_e in q.ref!==void 0&&(Ye=q.ref),q.key!==void 0&&(Ie=""+q.key),q)P.call(q,_e)&&!L.hasOwnProperty(_e)&&(Re[_e]=q[_e]);var Xe=arguments.length-2;if(Xe===1)Re.children=pe;else if(1<Xe){for(var ke=Array(Xe),Ze=0;Ze<Xe;Ze++)ke[Ze]=arguments[Ze+2];Re.children=ke}if(j&&j.defaultProps)for(_e in Xe=j.defaultProps,Xe)Re[_e]===void 0&&(Re[_e]=Xe[_e]);return{$$typeof:t,type:j,key:Ie,ref:Ye,props:Re,_owner:C.current}}function I(j,q){return{$$typeof:t,type:j.type,key:q,ref:j.ref,props:j.props,_owner:j._owner}}function F(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function z(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(pe){return q[pe]})}var Y=/\/+/g;function H(j,q){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):q.toString(36)}function K(j,q,pe,_e,Re){var Ie=typeof j;(Ie==="undefined"||Ie==="boolean")&&(j=null);var Ye=!1;if(j===null)Ye=!0;else switch(Ie){case"string":case"number":Ye=!0;break;case"object":switch(j.$$typeof){case t:case e:Ye=!0}}if(Ye)return Ye=j,Re=Re(Ye),j=_e===""?"."+H(Ye,0):_e,T(Re)?(pe="",j!=null&&(pe=j.replace(Y,"$&/")+"/"),K(Re,q,pe,"",function(Ze){return Ze})):Re!=null&&(F(Re)&&(Re=I(Re,pe+(!Re.key||Ye&&Ye.key===Re.key?"":(""+Re.key).replace(Y,"$&/")+"/")+j)),q.push(Re)),1;if(Ye=0,_e=_e===""?".":_e+":",T(j))for(var Xe=0;Xe<j.length;Xe++){Ie=j[Xe];var ke=_e+H(Ie,Xe);Ye+=K(Ie,q,pe,ke,Re)}else if(ke=p(j),typeof ke=="function")for(j=ke.call(j),Xe=0;!(Ie=j.next()).done;)Ie=Ie.value,ke=_e+H(Ie,Xe++),Ye+=K(Ie,q,pe,ke,Re);else if(Ie==="object")throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ye}function ee(j,q,pe){if(j==null)return j;var _e=[],Re=0;return K(j,_e,"","",function(Ie){return q.call(pe,Ie,Re++)}),_e}function oe(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(pe){(j._status===0||j._status===-1)&&(j._status=1,j._result=pe)},function(pe){(j._status===0||j._status===-1)&&(j._status=2,j._result=pe)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var ae={current:null},$={transition:null},re={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:$,ReactCurrentOwner:C};function J(){throw Error("act(...) is not supported in production builds of React.")}return wn.Children={map:ee,forEach:function(j,q,pe){ee(j,function(){q.apply(this,arguments)},pe)},count:function(j){var q=0;return ee(j,function(){q++}),q},toArray:function(j){return ee(j,function(q){return q})||[]},only:function(j){if(!F(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},wn.Component=x,wn.Fragment=n,wn.Profiler=i,wn.PureComponent=E,wn.StrictMode=r,wn.Suspense=l,wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,wn.act=J,wn.cloneElement=function(j,q,pe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var _e=_({},j.props),Re=j.key,Ie=j.ref,Ye=j._owner;if(q!=null){if(q.ref!==void 0&&(Ie=q.ref,Ye=C.current),q.key!==void 0&&(Re=""+q.key),j.type&&j.type.defaultProps)var Xe=j.type.defaultProps;for(ke in q)P.call(q,ke)&&!L.hasOwnProperty(ke)&&(_e[ke]=q[ke]===void 0&&Xe!==void 0?Xe[ke]:q[ke])}var ke=arguments.length-2;if(ke===1)_e.children=pe;else if(1<ke){Xe=Array(ke);for(var Ze=0;Ze<ke;Ze++)Xe[Ze]=arguments[Ze+2];_e.children=Xe}return{$$typeof:t,type:j.type,key:Re,ref:Ie,props:_e,_owner:Ye}},wn.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},wn.createElement=D,wn.createFactory=function(j){var q=D.bind(null,j);return q.type=j,q},wn.createRef=function(){return{current:null}},wn.forwardRef=function(j){return{$$typeof:s,render:j}},wn.isValidElement=F,wn.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:oe}},wn.memo=function(j,q){return{$$typeof:u,type:j,compare:q===void 0?null:q}},wn.startTransition=function(j){var q=$.transition;$.transition={};try{j()}finally{$.transition=q}},wn.unstable_act=J,wn.useCallback=function(j,q){return ae.current.useCallback(j,q)},wn.useContext=function(j){return ae.current.useContext(j)},wn.useDebugValue=function(){},wn.useDeferredValue=function(j){return ae.current.useDeferredValue(j)},wn.useEffect=function(j,q){return ae.current.useEffect(j,q)},wn.useId=function(){return ae.current.useId()},wn.useImperativeHandle=function(j,q,pe){return ae.current.useImperativeHandle(j,q,pe)},wn.useInsertionEffect=function(j,q){return ae.current.useInsertionEffect(j,q)},wn.useLayoutEffect=function(j,q){return ae.current.useLayoutEffect(j,q)},wn.useMemo=function(j,q){return ae.current.useMemo(j,q)},wn.useReducer=function(j,q,pe){return ae.current.useReducer(j,q,pe)},wn.useRef=function(j){return ae.current.useRef(j)},wn.useState=function(j){return ae.current.useState(j)},wn.useSyncExternalStore=function(j,q,pe){return ae.current.useSyncExternalStore(j,q,pe)},wn.useTransition=function(){return ae.current.useTransition()},wn.version="18.3.1",wn}var CL;function j1(){return CL||(CL=1,GS.exports=Xq()),GS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RL;function Yq(){if(RL)return Eg;RL=1;var t=j1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,u){var f,h={},p=null,v=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(v=l.ref);for(f in l)r.call(l,f)&&!a.hasOwnProperty(f)&&(h[f]=l[f]);if(s&&s.defaultProps)for(f in l=s.defaultProps,l)h[f]===void 0&&(h[f]=l[f]);return{$$typeof:e,type:s,key:p,ref:v,props:h,_owner:i.current}}return Eg.Fragment=n,Eg.jsx=o,Eg.jsxs=o,Eg}var OL;function Kq(){return OL||(OL=1,WS.exports=Yq()),WS.exports}var W=Kq(),te=j1();const ge=$n(te);var J0={},$S={exports:{}},Ua={},qS={exports:{}},XS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL;function Zq(){return IL||(IL=1,function(t){function e($,re){var J=$.length;$.push(re);e:for(;0<J;){var j=J-1>>>1,q=$[j];if(0<i(q,re))$[j]=re,$[J]=q,J=j;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var re=$[0],J=$.pop();if(J!==re){$[0]=J;e:for(var j=0,q=$.length,pe=q>>>1;j<pe;){var _e=2*(j+1)-1,Re=$[_e],Ie=_e+1,Ye=$[Ie];if(0>i(Re,J))Ie<q&&0>i(Ye,Re)?($[j]=Ye,$[Ie]=J,j=Ie):($[j]=Re,$[_e]=J,j=_e);else if(Ie<q&&0>i(Ye,J))$[j]=Ye,$[Ie]=J,j=Ie;else break e}}return re}function i($,re){var J=$.sortIndex-re.sortIndex;return J!==0?J:$.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,h=null,p=3,v=!1,_=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var re=n(u);re!==null;){if(re.callback===null)r(u);else if(re.startTime<=$)r(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(u)}}function T($){if(S=!1,b($),!_)if(n(l)!==null)_=!0,oe(P);else{var re=n(u);re!==null&&ae(T,re.startTime-$)}}function P($,re){_=!1,S&&(S=!1,w(D),D=-1),v=!0;var J=p;try{for(b(re),h=n(l);h!==null&&(!(h.expirationTime>re)||$&&!z());){var j=h.callback;if(typeof j=="function"){h.callback=null,p=h.priorityLevel;var q=j(h.expirationTime<=re);re=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&r(l),b(re)}else r(l);h=n(l)}if(h!==null)var pe=!0;else{var _e=n(u);_e!==null&&ae(T,_e.startTime-re),pe=!1}return pe}finally{h=null,p=J,v=!1}}var C=!1,L=null,D=-1,I=5,F=-1;function z(){return!(t.unstable_now()-F<I)}function Y(){if(L!==null){var $=t.unstable_now();F=$;var re=!0;try{re=L(!0,$)}finally{re?H():(C=!1,L=null)}}else C=!1}var H;if(typeof E=="function")H=function(){E(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ee=K.port2;K.port1.onmessage=Y,H=function(){ee.postMessage(null)}}else H=function(){x(Y,0)};function oe($){L=$,C||(C=!0,H())}function ae($,re){D=x(function(){$(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,oe(P))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var J=p;p=re;try{return $()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=p;p=$;try{return re()}finally{p=J}},t.unstable_scheduleCallback=function($,re,J){var j=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?j+J:j):J=j,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=J+q,$={id:f++,callback:re,priorityLevel:$,startTime:J,expirationTime:q,sortIndex:-1},J>j?($.sortIndex=J,e(u,$),n(l)===null&&$===n(u)&&(S?(w(D),D=-1):S=!0,ae(T,J-j))):($.sortIndex=q,e(l,$),_||v||(_=!0,oe(P))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var re=p;return function(){var J=p;p=re;try{return $.apply(this,arguments)}finally{p=J}}}}(XS)),XS}var LL;function Jq(){return LL||(LL=1,qS.exports=Zq()),qS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NL;function Qq(){if(NL)return Ua;NL=1;var t=j1(),e=Jq();function n(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(i[c]=d,c=0;c<d.length;c++)r.add(d[c])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(c){return l.call(h,c)?!0:l.call(f,c)?!1:u.test(c)?h[c]=!0:(f[c]=!0,!1)}function v(c,d,y,A){if(y!==null&&y.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return A?!1:y!==null?!y.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function _(c,d,y,A){if(d===null||typeof d>"u"||v(c,d,y,A))return!0;if(A)return!1;if(y!==null)switch(y.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(c,d,y,A,O,k,G){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=A,this.attributeNamespace=O,this.mustUseProperty=y,this.propertyName=c,this.type=d,this.sanitizeURL=k,this.removeEmptyString=G}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){x[c]=new S(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];x[d]=new S(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){x[c]=new S(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){x[c]=new S(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){x[c]=new S(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){x[c]=new S(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){x[c]=new S(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){x[c]=new S(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){x[c]=new S(c,5,!1,c.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function E(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(w,E);x[d]=new S(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(w,E);x[d]=new S(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(w,E);x[d]=new S(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){x[c]=new S(c,1,!1,c.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){x[c]=new S(c,1,!1,c.toLowerCase(),null,!0,!0)});function b(c,d,y,A){var O=x.hasOwnProperty(d)?x[d]:null;(O!==null?O.type!==0:A||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,y,O,A)&&(y=null),A||O===null?p(d)&&(y===null?c.removeAttribute(d):c.setAttribute(d,""+y)):O.mustUseProperty?c[O.propertyName]=y===null?O.type===3?!1:"":y:(d=O.attributeName,A=O.attributeNamespace,y===null?c.removeAttribute(d):(O=O.type,y=O===3||O===4&&y===!0?"":""+y,A?c.setAttributeNS(A,d,y):c.setAttribute(d,y))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),C=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),z=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),$=Symbol.iterator;function re(c){return c===null||typeof c!="object"?null:(c=$&&c[$]||c["@@iterator"],typeof c=="function"?c:null)}var J=Object.assign,j;function q(c){if(j===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);j=d&&d[1]||""}return`
`+j+c}var pe=!1;function _e(c,d){if(!c||pe)return"";pe=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Oe){var A=Oe}Reflect.construct(c,[],d)}else{try{d.call()}catch(Oe){A=Oe}c.call(d.prototype)}else{try{throw Error()}catch(Oe){A=Oe}c()}}catch(Oe){if(Oe&&A&&typeof Oe.stack=="string"){for(var O=Oe.stack.split(`
`),k=A.stack.split(`
`),G=O.length-1,fe=k.length-1;1<=G&&0<=fe&&O[G]!==k[fe];)fe--;for(;1<=G&&0<=fe;G--,fe--)if(O[G]!==k[fe]){if(G!==1||fe!==1)do if(G--,fe--,0>fe||O[G]!==k[fe]){var me=`
`+O[G].replace(" at new "," at ");return c.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",c.displayName)),me}while(1<=G&&0<=fe);break}}}finally{pe=!1,Error.prepareStackTrace=y}return(c=c?c.displayName||c.name:"")?q(c):""}function Re(c){switch(c.tag){case 5:return q(c.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return c=_e(c.type,!1),c;case 11:return c=_e(c.type.render,!1),c;case 1:return c=_e(c.type,!0),c;default:return""}}function Ie(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case L:return"Fragment";case C:return"Portal";case I:return"Profiler";case D:return"StrictMode";case H:return"Suspense";case K:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case z:return(c.displayName||"Context")+".Consumer";case F:return(c._context.displayName||"Context")+".Provider";case Y:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case ee:return d=c.displayName||null,d!==null?d:Ie(c.type)||"Memo";case oe:d=c._payload,c=c._init;try{return Ie(c(d))}catch{}}return null}function Ye(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(d);case 8:return d===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Xe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ke(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ze(c){var d=ke(c)?"checked":"value",y=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),A=""+c[d];if(!c.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var O=y.get,k=y.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return O.call(this)},set:function(G){A=""+G,k.call(this,G)}}),Object.defineProperty(c,d,{enumerable:y.enumerable}),{getValue:function(){return A},setValue:function(G){A=""+G},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Fe(c){c._valueTracker||(c._valueTracker=Ze(c))}function Z(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var y=d.getValue(),A="";return c&&(A=ke(c)?c.checked?"true":"false":c.value),c=A,c!==y?(d.setValue(c),!0):!1}function Ne(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function be(c,d){var y=d.checked;return J({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??c._wrapperState.initialChecked})}function qe(c,d){var y=d.defaultValue==null?"":d.defaultValue,A=d.checked!=null?d.checked:d.defaultChecked;y=Xe(d.value!=null?d.value:y),c._wrapperState={initialChecked:A,initialValue:y,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Be(c,d){d=d.checked,d!=null&&b(c,"checked",d,!1)}function ot(c,d){Be(c,d);var y=Xe(d.value),A=d.type;if(y!=null)A==="number"?(y===0&&c.value===""||c.value!=y)&&(c.value=""+y):c.value!==""+y&&(c.value=""+y);else if(A==="submit"||A==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?dt(c,d.type,y):d.hasOwnProperty("defaultValue")&&dt(c,d.type,Xe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function lt(c,d,y){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var A=d.type;if(!(A!=="submit"&&A!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,y||d===c.value||(c.value=d),c.defaultValue=d}y=c.name,y!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,y!==""&&(c.name=y)}function dt(c,d,y){(d!=="number"||Ne(c.ownerDocument)!==c)&&(y==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+y&&(c.defaultValue=""+y))}var Tt=Array.isArray;function Bt(c,d,y,A){if(c=c.options,d){d={};for(var O=0;O<y.length;O++)d["$"+y[O]]=!0;for(y=0;y<c.length;y++)O=d.hasOwnProperty("$"+c[y].value),c[y].selected!==O&&(c[y].selected=O),O&&A&&(c[y].defaultSelected=!0)}else{for(y=""+Xe(y),d=null,O=0;O<c.length;O++){if(c[O].value===y){c[O].selected=!0,A&&(c[O].defaultSelected=!0);return}d!==null||c[O].disabled||(d=c[O])}d!==null&&(d.selected=!0)}}function ln(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function le(c,d){var y=d.value;if(y==null){if(y=d.children,d=d.defaultValue,y!=null){if(d!=null)throw Error(n(92));if(Tt(y)){if(1<y.length)throw Error(n(93));y=y[0]}d=y}d==null&&(d=""),y=d}c._wrapperState={initialValue:Xe(y)}}function Q(c,d){var y=Xe(d.value),A=Xe(d.defaultValue);y!=null&&(y=""+y,y!==c.value&&(c.value=y),d.defaultValue==null&&c.defaultValue!==y&&(c.defaultValue=y)),A!=null&&(c.defaultValue=""+A)}function Le(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function tt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ke(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?tt(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var st,Et=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,y,A,O){MSApp.execUnsafeLocalFunction(function(){return c(d,y,A,O)})}:c}(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=st.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function ft(c,d){if(d){var y=c.firstChild;if(y&&y===c.lastChild&&y.nodeType===3){y.nodeValue=d;return}}c.textContent=d}var ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zt=["Webkit","ms","Moz","O"];Object.keys(ze).forEach(function(c){zt.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),ze[d]=ze[c]})});function Ot(c,d,y){return d==null||typeof d=="boolean"||d===""?"":y||typeof d!="number"||d===0||ze.hasOwnProperty(c)&&ze[c]?(""+d).trim():d+"px"}function _t(c,d){c=c.style;for(var y in d)if(d.hasOwnProperty(y)){var A=y.indexOf("--")===0,O=Ot(y,d[y],A);y==="float"&&(y="cssFloat"),A?c.setProperty(y,O):c[y]=O}}var St=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function he(c,d){if(d){if(St[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Ue(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function de(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var we=null,Me=null,Qe=null;function gt(c){if(c=es(c)){if(typeof we!="function")throw Error(n(280));var d=c.stateNode;d&&(d=yd(d),we(c.stateNode,c.type,d))}}function un(c){Me?Qe?Qe.push(c):Qe=[c]:Me=c}function dn(){if(Me){var c=Me,d=Qe;if(Qe=Me=null,gt(c),d)for(c=0;c<d.length;c++)gt(d[c])}}function An(c,d){return c(d)}function yr(){}var bn=!1;function xr(c,d,y){if(bn)return c(d,y);bn=!0;try{return An(c,d,y)}finally{bn=!1,(Me!==null||Qe!==null)&&(yr(),dn())}}function jn(c,d){var y=c.stateNode;if(y===null)return null;var A=yd(y);if(A===null)return null;y=A[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(c=c.type,A=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!A;break e;default:c=!1}if(c)return null;if(y&&typeof y!="function")throw Error(n(231,d,typeof y));return y}var Us=!1;if(s)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){Us=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{Us=!1}function Go(c,d,y,A,O,k,G,fe,me){var Oe=Array.prototype.slice.call(arguments,3);try{d.apply(y,Oe)}catch(et){this.onError(et)}}var ji=!1,ra=null,Ur=!1,an=null,Eu={onError:function(c){ji=!0,ra=c}};function zc(c,d,y,A,O,k,G,fe,me){ji=!1,ra=null,Go.apply(Eu,arguments)}function V(c,d,y,A,O,k,G,fe,me){if(zc.apply(this,arguments),ji){if(ji){var Oe=ra;ji=!1,ra=null}else throw Error(n(198));Ur||(Ur=!0,an=Oe)}}function U(c){var d=c,y=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(y=d.return),c=d.return;while(c)}return d.tag===3?y:null}function X(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function se(c){if(U(c)!==c)throw Error(n(188))}function ie(c){var d=c.alternate;if(!d){if(d=U(c),d===null)throw Error(n(188));return d!==c?null:c}for(var y=c,A=d;;){var O=y.return;if(O===null)break;var k=O.alternate;if(k===null){if(A=O.return,A!==null){y=A;continue}break}if(O.child===k.child){for(k=O.child;k;){if(k===y)return se(O),c;if(k===A)return se(O),d;k=k.sibling}throw Error(n(188))}if(y.return!==A.return)y=O,A=k;else{for(var G=!1,fe=O.child;fe;){if(fe===y){G=!0,y=O,A=k;break}if(fe===A){G=!0,A=O,y=k;break}fe=fe.sibling}if(!G){for(fe=k.child;fe;){if(fe===y){G=!0,y=k,A=O;break}if(fe===A){G=!0,A=k,y=O;break}fe=fe.sibling}if(!G)throw Error(n(189))}}if(y.alternate!==A)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?c:d}function ce(c){return c=ie(c),c!==null?Ee(c):null}function Ee(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=Ee(c);if(d!==null)return d;c=c.sibling}return null}var Pe=e.unstable_scheduleCallback,Ve=e.unstable_cancelCallback,He=e.unstable_shouldYield,$e=e.unstable_requestPaint,Ce=e.unstable_now,wt=e.unstable_getCurrentPriorityLevel,ut=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,Dt=e.unstable_NormalPriority,Ht=e.unstable_LowPriority,jt=e.unstable_IdlePriority,yt=null,Ut=null;function It(c){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(yt,c,void 0,(c.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:kn,Dn=Math.log,Zt=Math.LN2;function kn(c){return c>>>=0,c===0?32:31-(Dn(c)/Zt|0)|0}var Mn=64,On=4194304;function er(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Kt(c,d){var y=c.pendingLanes;if(y===0)return 0;var A=0,O=c.suspendedLanes,k=c.pingedLanes,G=y&268435455;if(G!==0){var fe=G&~O;fe!==0?A=er(fe):(k&=G,k!==0&&(A=er(k)))}else G=y&~O,G!==0?A=er(G):k!==0&&(A=er(k));if(A===0)return 0;if(d!==0&&d!==A&&(d&O)===0&&(O=A&-A,k=d&-d,O>=k||O===16&&(k&4194240)!==0))return d;if((A&4)!==0&&(A|=y&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=A;0<d;)y=31-Vt(d),O=1<<y,A|=c[y],d&=~O;return A}function dr(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(c,d){for(var y=c.suspendedLanes,A=c.pingedLanes,O=c.expirationTimes,k=c.pendingLanes;0<k;){var G=31-Vt(k),fe=1<<G,me=O[G];me===-1?((fe&y)===0||(fe&A)!==0)&&(O[G]=dr(fe,d)):me<=d&&(c.expiredLanes|=fe),k&=~fe}}function xn(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function tr(){var c=Mn;return Mn<<=1,(Mn&4194240)===0&&(Mn=64),c}function $a(c){for(var d=[],y=0;31>y;y++)d.push(c);return d}function Fr(c,d,y){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Vt(d),c[d]=y}function xo(c,d){var y=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var A=c.eventTimes;for(c=c.expirationTimes;0<y;){var O=31-Vt(y),k=1<<O;d[O]=0,A[O]=-1,c[O]=-1,y&=~k}}function Au(c,d){var y=c.entangledLanes|=d;for(c=c.entanglements;y;){var A=31-Vt(y),O=1<<A;O&d|c[A]&d&&(c[A]|=d),y&=~O}}var Cn=0;function Tu(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var jc,Rm,a0,zh,jh,gl=!1,Vh=[],_o=null,pn=null,$o=null,vl=new Map,Pu=new Map,Fs=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Br(c,d){switch(c){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":vl.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(d.pointerId)}}function yl(c,d,y,A,O,k){return c===null||c.nativeEvent!==k?(c={blockedOn:d,domEventName:y,eventSystemFlags:A,nativeEvent:k,targetContainers:[O]},d!==null&&(d=es(d),d!==null&&Rm(d)),c):(c.eventSystemFlags|=A,d=c.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),c)}function gS(c,d,y,A,O){switch(d){case"focusin":return _o=yl(_o,c,d,y,A,O),!0;case"dragenter":return pn=yl(pn,c,d,y,A,O),!0;case"mouseover":return $o=yl($o,c,d,y,A,O),!0;case"pointerover":var k=O.pointerId;return vl.set(k,yl(vl.get(k)||null,c,d,y,A,O)),!0;case"gotpointercapture":return k=O.pointerId,Pu.set(k,yl(Pu.get(k)||null,c,d,y,A,O)),!0}return!1}function Hh(c){var d=Gs(c.target);if(d!==null){var y=U(d);if(y!==null){if(d=y.tag,d===13){if(d=X(y),d!==null){c.blockedOn=d,jh(c.priority,function(){a0(y)});return}}else if(d===3&&y.stateNode.current.memoizedState.isDehydrated){c.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Wh(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var y=Ta(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(y===null){y=c.nativeEvent;var A=new y.constructor(y.type,y);nt=A,y.target.dispatchEvent(A),nt=null}else return d=es(y),d!==null&&Rm(d),c.blockedOn=y,!1;d.shift()}return!0}function Vc(c,d,y){Wh(c)&&y.delete(d)}function wo(){gl=!1,_o!==null&&Wh(_o)&&(_o=null),pn!==null&&Wh(pn)&&(pn=null),$o!==null&&Wh($o)&&($o=null),vl.forEach(Vc),Pu.forEach(Vc)}function Hc(c,d){c.blockedOn===d&&(c.blockedOn=null,gl||(gl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wo)))}function Wc(c){function d(O){return Hc(O,c)}if(0<Vh.length){Hc(Vh[0],c);for(var y=1;y<Vh.length;y++){var A=Vh[y];A.blockedOn===c&&(A.blockedOn=null)}}for(_o!==null&&Hc(_o,c),pn!==null&&Hc(pn,c),$o!==null&&Hc($o,c),vl.forEach(d),Pu.forEach(d),y=0;y<Fs.length;y++)A=Fs[y],A.blockedOn===c&&(A.blockedOn=null);for(;0<Fs.length&&(y=Fs[0],y.blockedOn===null);)Hh(y),y.blockedOn===null&&Fs.shift()}var Pi=T.ReactCurrentBatchConfig,Aa=!0;function Gh(c,d,y,A){var O=Cn,k=Pi.transition;Pi.transition=null;try{Cn=1,$h(c,d,y,A)}finally{Cn=O,Pi.transition=k}}function Om(c,d,y,A){var O=Cn,k=Pi.transition;Pi.transition=null;try{Cn=4,$h(c,d,y,A)}finally{Cn=O,Pi.transition=k}}function $h(c,d,y,A){if(Aa){var O=Ta(c,d,y,A);if(O===null)hd(c,d,A,qh,y),Br(c,A);else if(gS(O,c,d,y,A))A.stopPropagation();else if(Br(c,A),d&4&&-1<mS.indexOf(c)){for(;O!==null;){var k=es(O);if(k!==null&&jc(k),k=Ta(c,d,y,A),k===null&&hd(c,d,A,qh,y),k===O)break;O=k}O!==null&&A.stopPropagation()}else hd(c,d,A,null,y)}}var qh=null;function Ta(c,d,y,A){if(qh=null,c=de(A),c=Gs(c),c!==null)if(d=U(c),d===null)c=null;else if(y=d.tag,y===13){if(c=X(d),c!==null)return c;c=null}else if(y===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return qh=c,null}function o0(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wt()){case ut:return 1;case pt:return 4;case Dt:case Ht:return 16;case jt:return 536870912;default:return 16}default:return 16}}var qa=null,Im=null,Vi=null;function Gc(){if(Vi)return Vi;var c,d=Im,y=d.length,A,O="value"in qa?qa.value:qa.textContent,k=O.length;for(c=0;c<y&&d[c]===O[c];c++);var G=y-c;for(A=1;A<=G&&d[y-A]===O[k-A];A++);return Vi=O.slice(c,1<A?1-A:void 0)}function xl(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function qo(){return!0}function Xh(){return!1}function Ci(c){function d(y,A,O,k,G){this._reactName=y,this._targetInst=O,this.type=A,this.nativeEvent=k,this.target=G,this.currentTarget=null;for(var fe in c)c.hasOwnProperty(fe)&&(y=c[fe],this[fe]=y?y(k):k[fe]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?qo:Xh,this.isPropagationStopped=Xh,this}return J(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),d}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Ci(_l),wl=J({},_l,{view:0,detail:0}),Cu=Ci(wl),Hi,Pa,Ca,Ru=J({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ca&&(Ca&&c.type==="mousemove"?(Hi=c.screenX-Ca.screenX,Pa=c.screenY-Ca.screenY):Pa=Hi=0,Ca=c),Hi)},movementY:function(c){return"movementY"in c?c.movementY:Pa}}),Lm=Ci(Ru),Xo=J({},Ru,{dataTransfer:0}),Bs=Ci(Xo),Yh=J({},wl,{relatedTarget:0}),Kh=Ci(Yh),Zh=J({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),s0=Ci(Zh),l0=J({},_l,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Nm=Ci(l0),Jh=J({},_l,{data:0}),Dm=Ci(Jh),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=km[c])?!!d[c]:!1}function zs(){return Ou}var Qh=J({},wl,{key:function(c){if(c.key){var d=u0[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=xl(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?c0[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(c){return c.type==="keypress"?xl(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?xl(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),ed=Ci(Qh),Ra=J({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ia=Ci(Ra),Sl=J({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),Yo=Ci(Sl),Ko=J({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),bl=Ci(Ko),f0=J({},Ru,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Um=Ci(f0),Fm=[9,13,27,32],Ri=s&&"CompositionEvent"in window,ni=null;s&&"documentMode"in document&&(ni=document.documentMode);var sr=s&&"TextEvent"in window&&!ni,Iu=s&&(!Ri||ni&&8<ni&&11>=ni),Oa=" ",Bm=!1;function zm(c,d){switch(c){case"keyup":return Fm.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var js=!1;function h0(c,d){switch(c){case"compositionend":return td(d);case"keypress":return d.which!==32?null:(Bm=!0,Oa);case"textInput":return c=d.data,c===Oa&&Bm?null:c;default:return null}}function qc(c,d){if(js)return c==="compositionend"||!Ri&&zm(c,d)?(c=Gc(),Vi=Im=qa=null,js=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Iu&&d.locale!=="ko"?null:d.data;default:return null}}var Lu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Lu[c.type]:d==="textarea"}function Nu(c,d,y,A){un(A),d=dd(d,"onChange"),0<d.length&&(y=new $c("onChange","change",null,y,A),c.push({event:y,listeners:d}))}var Vs=null,Du=null;function d0(c){Bu(c,0)}function Zo(c){var d=Er(c);if(Z(d))return c}function p0(c,d){if(c==="change")return d}var ku=!1;if(s){var Wi;if(s){var Ml="oninput"in document;if(!Ml){var El=document.createElement("div");El.setAttribute("oninput","return;"),Ml=typeof El.oninput=="function"}Wi=Ml}else Wi=!1;ku=Wi&&(!document.documentMode||9<document.documentMode)}function Xa(){Vs&&(Vs.detachEvent("onpropertychange",rd),Du=Vs=null)}function rd(c){if(c.propertyName==="value"&&Zo(Du)){var d=[];Nu(d,Du,c,de(c)),xr(d0,d)}}function Uu(c,d,y){c==="focusin"?(Xa(),Vs=d,Du=y,Vs.attachEvent("onpropertychange",rd)):c==="focusout"&&Xa()}function m0(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Zo(Du)}function jm(c,d){if(c==="click")return Zo(d)}function pr(c,d){if(c==="input"||c==="change")return Zo(d)}function id(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var aa=typeof Object.is=="function"?Object.is:id;function Al(c,d){if(aa(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var y=Object.keys(c),A=Object.keys(d);if(y.length!==A.length)return!1;for(A=0;A<y.length;A++){var O=y[A];if(!l.call(d,O)||!aa(c[O],d[O]))return!1}return!0}function Xc(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function oa(c,d){var y=Xc(c);c=0;for(var A;y;){if(y.nodeType===3){if(A=c+y.textContent.length,c<=d&&A>=d)return{node:y,offset:d-c};c=A}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Xc(y)}}function Tl(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?Tl(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function mr(){for(var c=window,d=Ne();d instanceof c.HTMLIFrameElement;){try{var y=typeof d.contentWindow.location.href=="string"}catch{y=!1}if(y)c=d.contentWindow;else break;d=Ne(c.document)}return d}function $r(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function qr(c){var d=mr(),y=c.focusedElem,A=c.selectionRange;if(d!==y&&y&&y.ownerDocument&&Tl(y.ownerDocument.documentElement,y)){if(A!==null&&$r(y)){if(d=A.start,c=A.end,c===void 0&&(c=d),"selectionStart"in y)y.selectionStart=d,y.selectionEnd=Math.min(c,y.value.length);else if(c=(d=y.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var O=y.textContent.length,k=Math.min(A.start,O);A=A.end===void 0?k:Math.min(A.end,O),!c.extend&&k>A&&(O=A,A=k,k=O),O=oa(y,k);var G=oa(y,A);O&&G&&(c.rangeCount!==1||c.anchorNode!==O.node||c.anchorOffset!==O.offset||c.focusNode!==G.node||c.focusOffset!==G.offset)&&(d=d.createRange(),d.setStart(O.node,O.offset),c.removeAllRanges(),k>A?(c.addRange(d),c.extend(G.node,G.offset)):(d.setEnd(G.node,G.offset),c.addRange(d)))}}for(d=[],c=y;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<d.length;y++)c=d[y],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var ad=s&&"documentMode"in document&&11>=document.documentMode,So=null,Pl=null,Yc=null,Xr=!1;function od(c,d,y){var A=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Xr||So==null||So!==Ne(A)||(A=So,"selectionStart"in A&&$r(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Yc&&Al(Yc,A)||(Yc=A,A=dd(Pl,"onSelect"),0<A.length&&(d=new $c("onSelect","select",null,d,y),c.push({event:d,listeners:A}),d.target=So)))}function Fu(c,d){var y={};return y[c.toLowerCase()]=d.toLowerCase(),y["Webkit"+c]="webkit"+d,y["Moz"+c]="moz"+d,y}var Hs={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},Ya={},Ka={};s&&(Ka=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function bo(c){if(Ya[c])return Ya[c];if(!Hs[c])return c;var d=Hs[c],y;for(y in d)if(d.hasOwnProperty(y)&&y in Ka)return Ya[c]=d[y];return c}var Kc=bo("animationend"),Zc=bo("animationiteration"),Vm=bo("animationstart"),Hm=bo("transitionend"),Wm=new Map,Gm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(c,d){Wm.set(c,d),a(d,[c])}for(var sd=0;sd<Gm.length;sd++){var Jc=Gm[sd],Qc=Jc.toLowerCase(),g0=Jc[0].toUpperCase()+Jc.slice(1);Jo(Qc,"on"+g0)}Jo(Kc,"onAnimationEnd"),Jo(Zc,"onAnimationIteration"),Jo(Vm,"onAnimationStart"),Jo("dblclick","onDoubleClick"),Jo("focusin","onFocus"),Jo("focusout","onBlur"),Jo(Hm,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ld=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function ud(c,d,y){var A=c.type||"unknown-event";c.currentTarget=y,V(A,d,void 0,c),c.currentTarget=null}function Bu(c,d){d=(d&4)!==0;for(var y=0;y<c.length;y++){var A=c[y],O=A.event;A=A.listeners;e:{var k=void 0;if(d)for(var G=A.length-1;0<=G;G--){var fe=A[G],me=fe.instance,Oe=fe.currentTarget;if(fe=fe.listener,me!==k&&O.isPropagationStopped())break e;ud(O,fe,Oe),k=me}else for(G=0;G<A.length;G++){if(fe=A[G],me=fe.instance,Oe=fe.currentTarget,fe=fe.listener,me!==k&&O.isPropagationStopped())break e;ud(O,fe,Oe),k=me}}}if(Ur)throw c=an,Ur=!1,an=null,c}function Kn(c,d){var y=d[Ol];y===void 0&&(y=d[Ol]=new Set);var A=c+"__bubble";y.has(A)||(fd(d,c,2,!1),y.add(A))}function cd(c,d,y){var A=0;d&&(A|=4),fd(y,c,A,d)}var ef="_reactListening"+Math.random().toString(36).slice(2);function zu(c){if(!c[ef]){c[ef]=!0,r.forEach(function(y){y!=="selectionchange"&&(ld.has(y)||cd(y,!1,c),cd(y,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[ef]||(d[ef]=!0,cd("selectionchange",!1,d))}}function fd(c,d,y,A){switch(o0(d)){case 1:var O=Gh;break;case 4:O=Om;break;default:O=$h}y=O.bind(null,d,y,c),O=void 0,!Us||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),A?O!==void 0?c.addEventListener(d,y,{capture:!0,passive:O}):c.addEventListener(d,y,!0):O!==void 0?c.addEventListener(d,y,{passive:O}):c.addEventListener(d,y,!1)}function hd(c,d,y,A,O){var k=A;if((d&1)===0&&(d&2)===0&&A!==null)e:for(;;){if(A===null)return;var G=A.tag;if(G===3||G===4){var fe=A.stateNode.containerInfo;if(fe===O||fe.nodeType===8&&fe.parentNode===O)break;if(G===4)for(G=A.return;G!==null;){var me=G.tag;if((me===3||me===4)&&(me=G.stateNode.containerInfo,me===O||me.nodeType===8&&me.parentNode===O))return;G=G.return}for(;fe!==null;){if(G=Gs(fe),G===null)return;if(me=G.tag,me===5||me===6){A=k=G;continue e}fe=fe.parentNode}}A=A.return}xr(function(){var Oe=k,et=de(y),rt=[];e:{var Je=Wm.get(c);if(Je!==void 0){var bt=$c,Rt=c;switch(c){case"keypress":if(xl(y)===0)break e;case"keydown":case"keyup":bt=ed;break;case"focusin":Rt="focus",bt=Kh;break;case"focusout":Rt="blur",bt=Kh;break;case"beforeblur":case"afterblur":bt=Kh;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=Bs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=Yo;break;case Kc:case Zc:case Vm:bt=s0;break;case Hm:bt=bl;break;case"scroll":bt=Cu;break;case"wheel":bt=Um;break;case"copy":case"cut":case"paste":bt=Nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=ia}var Nt=(d&4)!==0,jr=!Nt&&c==="scroll",Se=Nt?Je!==null?Je+"Capture":null:Je;Nt=[];for(var ve=Oe,Ae;ve!==null;){Ae=ve;var at=Ae.stateNode;if(Ae.tag===5&&at!==null&&(Ae=at,Se!==null&&(at=jn(ve,Se),at!=null&&Nt.push(ju(ve,at,Ae)))),jr)break;ve=ve.return}0<Nt.length&&(Je=new bt(Je,Rt,null,y,et),rt.push({event:Je,listeners:Nt}))}}if((d&7)===0){e:{if(Je=c==="mouseover"||c==="pointerover",bt=c==="mouseout"||c==="pointerout",Je&&y!==nt&&(Rt=y.relatedTarget||y.fromElement)&&(Gs(Rt)||Rt[sa]))break e;if((bt||Je)&&(Je=et.window===et?et:(Je=et.ownerDocument)?Je.defaultView||Je.parentWindow:window,bt?(Rt=y.relatedTarget||y.toElement,bt=Oe,Rt=Rt?Gs(Rt):null,Rt!==null&&(jr=U(Rt),Rt!==jr||Rt.tag!==5&&Rt.tag!==6)&&(Rt=null)):(bt=null,Rt=Oe),bt!==Rt)){if(Nt=Lm,at="onMouseLeave",Se="onMouseEnter",ve="mouse",(c==="pointerout"||c==="pointerover")&&(Nt=ia,at="onPointerLeave",Se="onPointerEnter",ve="pointer"),jr=bt==null?Je:Er(bt),Ae=Rt==null?Je:Er(Rt),Je=new Nt(at,ve+"leave",bt,y,et),Je.target=jr,Je.relatedTarget=Ae,at=null,Gs(et)===Oe&&(Nt=new Nt(Se,ve+"enter",Rt,y,et),Nt.target=Ae,Nt.relatedTarget=jr,at=Nt),jr=at,bt&&Rt)t:{for(Nt=bt,Se=Rt,ve=0,Ae=Nt;Ae;Ae=Cl(Ae))ve++;for(Ae=0,at=Se;at;at=Cl(at))Ae++;for(;0<ve-Ae;)Nt=Cl(Nt),ve--;for(;0<Ae-ve;)Se=Cl(Se),Ae--;for(;ve--;){if(Nt===Se||Se!==null&&Nt===Se.alternate)break t;Nt=Cl(Nt),Se=Cl(Se)}Nt=null}else Nt=null;bt!==null&&v0(rt,Je,bt,Nt,!1),Rt!==null&&jr!==null&&v0(rt,jr,Rt,Nt,!0)}}e:{if(Je=Oe?Er(Oe):window,bt=Je.nodeName&&Je.nodeName.toLowerCase(),bt==="select"||bt==="input"&&Je.type==="file")var Ft=p0;else if(nd(Je))if(ku)Ft=pr;else{Ft=m0;var Gt=Uu}else(bt=Je.nodeName)&&bt.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Ft=jm);if(Ft&&(Ft=Ft(c,Oe))){Nu(rt,Ft,y,et);break e}Gt&&Gt(c,Je,Oe),c==="focusout"&&(Gt=Je._wrapperState)&&Gt.controlled&&Je.type==="number"&&dt(Je,"number",Je.value)}switch(Gt=Oe?Er(Oe):window,c){case"focusin":(nd(Gt)||Gt.contentEditable==="true")&&(So=Gt,Pl=Oe,Yc=null);break;case"focusout":Yc=Pl=So=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":Xr=!1,od(rt,y,et);break;case"selectionchange":if(ad)break;case"keydown":case"keyup":od(rt,y,et)}var $t;if(Ri)e:{switch(c){case"compositionstart":var en="onCompositionStart";break e;case"compositionend":en="onCompositionEnd";break e;case"compositionupdate":en="onCompositionUpdate";break e}en=void 0}else js?zm(c,y)&&(en="onCompositionEnd"):c==="keydown"&&y.keyCode===229&&(en="onCompositionStart");en&&(Iu&&y.locale!=="ko"&&(js||en!=="onCompositionStart"?en==="onCompositionEnd"&&js&&($t=Gc()):(qa=et,Im="value"in qa?qa.value:qa.textContent,js=!0)),Gt=dd(Oe,en),0<Gt.length&&(en=new Dm(en,c,null,y,et),rt.push({event:en,listeners:Gt}),$t?en.data=$t:($t=td(y),$t!==null&&(en.data=$t)))),($t=sr?h0(c,y):qc(c,y))&&(Oe=dd(Oe,"onBeforeInput"),0<Oe.length&&(et=new Dm("onBeforeInput","beforeinput",null,y,et),rt.push({event:et,listeners:Oe}),et.data=$t))}Bu(rt,d)})}function ju(c,d,y){return{instance:c,listener:d,currentTarget:y}}function dd(c,d){for(var y=d+"Capture",A=[];c!==null;){var O=c,k=O.stateNode;O.tag===5&&k!==null&&(O=k,k=jn(c,y),k!=null&&A.unshift(ju(c,k,O)),k=jn(c,d),k!=null&&A.push(ju(c,k,O))),c=c.return}return A}function Cl(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function v0(c,d,y,A,O){for(var k=d._reactName,G=[];y!==null&&y!==A;){var fe=y,me=fe.alternate,Oe=fe.stateNode;if(me!==null&&me===A)break;fe.tag===5&&Oe!==null&&(fe=Oe,O?(me=jn(y,k),me!=null&&G.unshift(ju(y,me,fe))):O||(me=jn(y,k),me!=null&&G.push(ju(y,me,fe)))),y=y.return}G.length!==0&&c.push({event:d,listeners:G})}var vS=/\r\n?/g,y0=/\u0000|\uFFFD/g;function $m(c){return(typeof c=="string"?c:""+c).replace(vS,`
`).replace(y0,"")}function tf(c,d,y){if(d=$m(d),$m(c)!==d&&y)throw Error(n(425))}function nf(){}var Vu=null,qm=null;function Xm(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,Km=typeof clearTimeout=="function"?clearTimeout:void 0,pd=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof pd<"u"?function(c){return pd.resolve(null).then(c).catch(x0)}:Ym;function x0(c){setTimeout(function(){throw c})}function md(c,d){var y=d,A=0;do{var O=y.nextSibling;if(c.removeChild(y),O&&O.nodeType===8)if(y=O.data,y==="/$"){if(A===0){c.removeChild(O),Wc(d);return}A--}else y!=="$"&&y!=="$?"&&y!=="$!"||A++;y=O}while(y);Wc(d)}function Qo(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function Zm(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var y=c.data;if(y==="$"||y==="$!"||y==="$?"){if(d===0)return c;d--}else y==="/$"&&d++}c=c.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),zr="__reactFiber$"+Rl,Hu="__reactProps$"+Rl,sa="__reactContainer$"+Rl,Ol="__reactEvents$"+Rl,gd="__reactListeners$"+Rl,vd="__reactHandles$"+Rl;function Gs(c){var d=c[zr];if(d)return d;for(var y=c.parentNode;y;){if(d=y[sa]||y[zr]){if(y=d.alternate,d.child!==null||y!==null&&y.child!==null)for(c=Zm(c);c!==null;){if(y=c[zr])return y;c=Zm(c)}return d}c=y,y=c.parentNode}return null}function es(c){return c=c[zr]||c[sa],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Er(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function yd(c){return c[Hu]||null}var Jm=[],Yr=-1;function _r(c){return{current:c}}function Zn(c){0>Yr||(c.current=Jm[Yr],Jm[Yr]=null,Yr--)}function qn(c,d){Yr++,Jm[Yr]=c.current,c.current=d}var ts={},ri=_r(ts),Oi=_r(!1),ns=ts;function Il(c,d){var y=c.type.contextTypes;if(!y)return ts;var A=c.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===d)return A.__reactInternalMemoizedMaskedChildContext;var O={},k;for(k in y)O[k]=d[k];return A&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=O),O}function vi(c){return c=c.childContextTypes,c!=null}function rf(){Zn(Oi),Zn(ri)}function Qm(c,d,y){if(ri.current!==ts)throw Error(n(168));qn(ri,d),qn(Oi,y)}function af(c,d,y){var A=c.stateNode;if(d=d.childContextTypes,typeof A.getChildContext!="function")return y;A=A.getChildContext();for(var O in A)if(!(O in d))throw Error(n(108,Ye(c)||"Unknown",O));return J({},y,A)}function Ll(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ts,ns=ri.current,qn(ri,c),qn(Oi,Oi.current),!0}function eg(c,d,y){var A=c.stateNode;if(!A)throw Error(n(169));y?(c=af(c,d,ns),A.__reactInternalMemoizedMergedChildContext=c,Zn(Oi),Zn(ri),qn(ri,c)):Zn(Oi),qn(Oi,y)}var Za=null,of=!1,xd=!1;function sf(c){Za===null?Za=[c]:Za.push(c)}function _0(c){of=!0,sf(c)}function Mo(){if(!xd&&Za!==null){xd=!0;var c=0,d=Cn;try{var y=Za;for(Cn=1;c<y.length;c++){var A=y[c];do A=A(!0);while(A!==null)}Za=null,of=!1}catch(O){throw Za!==null&&(Za=Za.slice(c+1)),Pe(ut,Mo),O}finally{Cn=d,xd=!1}}return null}var Nl=[],Gi=0,_d=null,wd=0,Ii=[],Kr=0,Dl=null,ht=1,Ia="";function rs(c,d){Nl[Gi++]=wd,Nl[Gi++]=_d,_d=c,wd=d}function tg(c,d,y){Ii[Kr++]=ht,Ii[Kr++]=Ia,Ii[Kr++]=Dl,Dl=c;var A=ht;c=Ia;var O=32-Vt(A)-1;A&=~(1<<O),y+=1;var k=32-Vt(d)+O;if(30<k){var G=O-O%5;k=(A&(1<<G)-1).toString(32),A>>=G,O-=G,ht=1<<32-Vt(d)+O|y<<O|A,Ia=k+c}else ht=1<<k|y<<O|A,Ia=c}function ng(c){c.return!==null&&(rs(c,1),tg(c,1,0))}function is(c){for(;c===_d;)_d=Nl[--Gi],Nl[Gi]=null,wd=Nl[--Gi],Nl[Gi]=null;for(;c===Dl;)Dl=Ii[--Kr],Ii[Kr]=null,Ia=Ii[--Kr],Ii[Kr]=null,ht=Ii[--Kr],Ii[Kr]=null}var ii=null,Li=null,nr=!1,La=null;function rg(c,d){var y=Co(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=c,d=c.deletions,d===null?(c.deletions=[y],c.flags|=16):d.push(y)}function ig(c,d){switch(c.tag){case 5:var y=c.type;return d=d.nodeType!==1||y.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,ii=c,Li=Qo(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,ii=c,Li=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(y=Dl!==null?{id:ht,overflow:Ia}:null,c.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=Co(18,null,null,0),y.stateNode=d,y.return=c,c.child=y,ii=c,Li=null,!0):!1;default:return!1}}function Sd(c){return(c.mode&1)!==0&&(c.flags&128)===0}function bd(c){if(nr){var d=Li;if(d){var y=d;if(!ig(c,d)){if(Sd(c))throw Error(n(418));d=Qo(y.nextSibling);var A=ii;d&&ig(c,d)?rg(A,y):(c.flags=c.flags&-4097|2,nr=!1,ii=c)}}else{if(Sd(c))throw Error(n(418));c.flags=c.flags&-4097|2,nr=!1,ii=c}}}function Md(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ii=c}function Wu(c){if(c!==ii)return!1;if(!nr)return Md(c),nr=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!Xm(c.type,c.memoizedProps)),d&&(d=Li)){if(Sd(c))throw ag(),Error(n(418));for(;d;)rg(c,d),d=Qo(d.nextSibling)}if(Md(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var y=c.data;if(y==="/$"){if(d===0){Li=Qo(c.nextSibling);break e}d--}else y!=="$"&&y!=="$!"&&y!=="$?"||d++}c=c.nextSibling}Li=null}}else Li=ii?Qo(c.stateNode.nextSibling):null;return!0}function ag(){for(var c=Li;c;)c=Qo(c.nextSibling)}function $s(){Li=ii=null,nr=!1}function Gu(c){La===null?La=[c]:La.push(c)}var xS=T.ReactCurrentBatchConfig;function lf(c,d,y){if(c=y.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var A=y.stateNode}if(!A)throw Error(n(147,c));var O=A,k=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===k?d.ref:(d=function(G){var fe=O.refs;G===null?delete fe[k]:fe[k]=G},d._stringRef=k,d)}if(typeof c!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,c))}return c}function uf(c,d){throw c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function og(c){var d=c._init;return d(c._payload)}function sg(c){function d(Se,ve){if(c){var Ae=Se.deletions;Ae===null?(Se.deletions=[ve],Se.flags|=16):Ae.push(ve)}}function y(Se,ve){if(!c)return null;for(;ve!==null;)d(Se,ve),ve=ve.sibling;return null}function A(Se,ve){for(Se=new Map;ve!==null;)ve.key!==null?Se.set(ve.key,ve):Se.set(ve.index,ve),ve=ve.sibling;return Se}function O(Se,ve){return Se=nc(Se,ve),Se.index=0,Se.sibling=null,Se}function k(Se,ve,Ae){return Se.index=Ae,c?(Ae=Se.alternate,Ae!==null?(Ae=Ae.index,Ae<ve?(Se.flags|=2,ve):Ae):(Se.flags|=2,ve)):(Se.flags|=1048576,ve)}function G(Se){return c&&Se.alternate===null&&(Se.flags|=2),Se}function fe(Se,ve,Ae,at){return ve===null||ve.tag!==6?(ve=FS(Ae,Se.mode,at),ve.return=Se,ve):(ve=O(ve,Ae),ve.return=Se,ve)}function me(Se,ve,Ae,at){var Ft=Ae.type;return Ft===L?et(Se,ve,Ae.props.children,at,Ae.key):ve!==null&&(ve.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===oe&&og(Ft)===ve.type)?(at=O(ve,Ae.props),at.ref=lf(Se,ve,Ae),at.return=Se,at):(at=H0(Ae.type,Ae.key,Ae.props,null,Se.mode,at),at.ref=lf(Se,ve,Ae),at.return=Se,at)}function Oe(Se,ve,Ae,at){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ae.containerInfo||ve.stateNode.implementation!==Ae.implementation?(ve=BS(Ae,Se.mode,at),ve.return=Se,ve):(ve=O(ve,Ae.children||[]),ve.return=Se,ve)}function et(Se,ve,Ae,at,Ft){return ve===null||ve.tag!==7?(ve=Af(Ae,Se.mode,at,Ft),ve.return=Se,ve):(ve=O(ve,Ae),ve.return=Se,ve)}function rt(Se,ve,Ae){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=FS(""+ve,Se.mode,Ae),ve.return=Se,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case P:return Ae=H0(ve.type,ve.key,ve.props,null,Se.mode,Ae),Ae.ref=lf(Se,null,ve),Ae.return=Se,Ae;case C:return ve=BS(ve,Se.mode,Ae),ve.return=Se,ve;case oe:var at=ve._init;return rt(Se,at(ve._payload),Ae)}if(Tt(ve)||re(ve))return ve=Af(ve,Se.mode,Ae,null),ve.return=Se,ve;uf(Se,ve)}return null}function Je(Se,ve,Ae,at){var Ft=ve!==null?ve.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ft!==null?null:fe(Se,ve,""+Ae,at);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case P:return Ae.key===Ft?me(Se,ve,Ae,at):null;case C:return Ae.key===Ft?Oe(Se,ve,Ae,at):null;case oe:return Ft=Ae._init,Je(Se,ve,Ft(Ae._payload),at)}if(Tt(Ae)||re(Ae))return Ft!==null?null:et(Se,ve,Ae,at,null);uf(Se,Ae)}return null}function bt(Se,ve,Ae,at,Ft){if(typeof at=="string"&&at!==""||typeof at=="number")return Se=Se.get(Ae)||null,fe(ve,Se,""+at,Ft);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case P:return Se=Se.get(at.key===null?Ae:at.key)||null,me(ve,Se,at,Ft);case C:return Se=Se.get(at.key===null?Ae:at.key)||null,Oe(ve,Se,at,Ft);case oe:var Gt=at._init;return bt(Se,ve,Ae,Gt(at._payload),Ft)}if(Tt(at)||re(at))return Se=Se.get(Ae)||null,et(ve,Se,at,Ft,null);uf(ve,at)}return null}function Rt(Se,ve,Ae,at){for(var Ft=null,Gt=null,$t=ve,en=ve=0,wi=null;$t!==null&&en<Ae.length;en++){$t.index>en?(wi=$t,$t=null):wi=$t.sibling;var Un=Je(Se,$t,Ae[en],at);if(Un===null){$t===null&&($t=wi);break}c&&$t&&Un.alternate===null&&d(Se,$t),ve=k(Un,ve,en),Gt===null?Ft=Un:Gt.sibling=Un,Gt=Un,$t=wi}if(en===Ae.length)return y(Se,$t),nr&&rs(Se,en),Ft;if($t===null){for(;en<Ae.length;en++)$t=rt(Se,Ae[en],at),$t!==null&&(ve=k($t,ve,en),Gt===null?Ft=$t:Gt.sibling=$t,Gt=$t);return nr&&rs(Se,en),Ft}for($t=A(Se,$t);en<Ae.length;en++)wi=bt($t,Se,en,Ae[en],at),wi!==null&&(c&&wi.alternate!==null&&$t.delete(wi.key===null?en:wi.key),ve=k(wi,ve,en),Gt===null?Ft=wi:Gt.sibling=wi,Gt=wi);return c&&$t.forEach(function(rc){return d(Se,rc)}),nr&&rs(Se,en),Ft}function Nt(Se,ve,Ae,at){var Ft=re(Ae);if(typeof Ft!="function")throw Error(n(150));if(Ae=Ft.call(Ae),Ae==null)throw Error(n(151));for(var Gt=Ft=null,$t=ve,en=ve=0,wi=null,Un=Ae.next();$t!==null&&!Un.done;en++,Un=Ae.next()){$t.index>en?(wi=$t,$t=null):wi=$t.sibling;var rc=Je(Se,$t,Un.value,at);if(rc===null){$t===null&&($t=wi);break}c&&$t&&rc.alternate===null&&d(Se,$t),ve=k(rc,ve,en),Gt===null?Ft=rc:Gt.sibling=rc,Gt=rc,$t=wi}if(Un.done)return y(Se,$t),nr&&rs(Se,en),Ft;if($t===null){for(;!Un.done;en++,Un=Ae.next())Un=rt(Se,Un.value,at),Un!==null&&(ve=k(Un,ve,en),Gt===null?Ft=Un:Gt.sibling=Un,Gt=Un);return nr&&rs(Se,en),Ft}for($t=A(Se,$t);!Un.done;en++,Un=Ae.next())Un=bt($t,Se,en,Un.value,at),Un!==null&&(c&&Un.alternate!==null&&$t.delete(Un.key===null?en:Un.key),ve=k(Un,ve,en),Gt===null?Ft=Un:Gt.sibling=Un,Gt=Un);return c&&$t.forEach(function(Gq){return d(Se,Gq)}),nr&&rs(Se,en),Ft}function jr(Se,ve,Ae,at){if(typeof Ae=="object"&&Ae!==null&&Ae.type===L&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case P:e:{for(var Ft=Ae.key,Gt=ve;Gt!==null;){if(Gt.key===Ft){if(Ft=Ae.type,Ft===L){if(Gt.tag===7){y(Se,Gt.sibling),ve=O(Gt,Ae.props.children),ve.return=Se,Se=ve;break e}}else if(Gt.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===oe&&og(Ft)===Gt.type){y(Se,Gt.sibling),ve=O(Gt,Ae.props),ve.ref=lf(Se,Gt,Ae),ve.return=Se,Se=ve;break e}y(Se,Gt);break}else d(Se,Gt);Gt=Gt.sibling}Ae.type===L?(ve=Af(Ae.props.children,Se.mode,at,Ae.key),ve.return=Se,Se=ve):(at=H0(Ae.type,Ae.key,Ae.props,null,Se.mode,at),at.ref=lf(Se,ve,Ae),at.return=Se,Se=at)}return G(Se);case C:e:{for(Gt=Ae.key;ve!==null;){if(ve.key===Gt)if(ve.tag===4&&ve.stateNode.containerInfo===Ae.containerInfo&&ve.stateNode.implementation===Ae.implementation){y(Se,ve.sibling),ve=O(ve,Ae.children||[]),ve.return=Se,Se=ve;break e}else{y(Se,ve);break}else d(Se,ve);ve=ve.sibling}ve=BS(Ae,Se.mode,at),ve.return=Se,Se=ve}return G(Se);case oe:return Gt=Ae._init,jr(Se,ve,Gt(Ae._payload),at)}if(Tt(Ae))return Rt(Se,ve,Ae,at);if(re(Ae))return Nt(Se,ve,Ae,at);uf(Se,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,ve!==null&&ve.tag===6?(y(Se,ve.sibling),ve=O(ve,Ae),ve.return=Se,Se=ve):(y(Se,ve),ve=FS(Ae,Se.mode,at),ve.return=Se,Se=ve),G(Se)):y(Se,ve)}return jr}var kl=sg(!0),cf=sg(!1),Ul=_r(null),Fl=null,as=null,$u=null;function Bl(){$u=as=Fl=null}function ff(c){var d=Ul.current;Zn(Ul),c._currentValue=d}function hf(c,d,y){for(;c!==null;){var A=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,A!==null&&(A.childLanes|=d)):A!==null&&(A.childLanes&d)!==d&&(A.childLanes|=d),c===y)break;c=c.return}}function qs(c,d){Fl=c,$u=as=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(hn=!0),c.firstContext=null)}function la(c){var d=c._currentValue;if($u!==c)if(c={context:c,memoizedValue:d,next:null},as===null){if(Fl===null)throw Error(n(308));as=c,Fl.dependencies={lanes:0,firstContext:c}}else as=as.next=c;return d}var os=null;function lg(c){os===null?os=[c]:os.push(c)}function df(c,d,y,A){var O=d.interleaved;return O===null?(y.next=y,lg(d)):(y.next=O.next,O.next=y),d.interleaved=y,Ja(c,A)}function Ja(c,d){c.lanes|=d;var y=c.alternate;for(y!==null&&(y.lanes|=d),y=c,c=c.return;c!==null;)c.childLanes|=d,y=c.alternate,y!==null&&(y.childLanes|=d),y=c,c=c.return;return y.tag===3?y.stateNode:null}var Vn=!1;function cn(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ar(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Hn(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function lr(c,d,y){var A=c.updateQueue;if(A===null)return null;if(A=A.shared,(Ln&2)!==0){var O=A.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),A.pending=d,Ja(c,y)}return O=A.interleaved,O===null?(d.next=d,lg(A)):(d.next=O.next,O.next=d),A.interleaved=d,Ja(c,y)}function yi(c,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var A=d.lanes;A&=c.pendingLanes,y|=A,d.lanes=y,Au(c,y)}}function zl(c,d){var y=c.updateQueue,A=c.alternate;if(A!==null&&(A=A.updateQueue,y===A)){var O=null,k=null;if(y=y.firstBaseUpdate,y!==null){do{var G={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};k===null?O=k=G:k=k.next=G,y=y.next}while(y!==null);k===null?O=k=d:k=k.next=d}else O=k=d;y={baseState:A.baseState,firstBaseUpdate:O,lastBaseUpdate:k,shared:A.shared,effects:A.effects},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=d:c.next=d,y.lastBaseUpdate=d}function wr(c,d,y,A){var O=c.updateQueue;Vn=!1;var k=O.firstBaseUpdate,G=O.lastBaseUpdate,fe=O.shared.pending;if(fe!==null){O.shared.pending=null;var me=fe,Oe=me.next;me.next=null,G===null?k=Oe:G.next=Oe,G=me;var et=c.alternate;et!==null&&(et=et.updateQueue,fe=et.lastBaseUpdate,fe!==G&&(fe===null?et.firstBaseUpdate=Oe:fe.next=Oe,et.lastBaseUpdate=me))}if(k!==null){var rt=O.baseState;G=0,et=Oe=me=null,fe=k;do{var Je=fe.lane,bt=fe.eventTime;if((A&Je)===Je){et!==null&&(et=et.next={eventTime:bt,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var Rt=c,Nt=fe;switch(Je=d,bt=y,Nt.tag){case 1:if(Rt=Nt.payload,typeof Rt=="function"){rt=Rt.call(bt,rt,Je);break e}rt=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Nt.payload,Je=typeof Rt=="function"?Rt.call(bt,rt,Je):Rt,Je==null)break e;rt=J({},rt,Je);break e;case 2:Vn=!0}}fe.callback!==null&&fe.lane!==0&&(c.flags|=64,Je=O.effects,Je===null?O.effects=[fe]:Je.push(fe))}else bt={eventTime:bt,lane:Je,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},et===null?(Oe=et=bt,me=rt):et=et.next=bt,G|=Je;if(fe=fe.next,fe===null){if(fe=O.shared.pending,fe===null)break;Je=fe,fe=Je.next,Je.next=null,O.lastBaseUpdate=Je,O.shared.pending=null}}while(!0);if(et===null&&(me=rt),O.baseState=me,O.firstBaseUpdate=Oe,O.lastBaseUpdate=et,d=O.shared.interleaved,d!==null){O=d;do G|=O.lane,O=O.next;while(O!==d)}else k===null&&(O.shared.lanes=0);Sf|=G,c.lanes=G,c.memoizedState=rt}}function qu(c,d,y){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var A=c[d],O=A.callback;if(O!==null){if(A.callback=null,A=y,typeof O!="function")throw Error(n(191,O));O.call(A)}}}var Eo={},ua=_r(Eo),jl=_r(Eo),ss=_r(Eo);function Rr(c){if(c===Eo)throw Error(n(174));return c}function pf(c,d){switch(qn(ss,d),qn(jl,c),qn(ua,Eo),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Ke(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=Ke(d,c)}Zn(ua),qn(ua,d)}function Xs(){Zn(ua),Zn(jl),Zn(ss)}function Vl(c){Rr(ss.current);var d=Rr(ua.current),y=Ke(d,c.type);d!==y&&(qn(jl,c),qn(ua,y))}function Xu(c){jl.current===c&&(Zn(ua),Zn(jl))}var rr=_r(0);function Qa(c){for(var d=c;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Yu=[];function Ao(){for(var c=0;c<Yu.length;c++)Yu[c]._workInProgressVersionPrimary=null;Yu.length=0}var Hl=T.ReactCurrentDispatcher,Wl=T.ReactCurrentBatchConfig,ls=0,Jn=null,Sr=null,Rn=null,eo=!1,xi=!1,Ys=0,$i=0;function ai(){throw Error(n(321))}function mf(c,d){if(d===null)return!1;for(var y=0;y<d.length&&y<c.length;y++)if(!aa(c[y],d[y]))return!1;return!0}function gf(c,d,y,A,O,k){if(ls=k,Jn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Hl.current=c===null||c.memoizedState===null?T0:P0,c=y(A,O),xi){k=0;do{if(xi=!1,Ys=0,25<=k)throw Error(n(301));k+=1,Rn=Sr=null,d.updateQueue=null,Hl.current=C0,c=y(A,O)}while(xi)}if(Hl.current=Od,d=Sr!==null&&Sr.next!==null,ls=0,Rn=Sr=Jn=null,eo=!1,d)throw Error(n(300));return c}function ug(){var c=Ys!==0;return Ys=0,c}function oi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Jn.memoizedState=Rn=c:Rn=Rn.next=c,Rn}function ca(){if(Sr===null){var c=Jn.alternate;c=c!==null?c.memoizedState:null}else c=Sr.next;var d=Rn===null?Jn.memoizedState:Rn.next;if(d!==null)Rn=d,Sr=c;else{if(c===null)throw Error(n(310));Sr=c,c={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Rn===null?Jn.memoizedState=Rn=c:Rn=Rn.next=c}return Rn}function Ku(c,d){return typeof d=="function"?d(c):d}function vf(c){var d=ca(),y=d.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=c;var A=Sr,O=A.baseQueue,k=y.pending;if(k!==null){if(O!==null){var G=O.next;O.next=k.next,k.next=G}A.baseQueue=O=k,y.pending=null}if(O!==null){k=O.next,A=A.baseState;var fe=G=null,me=null,Oe=k;do{var et=Oe.lane;if((ls&et)===et)me!==null&&(me=me.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),A=Oe.hasEagerState?Oe.eagerState:c(A,Oe.action);else{var rt={lane:et,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};me===null?(fe=me=rt,G=A):me=me.next=rt,Jn.lanes|=et,Sf|=et}Oe=Oe.next}while(Oe!==null&&Oe!==k);me===null?G=A:me.next=fe,aa(A,d.memoizedState)||(hn=!0),d.memoizedState=A,d.baseState=G,d.baseQueue=me,y.lastRenderedState=A}if(c=y.interleaved,c!==null){O=c;do k=O.lane,Jn.lanes|=k,Sf|=k,O=O.next;while(O!==c)}else O===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function us(c){var d=ca(),y=d.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=c;var A=y.dispatch,O=y.pending,k=d.memoizedState;if(O!==null){y.pending=null;var G=O=O.next;do k=c(k,G.action),G=G.next;while(G!==O);aa(k,d.memoizedState)||(hn=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),y.lastRenderedState=k}return[k,A]}function cg(){}function fg(c,d){var y=Jn,A=ca(),O=d(),k=!aa(A.memoizedState,O);if(k&&(A.memoizedState=O,hn=!0),A=A.queue,pg(w0.bind(null,y,A,c),[c]),A.getSnapshot!==d||k||Rn!==null&&Rn.memoizedState.tag&1){if(y.flags|=2048,to(9,yf.bind(null,y,A,O,d),void 0,null),_i===null)throw Error(n(349));(ls&30)!==0||Ed(y,d,O)}return O}function Ed(c,d,y){c.flags|=16384,c={getSnapshot:d,value:y},d=Jn.updateQueue,d===null?(d={lastEffect:null,stores:null},Jn.updateQueue=d,d.stores=[c]):(y=d.stores,y===null?d.stores=[c]:y.push(c))}function yf(c,d,y,A){d.value=y,d.getSnapshot=A,S0(d)&&hg(c)}function w0(c,d,y){return y(function(){S0(d)&&hg(c)})}function S0(c){var d=c.getSnapshot;c=c.value;try{var y=d();return!aa(c,y)}catch{return!0}}function hg(c){var d=Ja(c,1);d!==null&&ps(d,c,1,-1)}function dg(c){var d=oi();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:c},d.queue=c,c=c.dispatch=Gl.bind(null,Jn,c),[d.memoizedState,c]}function to(c,d,y,A){return c={tag:c,create:d,destroy:y,deps:A,next:null},d=Jn.updateQueue,d===null?(d={lastEffect:null,stores:null},Jn.updateQueue=d,d.lastEffect=c.next=c):(y=d.lastEffect,y===null?d.lastEffect=c.next=c:(A=y.next,y.next=c,c.next=A,d.lastEffect=c)),c}function b0(){return ca().memoizedState}function To(c,d,y,A){var O=oi();Jn.flags|=c,O.memoizedState=to(1|d,y,void 0,A===void 0?null:A)}function xf(c,d,y,A){var O=ca();A=A===void 0?null:A;var k=void 0;if(Sr!==null){var G=Sr.memoizedState;if(k=G.destroy,A!==null&&mf(A,G.deps)){O.memoizedState=to(d,y,k,A);return}}Jn.flags|=c,O.memoizedState=to(1|d,y,k,A)}function Ni(c,d){return To(8390656,8,c,d)}function pg(c,d){return xf(2048,8,c,d)}function mg(c,d){return xf(4,2,c,d)}function M0(c,d){return xf(4,4,c,d)}function E0(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function gg(c,d,y){return y=y!=null?y.concat([c]):null,xf(4,4,E0.bind(null,d,c),y)}function Ad(){}function A0(c,d){var y=ca();d=d===void 0?null:d;var A=y.memoizedState;return A!==null&&d!==null&&mf(d,A[1])?A[0]:(y.memoizedState=[c,d],c)}function fa(c,d){var y=ca();d=d===void 0?null:d;var A=y.memoizedState;return A!==null&&d!==null&&mf(d,A[1])?A[0]:(c=c(),y.memoizedState=[c,d],c)}function Td(c,d,y){return(ls&21)===0?(c.baseState&&(c.baseState=!1,hn=!0),c.memoizedState=y):(aa(y,d)||(y=tr(),Jn.lanes|=y,Sf|=y,c.baseState=!0),d)}function _S(c,d){var y=Cn;Cn=y!==0&&4>y?y:4,c(!0);var A=Wl.transition;Wl.transition={};try{c(!1),d()}finally{Cn=y,Wl.transition=A}}function cs(){return ca().memoizedState}function Pd(c,d,y){var A=ec(c);if(y={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null},_f(c))Cd(d,y);else if(y=df(c,d,y,A),y!==null){var O=da();ps(y,c,A,O),Rd(y,d,A)}}function Gl(c,d,y){var A=ec(c),O={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null};if(_f(c))Cd(d,O);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var G=d.lastRenderedState,fe=k(G,y);if(O.hasEagerState=!0,O.eagerState=fe,aa(fe,G)){var me=d.interleaved;me===null?(O.next=O,lg(d)):(O.next=me.next,me.next=O),d.interleaved=O;return}}catch{}finally{}y=df(c,d,O,A),y!==null&&(O=da(),ps(y,c,A,O),Rd(y,d,A))}}function _f(c){var d=c.alternate;return c===Jn||d!==null&&d===Jn}function Cd(c,d){xi=eo=!0;var y=c.pending;y===null?d.next=d:(d.next=y.next,y.next=d),c.pending=d}function Rd(c,d,y){if((y&4194240)!==0){var A=d.lanes;A&=c.pendingLanes,y|=A,d.lanes=y,Au(c,y)}}var Od={readContext:la,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},T0={readContext:la,useCallback:function(c,d){return oi().memoizedState=[c,d===void 0?null:d],c},useContext:la,useEffect:Ni,useImperativeHandle:function(c,d,y){return y=y!=null?y.concat([c]):null,To(4194308,4,E0.bind(null,d,c),y)},useLayoutEffect:function(c,d){return To(4194308,4,c,d)},useInsertionEffect:function(c,d){return To(4,2,c,d)},useMemo:function(c,d){var y=oi();return d=d===void 0?null:d,c=c(),y.memoizedState=[c,d],c},useReducer:function(c,d,y){var A=oi();return d=y!==void 0?y(d):d,A.memoizedState=A.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},A.queue=c,c=c.dispatch=Pd.bind(null,Jn,c),[A.memoizedState,c]},useRef:function(c){var d=oi();return c={current:c},d.memoizedState=c},useState:dg,useDebugValue:Ad,useDeferredValue:function(c){return oi().memoizedState=c},useTransition:function(){var c=dg(!1),d=c[0];return c=_S.bind(null,c[1]),oi().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,y){var A=Jn,O=oi();if(nr){if(y===void 0)throw Error(n(407));y=y()}else{if(y=d(),_i===null)throw Error(n(349));(ls&30)!==0||Ed(A,d,y)}O.memoizedState=y;var k={value:y,getSnapshot:d};return O.queue=k,Ni(w0.bind(null,A,k,c),[c]),A.flags|=2048,to(9,yf.bind(null,A,k,y,d),void 0,null),y},useId:function(){var c=oi(),d=_i.identifierPrefix;if(nr){var y=Ia,A=ht;y=(A&~(1<<32-Vt(A)-1)).toString(32)+y,d=":"+d+"R"+y,y=Ys++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=$i++,d=":"+d+"r"+y.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},P0={readContext:la,useCallback:A0,useContext:la,useEffect:pg,useImperativeHandle:gg,useInsertionEffect:mg,useLayoutEffect:M0,useMemo:fa,useReducer:vf,useRef:b0,useState:function(){return vf(Ku)},useDebugValue:Ad,useDeferredValue:function(c){var d=ca();return Td(d,Sr.memoizedState,c)},useTransition:function(){var c=vf(Ku)[0],d=ca().memoizedState;return[c,d]},useMutableSource:cg,useSyncExternalStore:fg,useId:cs,unstable_isNewReconciler:!1},C0={readContext:la,useCallback:A0,useContext:la,useEffect:pg,useImperativeHandle:gg,useInsertionEffect:mg,useLayoutEffect:M0,useMemo:fa,useReducer:us,useRef:b0,useState:function(){return us(Ku)},useDebugValue:Ad,useDeferredValue:function(c){var d=ca();return Sr===null?d.memoizedState=c:Td(d,Sr.memoizedState,c)},useTransition:function(){var c=us(Ku)[0],d=ca().memoizedState;return[c,d]},useMutableSource:cg,useSyncExternalStore:fg,useId:cs,unstable_isNewReconciler:!1};function Na(c,d){if(c&&c.defaultProps){d=J({},d),c=c.defaultProps;for(var y in c)d[y]===void 0&&(d[y]=c[y]);return d}return d}function wf(c,d,y,A){d=c.memoizedState,y=y(A,d),y=y==null?d:J({},d,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var Id={isMounted:function(c){return(c=c._reactInternals)?U(c)===c:!1},enqueueSetState:function(c,d,y){c=c._reactInternals;var A=da(),O=ec(c),k=Hn(A,O);k.payload=d,y!=null&&(k.callback=y),d=lr(c,k,O),d!==null&&(ps(d,c,O,A),yi(d,c,O))},enqueueReplaceState:function(c,d,y){c=c._reactInternals;var A=da(),O=ec(c),k=Hn(A,O);k.tag=1,k.payload=d,y!=null&&(k.callback=y),d=lr(c,k,O),d!==null&&(ps(d,c,O,A),yi(d,c,O))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var y=da(),A=ec(c),O=Hn(y,A);O.tag=2,d!=null&&(O.callback=d),d=lr(c,O,A),d!==null&&(ps(d,c,A,y),yi(d,c,A))}};function R0(c,d,y,A,O,k,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(A,k,G):d.prototype&&d.prototype.isPureReactComponent?!Al(y,A)||!Al(O,k):!0}function m(c,d,y){var A=!1,O=ts,k=d.contextType;return typeof k=="object"&&k!==null?k=la(k):(O=vi(d)?ns:ri.current,A=d.contextTypes,k=(A=A!=null)?Il(c,O):ts),d=new d(y,k),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Id,c.stateNode=d,d._reactInternals=c,A&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=O,c.__reactInternalMemoizedMaskedChildContext=k),d}function g(c,d,y,A){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,A),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,A),d.state!==c&&Id.enqueueReplaceState(d,d.state,null)}function M(c,d,y,A){var O=c.stateNode;O.props=y,O.state=c.memoizedState,O.refs={},cn(c);var k=d.contextType;typeof k=="object"&&k!==null?O.context=la(k):(k=vi(d)?ns:ri.current,O.context=Il(c,k)),O.state=c.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(wf(c,d,k,y),O.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(d=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),d!==O.state&&Id.enqueueReplaceState(O,O.state,null),wr(c,y,O,A),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308)}function R(c,d){try{var y="",A=d;do y+=Re(A),A=A.return;while(A);var O=y}catch(k){O=`
Error generating stack: `+k.message+`
`+k.stack}return{value:c,source:d,stack:O,digest:null}}function N(c,d,y){return{value:c,source:null,stack:y??null,digest:d??null}}function B(c,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var ue=typeof WeakMap=="function"?WeakMap:Map;function ye(c,d,y){y=Hn(-1,y),y.tag=3,y.payload={element:null};var A=d.value;return y.callback=function(){U0||(U0=!0,RS=A),B(c,d)},y}function je(c,d,y){y=Hn(-1,y),y.tag=3;var A=c.type.getDerivedStateFromError;if(typeof A=="function"){var O=d.value;y.payload=function(){return A(O)},y.callback=function(){B(c,d)}}var k=c.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(y.callback=function(){B(c,d),typeof A!="function"&&(Ju===null?Ju=new Set([this]):Ju.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),y}function it(c,d,y){var A=c.pingCache;if(A===null){A=c.pingCache=new ue;var O=new Set;A.set(d,O)}else O=A.get(d),O===void 0&&(O=new Set,A.set(d,O));O.has(y)||(O.add(y),c=Nq.bind(null,c,d,y),d.then(c,c))}function At(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function tn(c,d,y,A,O){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=Hn(-1,1),d.tag=2,lr(y,d,1))),y.lanes|=1),c):(c.flags|=65536,c.lanes=O,c)}var Wt=T.ReactCurrentOwner,hn=!1;function xt(c,d,y,A){d.child=c===null?cf(d,null,y,A):kl(d,c.child,y,A)}function si(c,d,y,A,O){y=y.render;var k=d.ref;return qs(d,O),A=gf(c,d,y,A,k,O),y=ug(),c!==null&&!hn?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~O,$l(c,d,O)):(nr&&y&&ng(d),d.flags|=1,xt(c,d,A,O),d.child)}function ha(c,d,y,A,O){if(c===null){var k=y.type;return typeof k=="function"&&!US(k)&&k.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=k,Te(c,d,k,A,O)):(c=H0(y.type,null,A,d,d.mode,O),c.ref=d.ref,c.return=d,d.child=c)}if(k=c.child,(c.lanes&O)===0){var G=k.memoizedProps;if(y=y.compare,y=y!==null?y:Al,y(G,A)&&c.ref===d.ref)return $l(c,d,O)}return d.flags|=1,c=nc(k,A),c.ref=d.ref,c.return=d,d.child=c}function Te(c,d,y,A,O){if(c!==null){var k=c.memoizedProps;if(Al(k,A)&&c.ref===d.ref)if(hn=!1,d.pendingProps=A=k,(c.lanes&O)!==0)(c.flags&131072)!==0&&(hn=!0);else return d.lanes=c.lanes,$l(c,d,O)}return vt(c,d,y,A,O)}function xe(c,d,y){var A=d.pendingProps,O=A.children,k=c!==null?c.memoizedState:null;if(A.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(Nd,no),no|=y;else{if((y&1073741824)===0)return c=k!==null?k.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,qn(Nd,no),no|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=k!==null?k.baseLanes:y,qn(Nd,no),no|=A}else k!==null?(A=k.baseLanes|y,d.memoizedState=null):A=y,qn(Nd,no),no|=A;return xt(c,d,O,y),d.child}function De(c,d){var y=d.ref;(c===null&&y!==null||c!==null&&c.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function vt(c,d,y,A,O){var k=vi(y)?ns:ri.current;return k=Il(d,k),qs(d,O),y=gf(c,d,y,A,k,O),A=ug(),c!==null&&!hn?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~O,$l(c,d,O)):(nr&&A&&ng(d),d.flags|=1,xt(c,d,y,O),d.child)}function kt(c,d,y,A,O){if(vi(y)){var k=!0;Ll(d)}else k=!1;if(qs(d,O),d.stateNode===null)I0(c,d),m(d,y,A),M(d,y,A,O),A=!0;else if(c===null){var G=d.stateNode,fe=d.memoizedProps;G.props=fe;var me=G.context,Oe=y.contextType;typeof Oe=="object"&&Oe!==null?Oe=la(Oe):(Oe=vi(y)?ns:ri.current,Oe=Il(d,Oe));var et=y.getDerivedStateFromProps,rt=typeof et=="function"||typeof G.getSnapshotBeforeUpdate=="function";rt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(fe!==A||me!==Oe)&&g(d,G,A,Oe),Vn=!1;var Je=d.memoizedState;G.state=Je,wr(d,A,G,O),me=d.memoizedState,fe!==A||Je!==me||Oi.current||Vn?(typeof et=="function"&&(wf(d,y,et,A),me=d.memoizedState),(fe=Vn||R0(d,y,fe,A,Je,me,Oe))?(rt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=A,d.memoizedState=me),G.props=A,G.state=me,G.context=Oe,A=fe):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),A=!1)}else{G=d.stateNode,Ar(c,d),fe=d.memoizedProps,Oe=d.type===d.elementType?fe:Na(d.type,fe),G.props=Oe,rt=d.pendingProps,Je=G.context,me=y.contextType,typeof me=="object"&&me!==null?me=la(me):(me=vi(y)?ns:ri.current,me=Il(d,me));var bt=y.getDerivedStateFromProps;(et=typeof bt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(fe!==rt||Je!==me)&&g(d,G,A,me),Vn=!1,Je=d.memoizedState,G.state=Je,wr(d,A,G,O);var Rt=d.memoizedState;fe!==rt||Je!==Rt||Oi.current||Vn?(typeof bt=="function"&&(wf(d,y,bt,A),Rt=d.memoizedState),(Oe=Vn||R0(d,y,Oe,A,Je,Rt,me)||!1)?(et||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(A,Rt,me),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(A,Rt,me)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||fe===c.memoizedProps&&Je===c.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||fe===c.memoizedProps&&Je===c.memoizedState||(d.flags|=1024),d.memoizedProps=A,d.memoizedState=Rt),G.props=A,G.state=Rt,G.context=me,A=Oe):(typeof G.componentDidUpdate!="function"||fe===c.memoizedProps&&Je===c.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||fe===c.memoizedProps&&Je===c.memoizedState||(d.flags|=1024),A=!1)}return on(c,d,y,A,k,O)}function on(c,d,y,A,O,k){De(c,d);var G=(d.flags&128)!==0;if(!A&&!G)return O&&eg(d,y,!1),$l(c,d,k);A=d.stateNode,Wt.current=d;var fe=G&&typeof y.getDerivedStateFromError!="function"?null:A.render();return d.flags|=1,c!==null&&G?(d.child=kl(d,c.child,null,k),d.child=kl(d,null,fe,k)):xt(c,d,fe,k),d.memoizedState=A.state,O&&eg(d,y,!0),d.child}function nn(c){var d=c.stateNode;d.pendingContext?Qm(c,d.pendingContext,d.pendingContext!==d.context):d.context&&Qm(c,d.context,!1),pf(c,d.containerInfo)}function Tn(c,d,y,A,O){return $s(),Gu(O),d.flags|=256,xt(c,d,y,A),d.child}var Or={dehydrated:null,treeContext:null,retryLane:0};function En(c){return{baseLanes:c,cachePool:null,transitions:null}}function fs(c,d,y){var A=d.pendingProps,O=rr.current,k=!1,G=(d.flags&128)!==0,fe;if((fe=G)||(fe=c!==null&&c.memoizedState===null?!1:(O&2)!==0),fe?(k=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(O|=1),qn(rr,O&1),c===null)return bd(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(G=A.children,c=A.fallback,k?(A=d.mode,k=d.child,G={mode:"hidden",children:G},(A&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=G):k=W0(G,A,0,null),c=Af(c,A,y,null),k.return=d,c.return=d,k.sibling=c,d.child=k,d.child.memoizedState=En(y),d.memoizedState=Or,c):vg(d,G));if(O=c.memoizedState,O!==null&&(fe=O.dehydrated,fe!==null))return Sq(c,d,G,A,fe,O,y);if(k){k=A.fallback,G=d.mode,O=c.child,fe=O.sibling;var me={mode:"hidden",children:A.children};return(G&1)===0&&d.child!==O?(A=d.child,A.childLanes=0,A.pendingProps=me,d.deletions=null):(A=nc(O,me),A.subtreeFlags=O.subtreeFlags&14680064),fe!==null?k=nc(fe,k):(k=Af(k,G,y,null),k.flags|=2),k.return=d,A.return=d,A.sibling=k,d.child=A,A=k,k=d.child,G=c.child.memoizedState,G=G===null?En(y):{baseLanes:G.baseLanes|y,cachePool:null,transitions:G.transitions},k.memoizedState=G,k.childLanes=c.childLanes&~y,d.memoizedState=Or,A}return k=c.child,c=k.sibling,A=nc(k,{mode:"visible",children:A.children}),(d.mode&1)===0&&(A.lanes=y),A.return=d,A.sibling=null,c!==null&&(y=d.deletions,y===null?(d.deletions=[c],d.flags|=16):y.push(c)),d.child=A,d.memoizedState=null,A}function vg(c,d){return d=W0({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function O0(c,d,y,A){return A!==null&&Gu(A),kl(d,c.child,null,y),c=vg(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function Sq(c,d,y,A,O,k,G){if(y)return d.flags&256?(d.flags&=-257,A=N(Error(n(422))),O0(c,d,G,A)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(k=A.fallback,O=d.mode,A=W0({mode:"visible",children:A.children},O,0,null),k=Af(k,O,G,null),k.flags|=2,A.return=d,k.return=d,A.sibling=k,d.child=A,(d.mode&1)!==0&&kl(d,c.child,null,G),d.child.memoizedState=En(G),d.memoizedState=Or,k);if((d.mode&1)===0)return O0(c,d,G,null);if(O.data==="$!"){if(A=O.nextSibling&&O.nextSibling.dataset,A)var fe=A.dgst;return A=fe,k=Error(n(419)),A=N(k,A,void 0),O0(c,d,G,A)}if(fe=(G&c.childLanes)!==0,hn||fe){if(A=_i,A!==null){switch(G&-G){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(A.suspendedLanes|G))!==0?0:O,O!==0&&O!==k.retryLane&&(k.retryLane=O,Ja(c,O),ps(A,c,O,-1))}return kS(),A=N(Error(n(421))),O0(c,d,G,A)}return O.data==="$?"?(d.flags|=128,d.child=c.child,d=Dq.bind(null,c),O._reactRetry=d,null):(c=k.treeContext,Li=Qo(O.nextSibling),ii=d,nr=!0,La=null,c!==null&&(Ii[Kr++]=ht,Ii[Kr++]=Ia,Ii[Kr++]=Dl,ht=c.id,Ia=c.overflow,Dl=d),d=vg(d,A.children),d.flags|=4096,d)}function ZI(c,d,y){c.lanes|=d;var A=c.alternate;A!==null&&(A.lanes|=d),hf(c.return,d,y)}function wS(c,d,y,A,O){var k=c.memoizedState;k===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:A,tail:y,tailMode:O}:(k.isBackwards=d,k.rendering=null,k.renderingStartTime=0,k.last=A,k.tail=y,k.tailMode=O)}function JI(c,d,y){var A=d.pendingProps,O=A.revealOrder,k=A.tail;if(xt(c,d,A.children,y),A=rr.current,(A&2)!==0)A=A&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&ZI(c,y,d);else if(c.tag===19)ZI(c,y,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}A&=1}if(qn(rr,A),(d.mode&1)===0)d.memoizedState=null;else switch(O){case"forwards":for(y=d.child,O=null;y!==null;)c=y.alternate,c!==null&&Qa(c)===null&&(O=y),y=y.sibling;y=O,y===null?(O=d.child,d.child=null):(O=y.sibling,y.sibling=null),wS(d,!1,O,y,k);break;case"backwards":for(y=null,O=d.child,d.child=null;O!==null;){if(c=O.alternate,c!==null&&Qa(c)===null){d.child=O;break}c=O.sibling,O.sibling=y,y=O,O=c}wS(d,!0,y,null,k);break;case"together":wS(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function I0(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function $l(c,d,y){if(c!==null&&(d.dependencies=c.dependencies),Sf|=d.lanes,(y&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,y=nc(c,c.pendingProps),d.child=y,y.return=d;c.sibling!==null;)c=c.sibling,y=y.sibling=nc(c,c.pendingProps),y.return=d;y.sibling=null}return d.child}function bq(c,d,y){switch(d.tag){case 3:nn(d),$s();break;case 5:Vl(d);break;case 1:vi(d.type)&&Ll(d);break;case 4:pf(d,d.stateNode.containerInfo);break;case 10:var A=d.type._context,O=d.memoizedProps.value;qn(Ul,A._currentValue),A._currentValue=O;break;case 13:if(A=d.memoizedState,A!==null)return A.dehydrated!==null?(qn(rr,rr.current&1),d.flags|=128,null):(y&d.child.childLanes)!==0?fs(c,d,y):(qn(rr,rr.current&1),c=$l(c,d,y),c!==null?c.sibling:null);qn(rr,rr.current&1);break;case 19:if(A=(y&d.childLanes)!==0,(c.flags&128)!==0){if(A)return JI(c,d,y);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),qn(rr,rr.current),A)break;return null;case 22:case 23:return d.lanes=0,xe(c,d,y)}return $l(c,d,y)}var QI,SS,eL,tL;QI=function(c,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)c.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},SS=function(){},eL=function(c,d,y,A){var O=c.memoizedProps;if(O!==A){c=d.stateNode,Rr(ua.current);var k=null;switch(y){case"input":O=be(c,O),A=be(c,A),k=[];break;case"select":O=J({},O,{value:void 0}),A=J({},A,{value:void 0}),k=[];break;case"textarea":O=ln(c,O),A=ln(c,A),k=[];break;default:typeof O.onClick!="function"&&typeof A.onClick=="function"&&(c.onclick=nf)}he(y,A);var G;y=null;for(Oe in O)if(!A.hasOwnProperty(Oe)&&O.hasOwnProperty(Oe)&&O[Oe]!=null)if(Oe==="style"){var fe=O[Oe];for(G in fe)fe.hasOwnProperty(G)&&(y||(y={}),y[G]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(i.hasOwnProperty(Oe)?k||(k=[]):(k=k||[]).push(Oe,null));for(Oe in A){var me=A[Oe];if(fe=O!=null?O[Oe]:void 0,A.hasOwnProperty(Oe)&&me!==fe&&(me!=null||fe!=null))if(Oe==="style")if(fe){for(G in fe)!fe.hasOwnProperty(G)||me&&me.hasOwnProperty(G)||(y||(y={}),y[G]="");for(G in me)me.hasOwnProperty(G)&&fe[G]!==me[G]&&(y||(y={}),y[G]=me[G])}else y||(k||(k=[]),k.push(Oe,y)),y=me;else Oe==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,fe=fe?fe.__html:void 0,me!=null&&fe!==me&&(k=k||[]).push(Oe,me)):Oe==="children"?typeof me!="string"&&typeof me!="number"||(k=k||[]).push(Oe,""+me):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Oe)?(me!=null&&Oe==="onScroll"&&Kn("scroll",c),k||fe===me||(k=[])):(k=k||[]).push(Oe,me))}y&&(k=k||[]).push("style",y);var Oe=k;(d.updateQueue=Oe)&&(d.flags|=4)}},tL=function(c,d,y,A){y!==A&&(d.flags|=4)};function yg(c,d){if(!nr)switch(c.tailMode){case"hidden":d=c.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var A=null;y!==null;)y.alternate!==null&&(A=y),y=y.sibling;A===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:A.sibling=null}}function qi(c){var d=c.alternate!==null&&c.alternate.child===c.child,y=0,A=0;if(d)for(var O=c.child;O!==null;)y|=O.lanes|O.childLanes,A|=O.subtreeFlags&14680064,A|=O.flags&14680064,O.return=c,O=O.sibling;else for(O=c.child;O!==null;)y|=O.lanes|O.childLanes,A|=O.subtreeFlags,A|=O.flags,O.return=c,O=O.sibling;return c.subtreeFlags|=A,c.childLanes=y,d}function Mq(c,d,y){var A=d.pendingProps;switch(is(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(d),null;case 1:return vi(d.type)&&rf(),qi(d),null;case 3:return A=d.stateNode,Xs(),Zn(Oi),Zn(ri),Ao(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(c===null||c.child===null)&&(Wu(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,La!==null&&(LS(La),La=null))),SS(c,d),qi(d),null;case 5:Xu(d);var O=Rr(ss.current);if(y=d.type,c!==null&&d.stateNode!=null)eL(c,d,y,A,O),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!A){if(d.stateNode===null)throw Error(n(166));return qi(d),null}if(c=Rr(ua.current),Wu(d)){A=d.stateNode,y=d.type;var k=d.memoizedProps;switch(A[zr]=d,A[Hu]=k,c=(d.mode&1)!==0,y){case"dialog":Kn("cancel",A),Kn("close",A);break;case"iframe":case"object":case"embed":Kn("load",A);break;case"video":case"audio":for(O=0;O<Ws.length;O++)Kn(Ws[O],A);break;case"source":Kn("error",A);break;case"img":case"image":case"link":Kn("error",A),Kn("load",A);break;case"details":Kn("toggle",A);break;case"input":qe(A,k),Kn("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!k.multiple},Kn("invalid",A);break;case"textarea":le(A,k),Kn("invalid",A)}he(y,k),O=null;for(var G in k)if(k.hasOwnProperty(G)){var fe=k[G];G==="children"?typeof fe=="string"?A.textContent!==fe&&(k.suppressHydrationWarning!==!0&&tf(A.textContent,fe,c),O=["children",fe]):typeof fe=="number"&&A.textContent!==""+fe&&(k.suppressHydrationWarning!==!0&&tf(A.textContent,fe,c),O=["children",""+fe]):i.hasOwnProperty(G)&&fe!=null&&G==="onScroll"&&Kn("scroll",A)}switch(y){case"input":Fe(A),lt(A,k,!0);break;case"textarea":Fe(A),Le(A);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(A.onclick=nf)}A=O,d.updateQueue=A,A!==null&&(d.flags|=4)}else{G=O.nodeType===9?O:O.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=tt(y)),c==="http://www.w3.org/1999/xhtml"?y==="script"?(c=G.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof A.is=="string"?c=G.createElement(y,{is:A.is}):(c=G.createElement(y),y==="select"&&(G=c,A.multiple?G.multiple=!0:A.size&&(G.size=A.size))):c=G.createElementNS(c,y),c[zr]=d,c[Hu]=A,QI(c,d,!1,!1),d.stateNode=c;e:{switch(G=Ue(y,A),y){case"dialog":Kn("cancel",c),Kn("close",c),O=A;break;case"iframe":case"object":case"embed":Kn("load",c),O=A;break;case"video":case"audio":for(O=0;O<Ws.length;O++)Kn(Ws[O],c);O=A;break;case"source":Kn("error",c),O=A;break;case"img":case"image":case"link":Kn("error",c),Kn("load",c),O=A;break;case"details":Kn("toggle",c),O=A;break;case"input":qe(c,A),O=be(c,A),Kn("invalid",c);break;case"option":O=A;break;case"select":c._wrapperState={wasMultiple:!!A.multiple},O=J({},A,{value:void 0}),Kn("invalid",c);break;case"textarea":le(c,A),O=ln(c,A),Kn("invalid",c);break;default:O=A}he(y,O),fe=O;for(k in fe)if(fe.hasOwnProperty(k)){var me=fe[k];k==="style"?_t(c,me):k==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&Et(c,me)):k==="children"?typeof me=="string"?(y!=="textarea"||me!=="")&&ft(c,me):typeof me=="number"&&ft(c,""+me):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?me!=null&&k==="onScroll"&&Kn("scroll",c):me!=null&&b(c,k,me,G))}switch(y){case"input":Fe(c),lt(c,A,!1);break;case"textarea":Fe(c),Le(c);break;case"option":A.value!=null&&c.setAttribute("value",""+Xe(A.value));break;case"select":c.multiple=!!A.multiple,k=A.value,k!=null?Bt(c,!!A.multiple,k,!1):A.defaultValue!=null&&Bt(c,!!A.multiple,A.defaultValue,!0);break;default:typeof O.onClick=="function"&&(c.onclick=nf)}switch(y){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return qi(d),null;case 6:if(c&&d.stateNode!=null)tL(c,d,c.memoizedProps,A);else{if(typeof A!="string"&&d.stateNode===null)throw Error(n(166));if(y=Rr(ss.current),Rr(ua.current),Wu(d)){if(A=d.stateNode,y=d.memoizedProps,A[zr]=d,(k=A.nodeValue!==y)&&(c=ii,c!==null))switch(c.tag){case 3:tf(A.nodeValue,y,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&tf(A.nodeValue,y,(c.mode&1)!==0)}k&&(d.flags|=4)}else A=(y.nodeType===9?y:y.ownerDocument).createTextNode(A),A[zr]=d,d.stateNode=A}return qi(d),null;case 13:if(Zn(rr),A=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(nr&&Li!==null&&(d.mode&1)!==0&&(d.flags&128)===0)ag(),$s(),d.flags|=98560,k=!1;else if(k=Wu(d),A!==null&&A.dehydrated!==null){if(c===null){if(!k)throw Error(n(318));if(k=d.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[zr]=d}else $s(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;qi(d),k=!1}else La!==null&&(LS(La),La=null),k=!0;if(!k)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=y,d):(A=A!==null,A!==(c!==null&&c.memoizedState!==null)&&A&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(rr.current&1)!==0?li===0&&(li=3):kS())),d.updateQueue!==null&&(d.flags|=4),qi(d),null);case 4:return Xs(),SS(c,d),c===null&&zu(d.stateNode.containerInfo),qi(d),null;case 10:return ff(d.type._context),qi(d),null;case 17:return vi(d.type)&&rf(),qi(d),null;case 19:if(Zn(rr),k=d.memoizedState,k===null)return qi(d),null;if(A=(d.flags&128)!==0,G=k.rendering,G===null)if(A)yg(k,!1);else{if(li!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(G=Qa(c),G!==null){for(d.flags|=128,yg(k,!1),A=G.updateQueue,A!==null&&(d.updateQueue=A,d.flags|=4),d.subtreeFlags=0,A=y,y=d.child;y!==null;)k=y,c=A,k.flags&=14680066,G=k.alternate,G===null?(k.childLanes=0,k.lanes=c,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=G.childLanes,k.lanes=G.lanes,k.child=G.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=G.memoizedProps,k.memoizedState=G.memoizedState,k.updateQueue=G.updateQueue,k.type=G.type,c=G.dependencies,k.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),y=y.sibling;return qn(rr,rr.current&1|2),d.child}c=c.sibling}k.tail!==null&&Ce()>Dd&&(d.flags|=128,A=!0,yg(k,!1),d.lanes=4194304)}else{if(!A)if(c=Qa(G),c!==null){if(d.flags|=128,A=!0,y=c.updateQueue,y!==null&&(d.updateQueue=y,d.flags|=4),yg(k,!0),k.tail===null&&k.tailMode==="hidden"&&!G.alternate&&!nr)return qi(d),null}else 2*Ce()-k.renderingStartTime>Dd&&y!==1073741824&&(d.flags|=128,A=!0,yg(k,!1),d.lanes=4194304);k.isBackwards?(G.sibling=d.child,d.child=G):(y=k.last,y!==null?y.sibling=G:d.child=G,k.last=G)}return k.tail!==null?(d=k.tail,k.rendering=d,k.tail=d.sibling,k.renderingStartTime=Ce(),d.sibling=null,y=rr.current,qn(rr,A?y&1|2:y&1),d):(qi(d),null);case 22:case 23:return DS(),A=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==A&&(d.flags|=8192),A&&(d.mode&1)!==0?(no&1073741824)!==0&&(qi(d),d.subtreeFlags&6&&(d.flags|=8192)):qi(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function Eq(c,d){switch(is(d),d.tag){case 1:return vi(d.type)&&rf(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Xs(),Zn(Oi),Zn(ri),Ao(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return Xu(d),null;case 13:if(Zn(rr),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));$s()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Zn(rr),null;case 4:return Xs(),null;case 10:return ff(d.type._context),null;case 22:case 23:return DS(),null;case 24:return null;default:return null}}var L0=!1,Xi=!1,Aq=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Ld(c,d){var y=c.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(A){Ir(c,d,A)}else y.current=null}function bS(c,d,y){try{y()}catch(A){Ir(c,d,A)}}var nL=!1;function Tq(c,d){if(Vu=Aa,c=mr(),$r(c)){if("selectionStart"in c)var y={start:c.selectionStart,end:c.selectionEnd};else e:{y=(y=c.ownerDocument)&&y.defaultView||window;var A=y.getSelection&&y.getSelection();if(A&&A.rangeCount!==0){y=A.anchorNode;var O=A.anchorOffset,k=A.focusNode;A=A.focusOffset;try{y.nodeType,k.nodeType}catch{y=null;break e}var G=0,fe=-1,me=-1,Oe=0,et=0,rt=c,Je=null;t:for(;;){for(var bt;rt!==y||O!==0&&rt.nodeType!==3||(fe=G+O),rt!==k||A!==0&&rt.nodeType!==3||(me=G+A),rt.nodeType===3&&(G+=rt.nodeValue.length),(bt=rt.firstChild)!==null;)Je=rt,rt=bt;for(;;){if(rt===c)break t;if(Je===y&&++Oe===O&&(fe=G),Je===k&&++et===A&&(me=G),(bt=rt.nextSibling)!==null)break;rt=Je,Je=rt.parentNode}rt=bt}y=fe===-1||me===-1?null:{start:fe,end:me}}else y=null}y=y||{start:0,end:0}}else y=null;for(qm={focusedElem:c,selectionRange:y},Aa=!1,Pt=d;Pt!==null;)if(d=Pt,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Pt=c;else for(;Pt!==null;){d=Pt;try{var Rt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Rt!==null){var Nt=Rt.memoizedProps,jr=Rt.memoizedState,Se=d.stateNode,ve=Se.getSnapshotBeforeUpdate(d.elementType===d.type?Nt:Na(d.type,Nt),jr);Se.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Ae=d.stateNode.containerInfo;Ae.nodeType===1?Ae.textContent="":Ae.nodeType===9&&Ae.documentElement&&Ae.removeChild(Ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(at){Ir(d,d.return,at)}if(c=d.sibling,c!==null){c.return=d.return,Pt=c;break}Pt=d.return}return Rt=nL,nL=!1,Rt}function xg(c,d,y){var A=d.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var O=A=A.next;do{if((O.tag&c)===c){var k=O.destroy;O.destroy=void 0,k!==void 0&&bS(d,y,k)}O=O.next}while(O!==A)}}function N0(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&c)===c){var A=y.create;y.destroy=A()}y=y.next}while(y!==d)}}function MS(c){var d=c.ref;if(d!==null){var y=c.stateNode;switch(c.tag){case 5:c=y;break;default:c=y}typeof d=="function"?d(c):d.current=c}}function rL(c){var d=c.alternate;d!==null&&(c.alternate=null,rL(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[zr],delete d[Hu],delete d[Ol],delete d[gd],delete d[vd])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function iL(c){return c.tag===5||c.tag===3||c.tag===4}function aL(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||iL(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function ES(c,d,y){var A=c.tag;if(A===5||A===6)c=c.stateNode,d?y.nodeType===8?y.parentNode.insertBefore(c,d):y.insertBefore(c,d):(y.nodeType===8?(d=y.parentNode,d.insertBefore(c,y)):(d=y,d.appendChild(c)),y=y._reactRootContainer,y!=null||d.onclick!==null||(d.onclick=nf));else if(A!==4&&(c=c.child,c!==null))for(ES(c,d,y),c=c.sibling;c!==null;)ES(c,d,y),c=c.sibling}function AS(c,d,y){var A=c.tag;if(A===5||A===6)c=c.stateNode,d?y.insertBefore(c,d):y.appendChild(c);else if(A!==4&&(c=c.child,c!==null))for(AS(c,d,y),c=c.sibling;c!==null;)AS(c,d,y),c=c.sibling}var Di=null,hs=!1;function Zu(c,d,y){for(y=y.child;y!==null;)oL(c,d,y),y=y.sibling}function oL(c,d,y){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(yt,y)}catch{}switch(y.tag){case 5:Xi||Ld(y,d);case 6:var A=Di,O=hs;Di=null,Zu(c,d,y),Di=A,hs=O,Di!==null&&(hs?(c=Di,y=y.stateNode,c.nodeType===8?c.parentNode.removeChild(y):c.removeChild(y)):Di.removeChild(y.stateNode));break;case 18:Di!==null&&(hs?(c=Di,y=y.stateNode,c.nodeType===8?md(c.parentNode,y):c.nodeType===1&&md(c,y),Wc(c)):md(Di,y.stateNode));break;case 4:A=Di,O=hs,Di=y.stateNode.containerInfo,hs=!0,Zu(c,d,y),Di=A,hs=O;break;case 0:case 11:case 14:case 15:if(!Xi&&(A=y.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){O=A=A.next;do{var k=O,G=k.destroy;k=k.tag,G!==void 0&&((k&2)!==0||(k&4)!==0)&&bS(y,d,G),O=O.next}while(O!==A)}Zu(c,d,y);break;case 1:if(!Xi&&(Ld(y,d),A=y.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=y.memoizedProps,A.state=y.memoizedState,A.componentWillUnmount()}catch(fe){Ir(y,d,fe)}Zu(c,d,y);break;case 21:Zu(c,d,y);break;case 22:y.mode&1?(Xi=(A=Xi)||y.memoizedState!==null,Zu(c,d,y),Xi=A):Zu(c,d,y);break;default:Zu(c,d,y)}}function sL(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var y=c.stateNode;y===null&&(y=c.stateNode=new Aq),d.forEach(function(A){var O=kq.bind(null,c,A);y.has(A)||(y.add(A),A.then(O,O))})}}function ds(c,d){var y=d.deletions;if(y!==null)for(var A=0;A<y.length;A++){var O=y[A];try{var k=c,G=d,fe=G;e:for(;fe!==null;){switch(fe.tag){case 5:Di=fe.stateNode,hs=!1;break e;case 3:Di=fe.stateNode.containerInfo,hs=!0;break e;case 4:Di=fe.stateNode.containerInfo,hs=!0;break e}fe=fe.return}if(Di===null)throw Error(n(160));oL(k,G,O),Di=null,hs=!1;var me=O.alternate;me!==null&&(me.return=null),O.return=null}catch(Oe){Ir(O,d,Oe)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)lL(d,c),d=d.sibling}function lL(c,d){var y=c.alternate,A=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ds(d,c),Ks(c),A&4){try{xg(3,c,c.return),N0(3,c)}catch(Nt){Ir(c,c.return,Nt)}try{xg(5,c,c.return)}catch(Nt){Ir(c,c.return,Nt)}}break;case 1:ds(d,c),Ks(c),A&512&&y!==null&&Ld(y,y.return);break;case 5:if(ds(d,c),Ks(c),A&512&&y!==null&&Ld(y,y.return),c.flags&32){var O=c.stateNode;try{ft(O,"")}catch(Nt){Ir(c,c.return,Nt)}}if(A&4&&(O=c.stateNode,O!=null)){var k=c.memoizedProps,G=y!==null?y.memoizedProps:k,fe=c.type,me=c.updateQueue;if(c.updateQueue=null,me!==null)try{fe==="input"&&k.type==="radio"&&k.name!=null&&Be(O,k),Ue(fe,G);var Oe=Ue(fe,k);for(G=0;G<me.length;G+=2){var et=me[G],rt=me[G+1];et==="style"?_t(O,rt):et==="dangerouslySetInnerHTML"?Et(O,rt):et==="children"?ft(O,rt):b(O,et,rt,Oe)}switch(fe){case"input":ot(O,k);break;case"textarea":Q(O,k);break;case"select":var Je=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!k.multiple;var bt=k.value;bt!=null?Bt(O,!!k.multiple,bt,!1):Je!==!!k.multiple&&(k.defaultValue!=null?Bt(O,!!k.multiple,k.defaultValue,!0):Bt(O,!!k.multiple,k.multiple?[]:"",!1))}O[Hu]=k}catch(Nt){Ir(c,c.return,Nt)}}break;case 6:if(ds(d,c),Ks(c),A&4){if(c.stateNode===null)throw Error(n(162));O=c.stateNode,k=c.memoizedProps;try{O.nodeValue=k}catch(Nt){Ir(c,c.return,Nt)}}break;case 3:if(ds(d,c),Ks(c),A&4&&y!==null&&y.memoizedState.isDehydrated)try{Wc(d.containerInfo)}catch(Nt){Ir(c,c.return,Nt)}break;case 4:ds(d,c),Ks(c);break;case 13:ds(d,c),Ks(c),O=c.child,O.flags&8192&&(k=O.memoizedState!==null,O.stateNode.isHidden=k,!k||O.alternate!==null&&O.alternate.memoizedState!==null||(CS=Ce())),A&4&&sL(c);break;case 22:if(et=y!==null&&y.memoizedState!==null,c.mode&1?(Xi=(Oe=Xi)||et,ds(d,c),Xi=Oe):ds(d,c),Ks(c),A&8192){if(Oe=c.memoizedState!==null,(c.stateNode.isHidden=Oe)&&!et&&(c.mode&1)!==0)for(Pt=c,et=c.child;et!==null;){for(rt=Pt=et;Pt!==null;){switch(Je=Pt,bt=Je.child,Je.tag){case 0:case 11:case 14:case 15:xg(4,Je,Je.return);break;case 1:Ld(Je,Je.return);var Rt=Je.stateNode;if(typeof Rt.componentWillUnmount=="function"){A=Je,y=Je.return;try{d=A,Rt.props=d.memoizedProps,Rt.state=d.memoizedState,Rt.componentWillUnmount()}catch(Nt){Ir(A,y,Nt)}}break;case 5:Ld(Je,Je.return);break;case 22:if(Je.memoizedState!==null){fL(rt);continue}}bt!==null?(bt.return=Je,Pt=bt):fL(rt)}et=et.sibling}e:for(et=null,rt=c;;){if(rt.tag===5){if(et===null){et=rt;try{O=rt.stateNode,Oe?(k=O.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(fe=rt.stateNode,me=rt.memoizedProps.style,G=me!=null&&me.hasOwnProperty("display")?me.display:null,fe.style.display=Ot("display",G))}catch(Nt){Ir(c,c.return,Nt)}}}else if(rt.tag===6){if(et===null)try{rt.stateNode.nodeValue=Oe?"":rt.memoizedProps}catch(Nt){Ir(c,c.return,Nt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===c)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===c)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===c)break e;et===rt&&(et=null),rt=rt.return}et===rt&&(et=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:ds(d,c),Ks(c),A&4&&sL(c);break;case 21:break;default:ds(d,c),Ks(c)}}function Ks(c){var d=c.flags;if(d&2){try{e:{for(var y=c.return;y!==null;){if(iL(y)){var A=y;break e}y=y.return}throw Error(n(160))}switch(A.tag){case 5:var O=A.stateNode;A.flags&32&&(ft(O,""),A.flags&=-33);var k=aL(c);AS(c,k,O);break;case 3:case 4:var G=A.stateNode.containerInfo,fe=aL(c);ES(c,fe,G);break;default:throw Error(n(161))}}catch(me){Ir(c,c.return,me)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function Pq(c,d,y){Pt=c,uL(c)}function uL(c,d,y){for(var A=(c.mode&1)!==0;Pt!==null;){var O=Pt,k=O.child;if(O.tag===22&&A){var G=O.memoizedState!==null||L0;if(!G){var fe=O.alternate,me=fe!==null&&fe.memoizedState!==null||Xi;fe=L0;var Oe=Xi;if(L0=G,(Xi=me)&&!Oe)for(Pt=O;Pt!==null;)G=Pt,me=G.child,G.tag===22&&G.memoizedState!==null?hL(O):me!==null?(me.return=G,Pt=me):hL(O);for(;k!==null;)Pt=k,uL(k),k=k.sibling;Pt=O,L0=fe,Xi=Oe}cL(c)}else(O.subtreeFlags&8772)!==0&&k!==null?(k.return=O,Pt=k):cL(c)}}function cL(c){for(;Pt!==null;){var d=Pt;if((d.flags&8772)!==0){var y=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Xi||N0(5,d);break;case 1:var A=d.stateNode;if(d.flags&4&&!Xi)if(y===null)A.componentDidMount();else{var O=d.elementType===d.type?y.memoizedProps:Na(d.type,y.memoizedProps);A.componentDidUpdate(O,y.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var k=d.updateQueue;k!==null&&qu(d,k,A);break;case 3:var G=d.updateQueue;if(G!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=d.child.stateNode;break;case 1:y=d.child.stateNode}qu(d,G,y)}break;case 5:var fe=d.stateNode;if(y===null&&d.flags&4){y=fe;var me=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&y.focus();break;case"img":me.src&&(y.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Oe=d.alternate;if(Oe!==null){var et=Oe.memoizedState;if(et!==null){var rt=et.dehydrated;rt!==null&&Wc(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xi||d.flags&512&&MS(d)}catch(Je){Ir(d,d.return,Je)}}if(d===c){Pt=null;break}if(y=d.sibling,y!==null){y.return=d.return,Pt=y;break}Pt=d.return}}function fL(c){for(;Pt!==null;){var d=Pt;if(d===c){Pt=null;break}var y=d.sibling;if(y!==null){y.return=d.return,Pt=y;break}Pt=d.return}}function hL(c){for(;Pt!==null;){var d=Pt;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{N0(4,d)}catch(me){Ir(d,y,me)}break;case 1:var A=d.stateNode;if(typeof A.componentDidMount=="function"){var O=d.return;try{A.componentDidMount()}catch(me){Ir(d,O,me)}}var k=d.return;try{MS(d)}catch(me){Ir(d,k,me)}break;case 5:var G=d.return;try{MS(d)}catch(me){Ir(d,G,me)}}}catch(me){Ir(d,d.return,me)}if(d===c){Pt=null;break}var fe=d.sibling;if(fe!==null){fe.return=d.return,Pt=fe;break}Pt=d.return}}var Cq=Math.ceil,D0=T.ReactCurrentDispatcher,TS=T.ReactCurrentOwner,Po=T.ReactCurrentBatchConfig,Ln=0,_i=null,Zr=null,ki=0,no=0,Nd=_r(0),li=0,_g=null,Sf=0,k0=0,PS=0,wg=null,Da=null,CS=0,Dd=1/0,ql=null,U0=!1,RS=null,Ju=null,F0=!1,Qu=null,B0=0,Sg=0,OS=null,z0=-1,j0=0;function da(){return(Ln&6)!==0?Ce():z0!==-1?z0:z0=Ce()}function ec(c){return(c.mode&1)===0?1:(Ln&2)!==0&&ki!==0?ki&-ki:xS.transition!==null?(j0===0&&(j0=tr()),j0):(c=Cn,c!==0||(c=window.event,c=c===void 0?16:o0(c.type)),c)}function ps(c,d,y,A){if(50<Sg)throw Sg=0,OS=null,Error(n(185));Fr(c,y,A),((Ln&2)===0||c!==_i)&&(c===_i&&((Ln&2)===0&&(k0|=y),li===4&&tc(c,ki)),ka(c,A),y===1&&Ln===0&&(d.mode&1)===0&&(Dd=Ce()+500,of&&Mo()))}function ka(c,d){var y=c.callbackNode;In(c,d);var A=Kt(c,c===_i?ki:0);if(A===0)y!==null&&Ve(y),c.callbackNode=null,c.callbackPriority=0;else if(d=A&-A,c.callbackPriority!==d){if(y!=null&&Ve(y),d===1)c.tag===0?_0(pL.bind(null,c)):sf(pL.bind(null,c)),yS(function(){(Ln&6)===0&&Mo()}),y=null;else{switch(Tu(A)){case 1:y=ut;break;case 4:y=pt;break;case 16:y=Dt;break;case 536870912:y=jt;break;default:y=Dt}y=SL(y,dL.bind(null,c))}c.callbackPriority=d,c.callbackNode=y}}function dL(c,d){if(z0=-1,j0=0,(Ln&6)!==0)throw Error(n(327));var y=c.callbackNode;if(kd()&&c.callbackNode!==y)return null;var A=Kt(c,c===_i?ki:0);if(A===0)return null;if((A&30)!==0||(A&c.expiredLanes)!==0||d)d=V0(c,A);else{d=A;var O=Ln;Ln|=2;var k=gL();(_i!==c||ki!==d)&&(ql=null,Dd=Ce()+500,Mf(c,d));do try{Iq();break}catch(fe){mL(c,fe)}while(!0);Bl(),D0.current=k,Ln=O,Zr!==null?d=0:(_i=null,ki=0,d=li)}if(d!==0){if(d===2&&(O=xn(c),O!==0&&(A=O,d=IS(c,O))),d===1)throw y=_g,Mf(c,0),tc(c,A),ka(c,Ce()),y;if(d===6)tc(c,A);else{if(O=c.current.alternate,(A&30)===0&&!Rq(O)&&(d=V0(c,A),d===2&&(k=xn(c),k!==0&&(A=k,d=IS(c,k))),d===1))throw y=_g,Mf(c,0),tc(c,A),ka(c,Ce()),y;switch(c.finishedWork=O,c.finishedLanes=A,d){case 0:case 1:throw Error(n(345));case 2:Ef(c,Da,ql);break;case 3:if(tc(c,A),(A&130023424)===A&&(d=CS+500-Ce(),10<d)){if(Kt(c,0)!==0)break;if(O=c.suspendedLanes,(O&A)!==A){da(),c.pingedLanes|=c.suspendedLanes&O;break}c.timeoutHandle=Ym(Ef.bind(null,c,Da,ql),d);break}Ef(c,Da,ql);break;case 4:if(tc(c,A),(A&4194240)===A)break;for(d=c.eventTimes,O=-1;0<A;){var G=31-Vt(A);k=1<<G,G=d[G],G>O&&(O=G),A&=~k}if(A=O,A=Ce()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*Cq(A/1960))-A,10<A){c.timeoutHandle=Ym(Ef.bind(null,c,Da,ql),A);break}Ef(c,Da,ql);break;case 5:Ef(c,Da,ql);break;default:throw Error(n(329))}}}return ka(c,Ce()),c.callbackNode===y?dL.bind(null,c):null}function IS(c,d){var y=wg;return c.current.memoizedState.isDehydrated&&(Mf(c,d).flags|=256),c=V0(c,d),c!==2&&(d=Da,Da=y,d!==null&&LS(d)),c}function LS(c){Da===null?Da=c:Da.push.apply(Da,c)}function Rq(c){for(var d=c;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var A=0;A<y.length;A++){var O=y[A],k=O.getSnapshot;O=O.value;try{if(!aa(k(),O))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function tc(c,d){for(d&=~PS,d&=~k0,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var y=31-Vt(d),A=1<<y;c[y]=-1,d&=~A}}function pL(c){if((Ln&6)!==0)throw Error(n(327));kd();var d=Kt(c,0);if((d&1)===0)return ka(c,Ce()),null;var y=V0(c,d);if(c.tag!==0&&y===2){var A=xn(c);A!==0&&(d=A,y=IS(c,A))}if(y===1)throw y=_g,Mf(c,0),tc(c,d),ka(c,Ce()),y;if(y===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Ef(c,Da,ql),ka(c,Ce()),null}function NS(c,d){var y=Ln;Ln|=1;try{return c(d)}finally{Ln=y,Ln===0&&(Dd=Ce()+500,of&&Mo())}}function bf(c){Qu!==null&&Qu.tag===0&&(Ln&6)===0&&kd();var d=Ln;Ln|=1;var y=Po.transition,A=Cn;try{if(Po.transition=null,Cn=1,c)return c()}finally{Cn=A,Po.transition=y,Ln=d,(Ln&6)===0&&Mo()}}function DS(){no=Nd.current,Zn(Nd)}function Mf(c,d){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;if(y!==-1&&(c.timeoutHandle=-1,Km(y)),Zr!==null)for(y=Zr.return;y!==null;){var A=y;switch(is(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&rf();break;case 3:Xs(),Zn(Oi),Zn(ri),Ao();break;case 5:Xu(A);break;case 4:Xs();break;case 13:Zn(rr);break;case 19:Zn(rr);break;case 10:ff(A.type._context);break;case 22:case 23:DS()}y=y.return}if(_i=c,Zr=c=nc(c.current,null),ki=no=d,li=0,_g=null,PS=k0=Sf=0,Da=wg=null,os!==null){for(d=0;d<os.length;d++)if(y=os[d],A=y.interleaved,A!==null){y.interleaved=null;var O=A.next,k=y.pending;if(k!==null){var G=k.next;k.next=O,A.next=G}y.pending=A}os=null}return c}function mL(c,d){do{var y=Zr;try{if(Bl(),Hl.current=Od,eo){for(var A=Jn.memoizedState;A!==null;){var O=A.queue;O!==null&&(O.pending=null),A=A.next}eo=!1}if(ls=0,Rn=Sr=Jn=null,xi=!1,Ys=0,TS.current=null,y===null||y.return===null){li=1,_g=d,Zr=null;break}e:{var k=c,G=y.return,fe=y,me=d;if(d=ki,fe.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Oe=me,et=fe,rt=et.tag;if((et.mode&1)===0&&(rt===0||rt===11||rt===15)){var Je=et.alternate;Je?(et.updateQueue=Je.updateQueue,et.memoizedState=Je.memoizedState,et.lanes=Je.lanes):(et.updateQueue=null,et.memoizedState=null)}var bt=At(G);if(bt!==null){bt.flags&=-257,tn(bt,G,fe,k,d),bt.mode&1&&it(k,Oe,d),d=bt,me=Oe;var Rt=d.updateQueue;if(Rt===null){var Nt=new Set;Nt.add(me),d.updateQueue=Nt}else Rt.add(me);break e}else{if((d&1)===0){it(k,Oe,d),kS();break e}me=Error(n(426))}}else if(nr&&fe.mode&1){var jr=At(G);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),tn(jr,G,fe,k,d),Gu(R(me,fe));break e}}k=me=R(me,fe),li!==4&&(li=2),wg===null?wg=[k]:wg.push(k),k=G;do{switch(k.tag){case 3:k.flags|=65536,d&=-d,k.lanes|=d;var Se=ye(k,me,d);zl(k,Se);break e;case 1:fe=me;var ve=k.type,Ae=k.stateNode;if((k.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(Ju===null||!Ju.has(Ae)))){k.flags|=65536,d&=-d,k.lanes|=d;var at=je(k,fe,d);zl(k,at);break e}}k=k.return}while(k!==null)}yL(y)}catch(Ft){d=Ft,Zr===y&&y!==null&&(Zr=y=y.return);continue}break}while(!0)}function gL(){var c=D0.current;return D0.current=Od,c===null?Od:c}function kS(){(li===0||li===3||li===2)&&(li=4),_i===null||(Sf&268435455)===0&&(k0&268435455)===0||tc(_i,ki)}function V0(c,d){var y=Ln;Ln|=2;var A=gL();(_i!==c||ki!==d)&&(ql=null,Mf(c,d));do try{Oq();break}catch(O){mL(c,O)}while(!0);if(Bl(),Ln=y,D0.current=A,Zr!==null)throw Error(n(261));return _i=null,ki=0,li}function Oq(){for(;Zr!==null;)vL(Zr)}function Iq(){for(;Zr!==null&&!He();)vL(Zr)}function vL(c){var d=wL(c.alternate,c,no);c.memoizedProps=c.pendingProps,d===null?yL(c):Zr=d,TS.current=null}function yL(c){var d=c;do{var y=d.alternate;if(c=d.return,(d.flags&32768)===0){if(y=Mq(y,d,no),y!==null){Zr=y;return}}else{if(y=Eq(y,d),y!==null){y.flags&=32767,Zr=y;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{li=6,Zr=null;return}}if(d=d.sibling,d!==null){Zr=d;return}Zr=d=c}while(d!==null);li===0&&(li=5)}function Ef(c,d,y){var A=Cn,O=Po.transition;try{Po.transition=null,Cn=1,Lq(c,d,y,A)}finally{Po.transition=O,Cn=A}return null}function Lq(c,d,y,A){do kd();while(Qu!==null);if((Ln&6)!==0)throw Error(n(327));y=c.finishedWork;var O=c.finishedLanes;if(y===null)return null;if(c.finishedWork=null,c.finishedLanes=0,y===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var k=y.lanes|y.childLanes;if(xo(c,k),c===_i&&(Zr=_i=null,ki=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||F0||(F0=!0,SL(Dt,function(){return kd(),null})),k=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||k){k=Po.transition,Po.transition=null;var G=Cn;Cn=1;var fe=Ln;Ln|=4,TS.current=null,Tq(c,y),lL(y,c),qr(qm),Aa=!!Vu,qm=Vu=null,c.current=y,Pq(y),$e(),Ln=fe,Cn=G,Po.transition=k}else c.current=y;if(F0&&(F0=!1,Qu=c,B0=O),k=c.pendingLanes,k===0&&(Ju=null),It(y.stateNode),ka(c,Ce()),d!==null)for(A=c.onRecoverableError,y=0;y<d.length;y++)O=d[y],A(O.value,{componentStack:O.stack,digest:O.digest});if(U0)throw U0=!1,c=RS,RS=null,c;return(B0&1)!==0&&c.tag!==0&&kd(),k=c.pendingLanes,(k&1)!==0?c===OS?Sg++:(Sg=0,OS=c):Sg=0,Mo(),null}function kd(){if(Qu!==null){var c=Tu(B0),d=Po.transition,y=Cn;try{if(Po.transition=null,Cn=16>c?16:c,Qu===null)var A=!1;else{if(c=Qu,Qu=null,B0=0,(Ln&6)!==0)throw Error(n(331));var O=Ln;for(Ln|=4,Pt=c.current;Pt!==null;){var k=Pt,G=k.child;if((Pt.flags&16)!==0){var fe=k.deletions;if(fe!==null){for(var me=0;me<fe.length;me++){var Oe=fe[me];for(Pt=Oe;Pt!==null;){var et=Pt;switch(et.tag){case 0:case 11:case 15:xg(8,et,k)}var rt=et.child;if(rt!==null)rt.return=et,Pt=rt;else for(;Pt!==null;){et=Pt;var Je=et.sibling,bt=et.return;if(rL(et),et===Oe){Pt=null;break}if(Je!==null){Je.return=bt,Pt=Je;break}Pt=bt}}}var Rt=k.alternate;if(Rt!==null){var Nt=Rt.child;if(Nt!==null){Rt.child=null;do{var jr=Nt.sibling;Nt.sibling=null,Nt=jr}while(Nt!==null)}}Pt=k}}if((k.subtreeFlags&2064)!==0&&G!==null)G.return=k,Pt=G;else e:for(;Pt!==null;){if(k=Pt,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:xg(9,k,k.return)}var Se=k.sibling;if(Se!==null){Se.return=k.return,Pt=Se;break e}Pt=k.return}}var ve=c.current;for(Pt=ve;Pt!==null;){G=Pt;var Ae=G.child;if((G.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=G,Pt=Ae;else e:for(G=ve;Pt!==null;){if(fe=Pt,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:N0(9,fe)}}catch(Ft){Ir(fe,fe.return,Ft)}if(fe===G){Pt=null;break e}var at=fe.sibling;if(at!==null){at.return=fe.return,Pt=at;break e}Pt=fe.return}}if(Ln=O,Mo(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(yt,c)}catch{}A=!0}return A}finally{Cn=y,Po.transition=d}}return!1}function xL(c,d,y){d=R(y,d),d=ye(c,d,1),c=lr(c,d,1),d=da(),c!==null&&(Fr(c,1,d),ka(c,d))}function Ir(c,d,y){if(c.tag===3)xL(c,c,y);else for(;d!==null;){if(d.tag===3){xL(d,c,y);break}else if(d.tag===1){var A=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Ju===null||!Ju.has(A))){c=R(y,c),c=je(d,c,1),d=lr(d,c,1),c=da(),d!==null&&(Fr(d,1,c),ka(d,c));break}}d=d.return}}function Nq(c,d,y){var A=c.pingCache;A!==null&&A.delete(d),d=da(),c.pingedLanes|=c.suspendedLanes&y,_i===c&&(ki&y)===y&&(li===4||li===3&&(ki&130023424)===ki&&500>Ce()-CS?Mf(c,0):PS|=y),ka(c,d)}function _L(c,d){d===0&&((c.mode&1)===0?d=1:(d=On,On<<=1,(On&130023424)===0&&(On=4194304)));var y=da();c=Ja(c,d),c!==null&&(Fr(c,d,y),ka(c,y))}function Dq(c){var d=c.memoizedState,y=0;d!==null&&(y=d.retryLane),_L(c,y)}function kq(c,d){var y=0;switch(c.tag){case 13:var A=c.stateNode,O=c.memoizedState;O!==null&&(y=O.retryLane);break;case 19:A=c.stateNode;break;default:throw Error(n(314))}A!==null&&A.delete(d),_L(c,y)}var wL;wL=function(c,d,y){if(c!==null)if(c.memoizedProps!==d.pendingProps||Oi.current)hn=!0;else{if((c.lanes&y)===0&&(d.flags&128)===0)return hn=!1,bq(c,d,y);hn=(c.flags&131072)!==0}else hn=!1,nr&&(d.flags&1048576)!==0&&tg(d,wd,d.index);switch(d.lanes=0,d.tag){case 2:var A=d.type;I0(c,d),c=d.pendingProps;var O=Il(d,ri.current);qs(d,y),O=gf(null,d,A,c,O,y);var k=ug();return d.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,vi(A)?(k=!0,Ll(d)):k=!1,d.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,cn(d),O.updater=Id,d.stateNode=O,O._reactInternals=d,M(d,A,c,y),d=on(null,d,A,!0,k,y)):(d.tag=0,nr&&k&&ng(d),xt(null,d,O,y),d=d.child),d;case 16:A=d.elementType;e:{switch(I0(c,d),c=d.pendingProps,O=A._init,A=O(A._payload),d.type=A,O=d.tag=Fq(A),c=Na(A,c),O){case 0:d=vt(null,d,A,c,y);break e;case 1:d=kt(null,d,A,c,y);break e;case 11:d=si(null,d,A,c,y);break e;case 14:d=ha(null,d,A,Na(A.type,c),y);break e}throw Error(n(306,A,""))}return d;case 0:return A=d.type,O=d.pendingProps,O=d.elementType===A?O:Na(A,O),vt(c,d,A,O,y);case 1:return A=d.type,O=d.pendingProps,O=d.elementType===A?O:Na(A,O),kt(c,d,A,O,y);case 3:e:{if(nn(d),c===null)throw Error(n(387));A=d.pendingProps,k=d.memoizedState,O=k.element,Ar(c,d),wr(d,A,null,y);var G=d.memoizedState;if(A=G.element,k.isDehydrated)if(k={element:A,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){O=R(Error(n(423)),d),d=Tn(c,d,A,y,O);break e}else if(A!==O){O=R(Error(n(424)),d),d=Tn(c,d,A,y,O);break e}else for(Li=Qo(d.stateNode.containerInfo.firstChild),ii=d,nr=!0,La=null,y=cf(d,null,A,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if($s(),A===O){d=$l(c,d,y);break e}xt(c,d,A,y)}d=d.child}return d;case 5:return Vl(d),c===null&&bd(d),A=d.type,O=d.pendingProps,k=c!==null?c.memoizedProps:null,G=O.children,Xm(A,O)?G=null:k!==null&&Xm(A,k)&&(d.flags|=32),De(c,d),xt(c,d,G,y),d.child;case 6:return c===null&&bd(d),null;case 13:return fs(c,d,y);case 4:return pf(d,d.stateNode.containerInfo),A=d.pendingProps,c===null?d.child=kl(d,null,A,y):xt(c,d,A,y),d.child;case 11:return A=d.type,O=d.pendingProps,O=d.elementType===A?O:Na(A,O),si(c,d,A,O,y);case 7:return xt(c,d,d.pendingProps,y),d.child;case 8:return xt(c,d,d.pendingProps.children,y),d.child;case 12:return xt(c,d,d.pendingProps.children,y),d.child;case 10:e:{if(A=d.type._context,O=d.pendingProps,k=d.memoizedProps,G=O.value,qn(Ul,A._currentValue),A._currentValue=G,k!==null)if(aa(k.value,G)){if(k.children===O.children&&!Oi.current){d=$l(c,d,y);break e}}else for(k=d.child,k!==null&&(k.return=d);k!==null;){var fe=k.dependencies;if(fe!==null){G=k.child;for(var me=fe.firstContext;me!==null;){if(me.context===A){if(k.tag===1){me=Hn(-1,y&-y),me.tag=2;var Oe=k.updateQueue;if(Oe!==null){Oe=Oe.shared;var et=Oe.pending;et===null?me.next=me:(me.next=et.next,et.next=me),Oe.pending=me}}k.lanes|=y,me=k.alternate,me!==null&&(me.lanes|=y),hf(k.return,y,d),fe.lanes|=y;break}me=me.next}}else if(k.tag===10)G=k.type===d.type?null:k.child;else if(k.tag===18){if(G=k.return,G===null)throw Error(n(341));G.lanes|=y,fe=G.alternate,fe!==null&&(fe.lanes|=y),hf(G,y,d),G=k.sibling}else G=k.child;if(G!==null)G.return=k;else for(G=k;G!==null;){if(G===d){G=null;break}if(k=G.sibling,k!==null){k.return=G.return,G=k;break}G=G.return}k=G}xt(c,d,O.children,y),d=d.child}return d;case 9:return O=d.type,A=d.pendingProps.children,qs(d,y),O=la(O),A=A(O),d.flags|=1,xt(c,d,A,y),d.child;case 14:return A=d.type,O=Na(A,d.pendingProps),O=Na(A.type,O),ha(c,d,A,O,y);case 15:return Te(c,d,d.type,d.pendingProps,y);case 17:return A=d.type,O=d.pendingProps,O=d.elementType===A?O:Na(A,O),I0(c,d),d.tag=1,vi(A)?(c=!0,Ll(d)):c=!1,qs(d,y),m(d,A,O),M(d,A,O,y),on(null,d,A,!0,c,y);case 19:return JI(c,d,y);case 22:return xe(c,d,y)}throw Error(n(156,d.tag))};function SL(c,d){return Pe(c,d)}function Uq(c,d,y,A){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Co(c,d,y,A){return new Uq(c,d,y,A)}function US(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Fq(c){if(typeof c=="function")return US(c)?1:0;if(c!=null){if(c=c.$$typeof,c===Y)return 11;if(c===ee)return 14}return 2}function nc(c,d){var y=c.alternate;return y===null?(y=Co(c.tag,d,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=d,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&14680064,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,d=c.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y}function H0(c,d,y,A,O,k){var G=2;if(A=c,typeof c=="function")US(c)&&(G=1);else if(typeof c=="string")G=5;else e:switch(c){case L:return Af(y.children,O,k,d);case D:G=8,O|=8;break;case I:return c=Co(12,y,d,O|2),c.elementType=I,c.lanes=k,c;case H:return c=Co(13,y,d,O),c.elementType=H,c.lanes=k,c;case K:return c=Co(19,y,d,O),c.elementType=K,c.lanes=k,c;case ae:return W0(y,O,k,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case F:G=10;break e;case z:G=9;break e;case Y:G=11;break e;case ee:G=14;break e;case oe:G=16,A=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return d=Co(G,y,d,O),d.elementType=c,d.type=A,d.lanes=k,d}function Af(c,d,y,A){return c=Co(7,c,A,d),c.lanes=y,c}function W0(c,d,y,A){return c=Co(22,c,A,d),c.elementType=ae,c.lanes=y,c.stateNode={isHidden:!1},c}function FS(c,d,y){return c=Co(6,c,null,d),c.lanes=y,c}function BS(c,d,y){return d=Co(4,c.children!==null?c.children:[],c.key,d),d.lanes=y,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function Bq(c,d,y,A,O){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$a(0),this.expirationTimes=$a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.identifierPrefix=A,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function zS(c,d,y,A,O,k,G,fe,me){return c=new Bq(c,d,y,fe,me),d===1?(d=1,k===!0&&(d|=8)):d=0,k=Co(3,null,null,d),c.current=k,k.stateNode=c,k.memoizedState={element:A,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},cn(k),c}function zq(c,d,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:A==null?null:""+A,children:c,containerInfo:d,implementation:y}}function bL(c){if(!c)return ts;c=c._reactInternals;e:{if(U(c)!==c||c.tag!==1)throw Error(n(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(vi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(c.tag===1){var y=c.type;if(vi(y))return af(c,y,d)}return d}function ML(c,d,y,A,O,k,G,fe,me){return c=zS(y,A,!0,c,O,k,G,fe,me),c.context=bL(null),y=c.current,A=da(),O=ec(y),k=Hn(A,O),k.callback=d??null,lr(y,k,O),c.current.lanes=O,Fr(c,O,A),ka(c,A),c}function G0(c,d,y,A){var O=d.current,k=da(),G=ec(O);return y=bL(y),d.context===null?d.context=y:d.pendingContext=y,d=Hn(k,G),d.payload={element:c},A=A===void 0?null:A,A!==null&&(d.callback=A),c=lr(O,d,G),c!==null&&(ps(c,O,G,k),yi(c,O,G)),G}function $0(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function EL(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<d?y:d}}function jS(c,d){EL(c,d),(c=c.alternate)&&EL(c,d)}function jq(){return null}var AL=typeof reportError=="function"?reportError:function(c){console.error(c)};function VS(c){this._internalRoot=c}q0.prototype.render=VS.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));G0(c,d,null,null)},q0.prototype.unmount=VS.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;bf(function(){G0(null,c,null,null)}),d[sa]=null}};function q0(c){this._internalRoot=c}q0.prototype.unstable_scheduleHydration=function(c){if(c){var d=zh();c={blockedOn:null,target:c,priority:d};for(var y=0;y<Fs.length&&d!==0&&d<Fs[y].priority;y++);Fs.splice(y,0,c),y===0&&Hh(c)}};function HS(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function X0(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function TL(){}function Vq(c,d,y,A,O){if(O){if(typeof A=="function"){var k=A;A=function(){var Oe=$0(G);k.call(Oe)}}var G=ML(d,A,c,0,null,!1,!1,"",TL);return c._reactRootContainer=G,c[sa]=G.current,zu(c.nodeType===8?c.parentNode:c),bf(),G}for(;O=c.lastChild;)c.removeChild(O);if(typeof A=="function"){var fe=A;A=function(){var Oe=$0(me);fe.call(Oe)}}var me=zS(c,0,!1,null,null,!1,!1,"",TL);return c._reactRootContainer=me,c[sa]=me.current,zu(c.nodeType===8?c.parentNode:c),bf(function(){G0(d,me,y,A)}),me}function Y0(c,d,y,A,O){var k=y._reactRootContainer;if(k){var G=k;if(typeof O=="function"){var fe=O;O=function(){var me=$0(G);fe.call(me)}}G0(d,G,c,O)}else G=Vq(y,d,c,O,A);return $0(G)}jc=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var y=er(d.pendingLanes);y!==0&&(Au(d,y|1),ka(d,Ce()),(Ln&6)===0&&(Dd=Ce()+500,Mo()))}break;case 13:bf(function(){var A=Ja(c,1);if(A!==null){var O=da();ps(A,c,1,O)}}),jS(c,1)}},Rm=function(c){if(c.tag===13){var d=Ja(c,134217728);if(d!==null){var y=da();ps(d,c,134217728,y)}jS(c,134217728)}},a0=function(c){if(c.tag===13){var d=ec(c),y=Ja(c,d);if(y!==null){var A=da();ps(y,c,d,A)}jS(c,d)}},zh=function(){return Cn},jh=function(c,d){var y=Cn;try{return Cn=c,d()}finally{Cn=y}},we=function(c,d,y){switch(d){case"input":if(ot(c,y),d=y.name,y.type==="radio"&&d!=null){for(y=c;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<y.length;d++){var A=y[d];if(A!==c&&A.form===c.form){var O=yd(A);if(!O)throw Error(n(90));Z(A),ot(A,O)}}}break;case"textarea":Q(c,y);break;case"select":d=y.value,d!=null&&Bt(c,!!y.multiple,d,!1)}},An=NS,yr=bf;var Hq={usingClientEntryPoint:!1,Events:[es,Er,yd,un,dn,NS]},bg={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wq={bundleType:bg.bundleType,version:bg.version,rendererPackageName:bg.rendererPackageName,rendererConfig:bg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=ce(c),c===null?null:c.stateNode},findFiberByHostInstance:bg.findFiberByHostInstance||jq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K0.isDisabled&&K0.supportsFiber)try{yt=K0.inject(Wq),Ut=K0}catch{}}return Ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hq,Ua.createPortal=function(c,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HS(d))throw Error(n(200));return zq(c,d,null,y)},Ua.createRoot=function(c,d){if(!HS(c))throw Error(n(299));var y=!1,A="",O=AL;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(O=d.onRecoverableError)),d=zS(c,1,!1,null,null,y,!1,A,O),c[sa]=d.current,zu(c.nodeType===8?c.parentNode:c),new VS(d)},Ua.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=ce(d),c=c===null?null:c.stateNode,c},Ua.flushSync=function(c){return bf(c)},Ua.hydrate=function(c,d,y){if(!X0(d))throw Error(n(200));return Y0(null,c,d,!0,y)},Ua.hydrateRoot=function(c,d,y){if(!HS(c))throw Error(n(405));var A=y!=null&&y.hydratedSources||null,O=!1,k="",G=AL;if(y!=null&&(y.unstable_strictMode===!0&&(O=!0),y.identifierPrefix!==void 0&&(k=y.identifierPrefix),y.onRecoverableError!==void 0&&(G=y.onRecoverableError)),d=ML(d,null,c,1,y??null,O,!1,k,G),c[sa]=d.current,zu(c),A)for(c=0;c<A.length;c++)y=A[c],O=y._getVersion,O=O(y._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[y,O]:d.mutableSourceEagerHydrationData.push(y,O);return new q0(d)},Ua.render=function(c,d,y){if(!X0(d))throw Error(n(200));return Y0(null,c,d,!1,y)},Ua.unmountComponentAtNode=function(c){if(!X0(c))throw Error(n(40));return c._reactRootContainer?(bf(function(){Y0(null,null,c,!1,function(){c._reactRootContainer=null,c[sa]=null})}),!0):!1},Ua.unstable_batchedUpdates=NS,Ua.unstable_renderSubtreeIntoContainer=function(c,d,y,A){if(!X0(y))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return Y0(c,d,y,!1,A)},Ua.version="18.3.1-next-f1338f8080-20240426",Ua}var DL;function e9(){if(DL)return $S.exports;DL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$S.exports=Qq(),$S.exports}var kL;function t9(){if(kL)return J0;kL=1;var t=e9();return J0.createRoot=t.createRoot,J0.hydrateRoot=t.hydrateRoot,J0}var pj=t9();const G2=te.createContext({});function pm(t){const e=te.useRef(null);return e.current===null&&(e.current=t()),e.current}const $2=typeof window<"u",V1=$2?te.useLayoutEffect:te.useEffect,H1=te.createContext(null);function q2(t,e){t.indexOf(e)===-1&&t.push(e)}function X2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const cl=(t,e,n)=>n>e?e:n<t?t:n;let n9=()=>{},Y2=()=>{};const fu={},mj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function gj(t){return typeof t=="object"&&t!==null}const vj=t=>/^0[^.\s]+$/u.test(t);function K2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Va=t=>t,r9=(t,e)=>n=>e(t(n)),Iy=(...t)=>t.reduce(r9),Np=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Z2{constructor(){this.subscriptions=[]}add(e){return q2(this.subscriptions,e),()=>X2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rl=t=>t*1e3,il=t=>t/1e3;function J2(t,e){return e?t*(1e3/e):0}const yj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,i9=1e-7,a9=12;function o9(t,e,n,r,i){let a,o,s=0;do o=e+(n-e)/2,a=yj(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>i9&&++s<a9);return o}function Ly(t,e,n,r){if(t===e&&n===r)return Va;const i=a=>o9(a,0,1,t,n);return a=>a===0||a===1?a:yj(i(a),e,r)}const xj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_j=t=>e=>1-t(1-e),wj=Ly(.33,1.53,.69,.99),Q2=_j(wj),Sj=xj(Q2),bj=t=>(t*=2)<1?.5*Q2(t):.5*(2-Math.pow(2,-10*(t-1))),eR=t=>1-Math.sin(Math.acos(t)),Mj=_j(eR),Ej=xj(eR),s9=Ly(.42,0,1,1),l9=Ly(0,0,.58,1),Aj=Ly(.42,0,.58,1),u9=t=>Array.isArray(t)&&typeof t[0]!="number",Tj=t=>Array.isArray(t)&&typeof t[0]=="number",c9={linear:Va,easeIn:s9,easeInOut:Aj,easeOut:l9,circIn:eR,circInOut:Ej,circOut:Mj,backIn:Q2,backInOut:Sj,backOut:wj,anticipate:bj},f9=t=>typeof t=="string",UL=t=>{if(Tj(t)){Y2(t.length===4);const[e,n,r,i]=t;return Ly(e,n,r,i)}else if(f9(t))return c9[t];return t},Q0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function h9(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(f){o.has(f)&&(u.schedule(f),t()),f(s)}const u={schedule:(f,h=!1,p=!1)=>{const _=p&&i?n:r;return h&&o.add(f),_.has(f)||_.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(s=f,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,a&&(a=!1,u.process(f))}};return u}const d9=40;function Pj(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Q0.reduce((b,T)=>(b[T]=h9(a),b),{}),{setup:s,read:l,resolveKeyframes:u,preUpdate:f,update:h,preRender:p,render:v,postRender:_}=o,S=()=>{const b=fu.useManualTiming?i.timestamp:performance.now();n=!1,fu.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,d9),1)),i.timestamp=b,i.isProcessing=!0,s.process(i),l.process(i),u.process(i),f.process(i),h.process(i),p.process(i),v.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},x=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Q0.reduce((b,T)=>{const P=o[T];return b[T]=(C,L=!1,D=!1)=>(n||x(),P.schedule(C,L,D)),b},{}),cancel:b=>{for(let T=0;T<Q0.length;T++)o[Q0[T]].cancel(b)},state:i,steps:o}}const{schedule:Yn,cancel:Os,state:bi,steps:YS}=Pj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Va,!0);let h_;function p9(){h_=void 0}const za={now:()=>(h_===void 0&&za.set(bi.isProcessing||fu.useManualTiming?bi.timestamp:performance.now()),h_),set:t=>{h_=t,queueMicrotask(p9)}},Cj=t=>e=>typeof e=="string"&&e.startsWith(t),tR=Cj("--"),m9=Cj("var(--"),nR=t=>m9(t)?g9.test(t.split("/*")[0].trim()):!1,g9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Av={...mm,transform:t=>cl(0,1,t)},ex={...mm,default:1},sv=t=>Math.round(t*1e5)/1e5,rR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v9(t){return t==null}const y9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iR=(t,e)=>n=>!!(typeof n=="string"&&y9.test(n)&&n.startsWith(t)||e&&!v9(n)&&Object.prototype.hasOwnProperty.call(n,e)),Rj=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,s]=r.match(rR);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},x9=t=>cl(0,255,t),KS={...mm,transform:t=>Math.round(x9(t))},Yf={test:iR("rgb","red"),parse:Rj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+KS.transform(t)+", "+KS.transform(e)+", "+KS.transform(n)+", "+sv(Av.transform(r))+")"};function _9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sP={test:iR("#"),parse:_9,transform:Yf.transform},Ny=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fc=Ny("deg"),al=Ny("%"),Jt=Ny("px"),w9=Ny("vh"),S9=Ny("vw"),FL={...al,parse:t=>al.parse(t)/100,transform:t=>al.transform(t*100)},hp={test:iR("hsl","hue"),parse:Rj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+al.transform(sv(e))+", "+al.transform(sv(n))+", "+sv(Av.transform(r))+")"},ei={test:t=>Yf.test(t)||sP.test(t)||hp.test(t),parse:t=>Yf.test(t)?Yf.parse(t):hp.test(t)?hp.parse(t):sP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yf.transform(t):hp.transform(t),getAnimatableNone:t=>{const e=ei.parse(t);return e.alpha=0,ei.transform(e)}},b9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(rR))==null?void 0:e.length)||0)+(((n=t.match(b9))==null?void 0:n.length)||0)>0}const Oj="number",Ij="color",E9="var",A9="var(",BL="${}",T9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tv(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=e.replace(T9,l=>(ei.test(l)?(r.color.push(a),i.push(Ij),n.push(ei.parse(l))):l.startsWith(A9)?(r.var.push(a),i.push(E9),n.push(l)):(r.number.push(a),i.push(Oj),n.push(parseFloat(l))),++a,BL)).split(BL);return{values:n,split:s,indexes:r,types:i}}function Lj(t){return Tv(t).values}function Nj(t){const{split:e,types:n}=Tv(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const s=n[o];s===Oj?a+=sv(i[o]):s===Ij?a+=ei.transform(i[o]):a+=i[o]}return a}}const P9=t=>typeof t=="number"?0:ei.test(t)?ei.getAnimatableNone(t):t;function C9(t){const e=Lj(t);return Nj(t)(e.map(P9))}const Ac={test:M9,parse:Lj,createTransformer:Nj,getAnimatableNone:C9};function ZS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function R9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=ZS(l,s,t+1/3),a=ZS(l,s,t),o=ZS(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function O_(t,e){return n=>n>0?e:t}const Pr=(t,e,n)=>t+(e-t)*n,JS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},O9=[sP,Yf,hp],I9=t=>O9.find(e=>e.test(t));function zL(t){const e=I9(t);if(!e)return!1;let n=e.parse(t);return e===hp&&(n=R9(n)),n}const jL=(t,e)=>{const n=zL(t),r=zL(e);if(!n||!r)return O_(t,e);const i={...n};return a=>(i.red=JS(n.red,r.red,a),i.green=JS(n.green,r.green,a),i.blue=JS(n.blue,r.blue,a),i.alpha=Pr(n.alpha,r.alpha,a),Yf.transform(i))},lP=new Set(["none","hidden"]);function L9(t,e){return lP.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function N9(t,e){return n=>Pr(t,e,n)}function aR(t){return typeof t=="number"?N9:typeof t=="string"?nR(t)?O_:ei.test(t)?jL:U9:Array.isArray(t)?Dj:typeof t=="object"?ei.test(t)?jL:D9:O_}function Dj(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>aR(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function D9(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=aR(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function k9(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],s=t.values[o]??0;n[i]=s,r[a]++}return n}const U9=(t,e)=>{const n=Ac.createTransformer(e),r=Tv(t),i=Tv(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?lP.has(t)&&!i.values.length||lP.has(e)&&!r.values.length?L9(t,e):Iy(Dj(k9(r,i),i.values),n):O_(t,e)};function kj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pr(t,e,n):aR(t)(t,e)}const F9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Yn.update(e,n),stop:()=>Os(e),now:()=>bi.isProcessing?bi.timestamp:za.now()}},Uj=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},I_=2e4;function oR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<I_;)e+=n,r=t.next(e);return e>=I_?1/0:e}function B9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(oR(r),I_);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:il(i)}}const z9=5;function Fj(t,e,n){const r=Math.max(e-z9,0);return J2(n-t(r),e-r)}const Nr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},QS=.001;function j9({duration:t=Nr.duration,bounce:e=Nr.bounce,velocity:n=Nr.velocity,mass:r=Nr.mass}){let i,a,o=1-e;o=cl(Nr.minDamping,Nr.maxDamping,o),t=cl(Nr.minDuration,Nr.maxDuration,il(t)),o<1?(i=u=>{const f=u*o,h=f*t,p=f-n,v=uP(u,o),_=Math.exp(-h);return QS-p/v*_},a=u=>{const h=u*o*t,p=h*n+n,v=Math.pow(o,2)*Math.pow(u,2)*t,_=Math.exp(-h),S=uP(Math.pow(u,2),o);return(-i(u)+QS>0?-1:1)*((p-v)*_)/S}):(i=u=>{const f=Math.exp(-u*t),h=(u-n)*t+1;return-QS+f*h},a=u=>{const f=Math.exp(-u*t),h=(n-u)*(t*t);return f*h});const s=5/t,l=H9(i,a,s);if(t=rl(t),isNaN(l))return{stiffness:Nr.stiffness,damping:Nr.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const V9=12;function H9(t,e,n){let r=n;for(let i=1;i<V9;i++)r=r-t(r)/e(r);return r}function uP(t,e){return t*Math.sqrt(1-e*e)}const W9=["duration","bounce"],G9=["stiffness","damping","mass"];function VL(t,e){return e.some(n=>t[n]!==void 0)}function $9(t){let e={velocity:Nr.velocity,stiffness:Nr.stiffness,damping:Nr.damping,mass:Nr.mass,isResolvedFromDuration:!1,...t};if(!VL(t,G9)&&VL(t,W9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*cl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Nr.mass,stiffness:i,damping:a}}else{const n=j9(t);e={...e,...n,mass:Nr.mass},e.isResolvedFromDuration=!0}return e}function L_(t=Nr.visualDuration,e=Nr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:u,mass:f,duration:h,velocity:p,isResolvedFromDuration:v}=$9({...n,velocity:-il(n.velocity||0)}),_=p||0,S=u/(2*Math.sqrt(l*f)),x=o-a,w=il(Math.sqrt(l/f)),E=Math.abs(x)<5;r||(r=E?Nr.restSpeed.granular:Nr.restSpeed.default),i||(i=E?Nr.restDelta.granular:Nr.restDelta.default);let b;if(S<1){const P=uP(w,S);b=C=>{const L=Math.exp(-S*w*C);return o-L*((_+S*w*x)/P*Math.sin(P*C)+x*Math.cos(P*C))}}else if(S===1)b=P=>o-Math.exp(-w*P)*(x+(_+w*x)*P);else{const P=w*Math.sqrt(S*S-1);b=C=>{const L=Math.exp(-S*w*C),D=Math.min(P*C,300);return o-L*((_+S*w*x)*Math.sinh(D)+P*x*Math.cosh(D))/P}}const T={calculatedDuration:v&&h||null,next:P=>{const C=b(P);if(v)s.done=P>=h;else{let L=P===0?_:0;S<1&&(L=P===0?rl(_):Fj(b,P,C));const D=Math.abs(L)<=r,I=Math.abs(o-C)<=i;s.done=D&&I}return s.value=s.done?o:C,s},toString:()=>{const P=Math.min(oR(T),I_),C=Uj(L=>T.next(P*L).value,P,30);return P+"ms "+C},toTransition:()=>{}};return T}L_.applyToOptions=t=>{const e=B9(t,100,L_);return t.ease=e.ease,t.duration=rl(e.duration),t.type="keyframes",t};function cP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},v=D=>s!==void 0&&D<s||l!==void 0&&D>l,_=D=>s===void 0?l:l===void 0||Math.abs(s-D)<Math.abs(l-D)?s:l;let S=n*e;const x=h+S,w=o===void 0?x:o(x);w!==x&&(S=w-h);const E=D=>-S*Math.exp(-D/r),b=D=>w+E(D),T=D=>{const I=E(D),F=b(D);p.done=Math.abs(I)<=u,p.value=p.done?w:F};let P,C;const L=D=>{v(p.value)&&(P=D,C=L_({keyframes:[p.value,_(p.value)],velocity:Fj(b,D,p.value),damping:i,stiffness:a,restDelta:u,restSpeed:f}))};return L(0),{calculatedDuration:null,next:D=>{let I=!1;return!C&&P===void 0&&(I=!0,T(D),L(D)),P!==void 0&&D>=P?C.next(D-P):(!I&&T(D),p)}}}function q9(t,e,n){const r=[],i=n||fu.mix||kj,a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Va:e;s=Iy(l,s)}r.push(s)}return r}function sR(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Y2(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=q9(e,r,i),l=s.length,u=f=>{if(o&&f<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const p=Np(t[h],t[h+1],f);return s[h](p)};return n?f=>u(cl(t[0],t[a-1],f)):u}function X9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Np(0,e,r);t.push(Pr(n,1,i))}}function Bj(t){const e=[0];return X9(e,t.length-1),e}function Y9(t,e){return t.map(n=>n*e)}function K9(t,e){return t.map(()=>e||Aj).splice(0,t.length-1)}function lv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=u9(r)?r.map(UL):UL(r),a={done:!1,value:e[0]},o=Y9(n&&n.length===e.length?n:Bj(e),t),s=sR(o,e,{ease:Array.isArray(i)?i:K9(e,i)});return{calculatedDuration:t,next:l=>(a.value=s(l),a.done=l>=t,a)}}const Z9=t=>t!==null;function lR(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(Z9),s=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!s||r===void 0?a[s]:r}const J9={decay:cP,inertia:cP,tween:lv,keyframes:lv,spring:L_};function zj(t){typeof t.type=="string"&&(t.type=J9[t.type])}class uR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Q9=t=>t/100;class cR extends uR{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==za.now()&&this.tick(za.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zj(e);const{type:n=lv,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:s}=e;const l=n||lv;l!==lv&&typeof s[0]!="number"&&(this.mixKeyframes=Iy(Q9,kj(s[0],s[1])),s=[0,100]);const u=l({...e,keyframes:s});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...s].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=oR(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:f,repeat:h,repeatType:p,repeatDelay:v,type:_,onUpdate:S,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,T=r;if(h){const D=Math.min(this.currentTime,i)/s;let I=Math.floor(D),F=D%1;!F&&D>=1&&(F=1),F===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(p==="reverse"?(F=1-F,v&&(F-=v/s)):p==="mirror"&&(T=o)),b=cl(0,1,F)*s}const P=E?{done:!1,value:f[0]}:T.next(b);a&&(P.value=a(P.value));let{done:C}=P;!E&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return L&&_!==cP&&(P.value=lR(f,this.options,x,this.speed)),S&&S(P.value),L&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return il(this.calculatedDuration)}get time(){return il(this.currentTime)}set time(e){var n;e=rl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(za.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=il(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=F9,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(za.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function e7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Kf=t=>t*180/Math.PI,fP=t=>{const e=Kf(Math.atan2(t[1],t[0]));return hP(e)},t7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fP,rotateZ:fP,skewX:t=>Kf(Math.atan(t[1])),skewY:t=>Kf(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},hP=t=>(t=t%360,t<0&&(t+=360),t),HL=fP,WL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),GL=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),n7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WL,scaleY:GL,scale:t=>(WL(t)+GL(t))/2,rotateX:t=>hP(Kf(Math.atan2(t[6],t[5]))),rotateY:t=>hP(Kf(Math.atan2(-t[2],t[0]))),rotateZ:HL,rotate:HL,skewX:t=>Kf(Math.atan(t[4])),skewY:t=>Kf(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function dP(t){return t.includes("scale")?1:0}function pP(t,e){if(!t||t==="none")return dP(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=n7,i=n;else{const s=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=t7,i=s}if(!i)return dP(e);const a=r[e],o=i[1].split(",").map(i7);return typeof a=="function"?a(o):o[a]}const r7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return pP(n,e)};function i7(t){return parseFloat(t.trim())}const gm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vm=new Set(gm),$L=t=>t===mm||t===Jt,a7=new Set(["x","y","z"]),o7=gm.filter(t=>!a7.has(t));function s7(t){const e=[];return o7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const sh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>pP(e,"x"),y:(t,{transform:e})=>pP(e,"y")};sh.translateX=sh.x;sh.translateY=sh.y;const lh=new Set;let mP=!1,gP=!1,vP=!1;function jj(){if(gP){const t=Array.from(lh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=s7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var s;(s=r.getValue(a))==null||s.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gP=!1,mP=!1,lh.forEach(t=>t.complete(vP)),lh.clear()}function Vj(){lh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gP=!0)})}function l7(){vP=!0,Vj(),jj(),vP=!1}class fR{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lh.add(this),mP||(mP=!0,Yn.read(Vj),Yn.resolveKeyframes(jj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const s=r.readValue(n,o);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}e7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lh.delete(this)}cancel(){this.state==="scheduled"&&(lh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const u7=t=>t.startsWith("--");function c7(t,e,n){u7(e)?t.style.setProperty(e,n):t.style[e]=n}const Hj=K2(()=>window.ScrollTimeline!==void 0),f7={};function h7(t,e){const n=K2(t);return()=>f7[e]??n()}const Wj=h7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,qL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jg([0,.65,.55,1]),circOut:Jg([.55,0,1,.45]),backIn:Jg([.31,.01,.66,-.59]),backOut:Jg([.33,1.53,.69,.99])};function Gj(t,e){if(t)return typeof t=="function"?Wj()?Uj(t,e):"ease-out":Tj(t)?Jg(t):Array.isArray(t)?t.map(n=>Gj(n,e)||qL.easeOut):qL[t]}function d7(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:l}={},u=void 0){const f={[e]:n};l&&(f.offset=l);const h=Gj(s,i);Array.isArray(h)&&(f.easing=h);const p={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(f,p)}function $j(t){return typeof t=="function"&&"applyToOptions"in t}function p7({type:t,...e}){return $j(t)&&Wj()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class m7 extends uR{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Y2(typeof e.type!="string");const u=p7(e);this.animation=d7(n,r,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=lR(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(f):c7(n,r,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return il(Number(e))}get time(){return il(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Hj()?(this.animation.timeline=e,Va):n(this)}}const qj={anticipate:bj,backInOut:Sj,circInOut:Ej};function g7(t){return t in qj}function v7(t){typeof t.ease=="string"&&g7(t.ease)&&(t.ease=qj[t.ease])}const XL=10;class y7 extends m7{constructor(e){v7(e),zj(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const s=new cR({...o,autoplay:!1}),l=rl(this.finishedTime??this.time);n.setWithVelocity(s.sample(l-XL).value,s.sample(l).value,XL),s.stop()}}const YL=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ac.test(t)||t==="0")&&!t.startsWith("url("));function x7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function _7(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=YL(i,e),s=YL(a,e);return!o||!s?!1:x7(t)||(n==="spring"||$j(n))&&r}function W1(t){return gj(t)&&"offsetHeight"in t}const w7=new Set(["opacity","clipPath","filter","transform"]),S7=K2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function b7(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!W1((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:s,transformTemplate:l}=e.owner.getProps();return S7()&&n&&w7.has(n)&&(n!=="transform"||!l)&&!s&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const M7=40;class E7 extends uR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:s,name:l,motionValue:u,element:f,...h}){var _;super(),this.stop=()=>{var S,x;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=za.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:l,motionValue:u,element:f,...h},v=(f==null?void 0:f.KeyframeResolver)||fR;this.keyframeResolver=new v(s,(S,x,w)=>this.onKeyframesResolved(S,x,p,!w),l,u,f),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:s,delay:l,isHandoff:u,onUpdate:f}=r;this.resolvedAt=za.now(),_7(e,a,o,s)||((fu.instantAnimations||!l)&&(f==null||f(lR(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>M7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!u&&b7(p)?new y7({...p,element:p.motionValue.owner.current}):new cR(p);v.finished.then(()=>this.notifyFinished()).catch(Va),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),l7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const A7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function T7(t){const e=A7.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Xj(t,e,n=1){const[r,i]=T7(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return mj(o)?parseFloat(o):o}return nR(i)?Xj(i,e,n+1):i}function hR(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Yj=new Set(["width","height","top","left","right","bottom",...gm]),P7={test:t=>t==="auto",parse:t=>t},Kj=t=>e=>e.test(t),Zj=[mm,Jt,al,fc,S9,w9,P7],KL=t=>Zj.find(Kj(t));function C7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vj(t):!0}const R7=new Set(["brightness","contrast","saturate","opacity"]);function O7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(rR)||[];if(!r)return t;const i=n.replace(r,"");let a=R7.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const I7=/\b([a-z-]*)\(.*?\)/gu,yP={...Ac,getAnimatableNone:t=>{const e=t.match(I7);return e?e.map(O7).join(" "):t}},ZL={...mm,transform:Math.round},L7={rotate:fc,rotateX:fc,rotateY:fc,rotateZ:fc,scale:ex,scaleX:ex,scaleY:ex,scaleZ:ex,skew:fc,skewX:fc,skewY:fc,distance:Jt,translateX:Jt,translateY:Jt,translateZ:Jt,x:Jt,y:Jt,z:Jt,perspective:Jt,transformPerspective:Jt,opacity:Av,originX:FL,originY:FL,originZ:Jt},dR={borderWidth:Jt,borderTopWidth:Jt,borderRightWidth:Jt,borderBottomWidth:Jt,borderLeftWidth:Jt,borderRadius:Jt,radius:Jt,borderTopLeftRadius:Jt,borderTopRightRadius:Jt,borderBottomRightRadius:Jt,borderBottomLeftRadius:Jt,width:Jt,maxWidth:Jt,height:Jt,maxHeight:Jt,top:Jt,right:Jt,bottom:Jt,left:Jt,padding:Jt,paddingTop:Jt,paddingRight:Jt,paddingBottom:Jt,paddingLeft:Jt,margin:Jt,marginTop:Jt,marginRight:Jt,marginBottom:Jt,marginLeft:Jt,backgroundPositionX:Jt,backgroundPositionY:Jt,...L7,zIndex:ZL,fillOpacity:Av,strokeOpacity:Av,numOctaves:ZL},N7={...dR,color:ei,backgroundColor:ei,outlineColor:ei,fill:ei,stroke:ei,borderColor:ei,borderTopColor:ei,borderRightColor:ei,borderBottomColor:ei,borderLeftColor:ei,filter:yP,WebkitFilter:yP},Jj=t=>N7[t];function Qj(t,e){let n=Jj(t);return n!==yP&&(n=Ac),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const D7=new Set(["auto","none","0"]);function k7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!D7.has(a)&&Tv(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=Qj(n,i)}class U7 extends fR{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),nR(u))){const f=Xj(u,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Yj.has(r)||e.length!==2)return;const[i,a]=e,o=KL(i),s=KL(a);if(o!==s)if($L(o)&&$L(s))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else sh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||C7(e[i]))&&r.push(i);r.length&&k7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var s;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=sh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function pR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const eV=(t,e)=>e&&typeof t=="number"?e.transform(t):t,JL=30,F7=t=>!isNaN(parseFloat(t)),uv={current:void 0};class B7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,s;const a=za.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((s=this.events.renderRequest)==null||s.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=za.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=F7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z2);const r=this.events[e].add(n);return e==="change"?()=>{r(),Yn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return uv.current&&uv.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=za.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JL);return J2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ts(t,e){return new B7(t,e)}const{schedule:mR}=Pj(queueMicrotask,!1),_s={x:!1,y:!1};function tV(){return _s.x||_s.y}function z7(t){return t==="x"||t==="y"?_s[t]?null:(_s[t]=!0,()=>{_s[t]=!1}):_s.x||_s.y?null:(_s.x=_s.y=!0,()=>{_s.x=_s.y=!1})}function nV(t,e){const n=pR(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function QL(t){return!(t.pointerType==="touch"||tV())}function j7(t,e,n={}){const[r,i,a]=nV(t,n),o=s=>{if(!QL(s))return;const{target:l}=s,u=e(l,s);if(typeof u!="function"||!l)return;const f=h=>{QL(h)&&(u(h),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,i)};return r.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const rV=(t,e)=>e?t===e?!0:rV(t,e.parentElement):!1,gR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,V7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function H7(t){return V7.has(t.tagName)||t.tabIndex!==-1}const d_=new WeakSet;function eN(t){return e=>{e.key==="Enter"&&t(e)}}function eb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const W7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=eN(()=>{if(d_.has(n))return;eb(n,"down");const i=eN(()=>{eb(n,"up")}),a=()=>eb(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tN(t){return gR(t)&&!tV()}function G7(t,e,n={}){const[r,i,a]=nV(t,n),o=s=>{const l=s.currentTarget;if(!tN(s))return;d_.add(l);const u=e(l,s),f=(v,_)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),d_.has(l)&&d_.delete(l),tN(v)&&typeof u=="function"&&u(v,{success:_})},h=v=>{f(v,l===window||l===document||n.useGlobalTarget||rV(l,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),W1(s)&&(s.addEventListener("focus",u=>W7(u,i)),!H7(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),a}function vR(t){return gj(t)&&"ownerSVGElement"in t}const p_=new WeakMap;let hc;const iV=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:vR(r)&&"getBBox"in r?r.getBBox()[e]:r[n],$7=iV("inline","width","offsetWidth"),q7=iV("block","height","offsetHeight");function X7({target:t,borderBoxSize:e}){var n;(n=p_.get(t))==null||n.forEach(r=>{r(t,{get width(){return $7(t,e)},get height(){return q7(t,e)}})})}function Y7(t){t.forEach(X7)}function K7(){typeof ResizeObserver>"u"||(hc=new ResizeObserver(Y7))}function Z7(t,e){hc||K7();const n=pR(t);return n.forEach(r=>{let i=p_.get(r);i||(i=new Set,p_.set(r,i)),i.add(e),hc==null||hc.observe(r)}),()=>{n.forEach(r=>{const i=p_.get(r);i==null||i.delete(e),i!=null&&i.size||hc==null||hc.unobserve(r)})}}const m_=new Set;let dp;function J7(){dp=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};m_.forEach(e=>e(t))},window.addEventListener("resize",dp)}function Q7(t){return m_.add(t),dp||J7(),()=>{m_.delete(t),!m_.size&&typeof dp=="function"&&(window.removeEventListener("resize",dp),dp=void 0)}}function eX(t,e){return typeof t=="function"?Q7(t):Z7(t,e)}function aV(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Yn.preUpdate(r,!0),()=>Os(r)}function tX(t){return vR(t)&&t.tagName==="svg"}function nX(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],o=t[3+n],s=sR(i,a,o);return e?s(r):s}const ea=t=>!!(t&&t.getVelocity),rX=[...Zj,ei,Ac],iX=t=>rX.find(Kj(t)),G1=te.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class aX extends te.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=W1(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oX({children:t,isPresent:e,anchorX:n,root:r}){const i=te.useId(),a=te.useRef(null),o=te.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=te.useContext(G1);return te.useInsertionEffect(()=>{const{width:l,height:u,top:f,left:h,right:p}=o.current;if(e||!a.current||!l||!u)return;const v=n==="left"?`left: ${h}`:`right: ${p}`;a.current.dataset.motionPopId=i;const _=document.createElement("style");s&&(_.nonce=s);const S=r??document.head;return S.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{S.removeChild(_),S.contains(_)&&S.removeChild(_)}},[e]),W.jsx(aX,{isPresent:e,childRef:a,sizeRef:o,children:te.cloneElement(t,{ref:a})})}const sX=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,root:l})=>{const u=pm(lX),f=te.useId();let h=!0,p=te.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:v=>{u.set(v,!0);for(const _ of u.values())if(!_)return;r&&r()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[n,u,r]);return a&&h&&(p={...p}),te.useMemo(()=>{u.forEach((v,_)=>u.set(_,!1))},[n]),te.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=W.jsx(oX,{isPresent:n,anchorX:s,root:l,children:t})),W.jsx(H1.Provider,{value:p,children:t})};function lX(){return new Map}function oV(t=!0){const e=te.useContext(H1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=te.useId();te.useEffect(()=>{if(t)return i(a)},[t]);const o=te.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const tx=t=>t.key||"";function nN(t){const e=[];return te.Children.forEach(t,n=>{te.isValidElement(n)&&e.push(n)}),e}const sV=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:s="left",root:l})=>{const[u,f]=oV(o),h=te.useMemo(()=>nN(t),[t]),p=o&&!u?[]:h.map(tx),v=te.useRef(!0),_=te.useRef(h),S=pm(()=>new Map),[x,w]=te.useState(h),[E,b]=te.useState(h);V1(()=>{v.current=!1,_.current=h;for(let C=0;C<E.length;C++){const L=tx(E[C]);p.includes(L)?S.delete(L):S.get(L)!==!0&&S.set(L,!1)}},[E,p.length,p.join("-")]);const T=[];if(h!==x){let C=[...h];for(let L=0;L<E.length;L++){const D=E[L],I=tx(D);p.includes(I)||(C.splice(L,0,D),T.push(D))}return a==="wait"&&T.length&&(C=T),b(nN(C)),w(h),null}const{forceRender:P}=te.useContext(G2);return W.jsx(W.Fragment,{children:E.map(C=>{const L=tx(C),D=o&&!u?!1:h===E||p.includes(L),I=()=>{if(S.has(L))S.set(L,!0);else return;let F=!0;S.forEach(z=>{z||(F=!1)}),F&&(P==null||P(),b(_.current),o&&(f==null||f()),r&&r())};return W.jsx(sX,{isPresent:D,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:D?void 0:I,anchorX:s,children:C},L)})})},lV=te.createContext({strict:!1}),rN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dp={};for(const t in rN)Dp[t]={isEnabled:e=>rN[t].some(n=>!!e[n])};function uX(t){for(const e in t)Dp[e]={...Dp[e],...t[e]}}const cX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function N_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cX.has(t)}let uV=t=>!N_(t);function fX(t){typeof t=="function"&&(uV=e=>e.startsWith("on")?!N_(e):t(e))}try{fX(require("@emotion/is-prop-valid").default)}catch{}function hX(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(uV(i)||n===!0&&N_(i)||!e&&!N_(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function dX(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const $1=te.createContext({});function q1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pv(t){return typeof t=="string"||Array.isArray(t)}const yR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xR=["initial",...yR];function X1(t){return q1(t.animate)||xR.some(e=>Pv(t[e]))}function cV(t){return!!(X1(t)||t.variants)}function pX(t,e){if(X1(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pv(n)?n:void 0,animate:Pv(r)?r:void 0}}return t.inherit!==!1?e:{}}function mX(t){const{initial:e,animate:n}=pX(t,te.useContext($1));return te.useMemo(()=>({initial:e,animate:n}),[iN(e),iN(n)])}function iN(t){return Array.isArray(t)?t.join(" "):t}const gX=Symbol.for("motionComponentSymbol");function pp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vX(t,e,n){return te.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pp(n)&&(n.current=r))},[e])}const _R=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yX="framerAppearId",fV="data-"+_R(yX),hV=te.createContext({});function xX(t,e,n,r,i){var S,x;const{visualElement:a}=te.useContext($1),o=te.useContext(lV),s=te.useContext(H1),l=te.useContext(G1).reducedMotion,u=te.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:a,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const f=u.current,h=te.useContext(hV);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&_X(u.current,n,i,h);const p=te.useRef(!1);te.useInsertionEffect(()=>{f&&p.current&&f.update(n,s)});const v=n[fV],_=te.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,v)));return V1(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),mR.render(f.render),_.current&&f.animationState&&f.animationState.animateChanges())}),te.useEffect(()=>{f&&(!_.current&&f.animationState&&f.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,v)}),_.current=!1))}),f}function _X(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:dV(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&pp(s),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:l,layoutRoot:u})}function dV(t){if(t)return t.options.allowProjection!==!1?t.projection:dV(t.parent)}function wX({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&uX(t);function a(s,l){let u;const f={...te.useContext(G1),...s,layoutId:SX(s)},{isStatic:h}=f,p=mX(s),v=r(s,h);if(!h&&$2){bX();const _=MX(f);u=_.MeasureLayout,p.visualElement=xX(i,v,f,e,_.ProjectionNode)}return W.jsxs($1.Provider,{value:p,children:[u&&p.visualElement?W.jsx(u,{visualElement:p.visualElement,...f}):null,n(i,s,vX(v,p.visualElement,l),v,h,p.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=te.forwardRef(a);return o[gX]=i,o}function SX({layoutId:t}){const e=te.useContext(G2).id;return e&&t!==void 0?e+"-"+t:t}function bX(t,e){te.useContext(lV).strict}function MX(t){const{drag:e,layout:n}=Dp;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Cv={};function EX(t){for(const e in t)Cv[e]=t[e],tR(e)&&(Cv[e].isCSSVariable=!0)}function pV(t,{layout:e,layoutId:n}){return vm.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cv[t]||t==="opacity")}const AX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TX=gm.length;function PX(t,e,n){let r="",i=!0;for(let a=0;a<TX;a++){const o=gm[a],s=t[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const u=eV(s,dR[o]);if(!l){i=!1;const f=AX[o]||o;r+=`${f}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function wR(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,s=!1;for(const l in e){const u=e[l];if(vm.has(l)){o=!0;continue}else if(tR(l)){i[l]=u;continue}else{const f=eV(u,dR[l]);l.startsWith("origin")?(s=!0,a[l]=f):r[l]=f}}if(e.transform||(o||n?r.transform=PX(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:u="50%",originZ:f=0}=a;r.transformOrigin=`${l} ${u} ${f}`}}const SR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mV(t,e,n){for(const r in e)!ea(e[r])&&!pV(r,n)&&(t[r]=e[r])}function CX({transformTemplate:t},e){return te.useMemo(()=>{const n=SR();return wR(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RX(t,e){const n=t.style||{},r={};return mV(r,n,t),Object.assign(r,CX(t,e)),r}function OX(t,e){const n={},r=RX(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const IX={offset:"stroke-dashoffset",array:"stroke-dasharray"},LX={offset:"strokeDashoffset",array:"strokeDasharray"};function NX(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?IX:LX;t[a.offset]=Jt.transform(-r);const o=Jt.transform(e),s=Jt.transform(n);t[a.array]=`${o} ${s}`}function gV(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},l,u,f){if(wR(t,s,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&NX(h,i,a,o,!1)}const vV=()=>({...SR(),attrs:{}}),yV=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DX(t,e,n,r){const i=te.useMemo(()=>{const a=vV();return gV(a,e,yV(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};mV(a,t.style,t),i.style={...a,...i.style}}return i}const kX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bR(t){return typeof t!="string"||t.includes("-")?!1:!!(kX.indexOf(t)>-1||/[A-Z]/u.test(t))}function UX(t=!1){return(n,r,i,{latestValues:a},o)=>{const l=(bR(n)?DX:OX)(r,a,o,n),u=hX(r,typeof n=="string",t),f=n!==te.Fragment?{...u,...l,ref:i}:{},{children:h}=r,p=te.useMemo(()=>ea(h)?h.get():h,[h]);return te.createElement(n,{...f,children:p})}}function aN(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function MR(t,e,n,r){if(typeof e=="function"){const[i,a]=aN(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=aN(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function g_(t){return ea(t)?t.get():t}function FX({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:BX(n,r,i,t),renderState:e()}}const xV=t=>(e,n)=>{const r=te.useContext($1),i=te.useContext(H1),a=()=>FX(t,e,r,i);return n?a():pm(a)};function BX(t,e,n,r){const i={},a=r(t,{});for(const p in a)i[p]=g_(a[p]);let{initial:o,animate:s}=t;const l=X1(t),u=cV(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?s:o;if(h&&typeof h!="boolean"&&!q1(h)){const p=Array.isArray(h)?h:[h];for(let v=0;v<p.length;v++){const _=MR(t,p[v]);if(_){const{transitionEnd:S,transition:x,...w}=_;for(const E in w){let b=w[E];if(Array.isArray(b)){const T=f?b.length-1:0;b=b[T]}b!==null&&(i[E]=b)}for(const E in S)i[E]=S[E]}}}return i}function ER(t,e,n){var a;const{style:r}=t,i={};for(const o in r)(ea(r[o])||e.style&&ea(e.style[o])||pV(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const zX={useVisualState:xV({scrapeMotionValuesFromProps:ER,createRenderState:SR})};function _V(t,e,n){const r=ER(t,e,n);for(const i in t)if(ea(t[i])||ea(e[i])){const a=gm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const jX={useVisualState:xV({scrapeMotionValuesFromProps:_V,createRenderState:vV})};function VX(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...bR(r)?jX:zX,preloadedFeatures:t,useRender:UX(i),createVisualElement:e,Component:r};return wX(o)}}function Rv(t,e,n){const r=t.getProps();return MR(r,e,n!==void 0?n:r.custom,t)}const xP=t=>Array.isArray(t);function HX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ts(n))}function WX(t){return xP(t)?t[t.length-1]||0:t}function GX(t,e){const n=Rv(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const s=WX(a[o]);HX(t,o,s)}}function $X(t){return!!(ea(t)&&t.add)}function _P(t,e){const n=t.getValue("willChange");if($X(n))return n.add(e);if(!n&&fu.WillChange){const r=new fu.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function wV(t){return t.props[fV]}const qX=t=>t!==null;function XX(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(qX),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const YX={type:"spring",stiffness:500,damping:25,restSpeed:10},KX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZX={type:"keyframes",duration:.8},JX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QX=(t,{keyframes:e})=>e.length>2?ZX:vm.has(t)?t.startsWith("scale")?KX(e[1]):YX:JX;function eY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const AR=(t,e,n,r={},i,a)=>o=>{const s=hR(r,t)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-rl(l);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-u,onUpdate:p=>{e.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:a?void 0:i};eY(s)||Object.assign(f,QX(t,f)),f.duration&&(f.duration=rl(f.duration)),f.repeatDelay&&(f.repeatDelay=rl(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),(fu.instantAnimations||fu.skipAnimations)&&(h=!0,f.duration=0,f.delay=0),f.allowFlatten=!s.type&&!s.ease,h&&!a&&e.get()!==void 0){const p=XX(f.keyframes,s);if(p!==void 0){Yn.update(()=>{f.onUpdate(p),f.onComplete()});return}}return s.isSync?new cR(f):new E7(f)};function tY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function SV(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...s}=e;r&&(a=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in s){const h=t.getValue(f,t.latestValues[f]??null),p=s[f];if(p===void 0||u&&tY(u,f))continue;const v={delay:n,...hR(a||{},f)},_=h.get();if(_!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===_&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const w=wV(t);if(w){const E=window.MotionHandoffAnimation(w,f,Yn);E!==null&&(v.startTime=E,S=!0)}}_P(t,f),h.start(AR(f,h,p,t.shouldReduceMotion&&Yj.has(f)?{type:!1}:v,t,S));const x=h.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{Yn.update(()=>{o&&GX(t,o)})}),l}function wP(t,e,n={}){var l;const r=Rv(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(SV(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=i;return nY(t,e,u,f,h,p,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[u,f]=s==="beforeChildren"?[a,o]:[o,a];return u().then(()=>f())}else return Promise.all([a(),o(n.delay)])}function nY(t,e,n=0,r=0,i=0,a=1,o){const s=[],l=t.variantChildren.size,u=(l-1)*i,f=typeof r=="function",h=f?p=>r(p,l):a===1?(p=0)=>p*i:(p=0)=>u-p*i;return Array.from(t.variantChildren).sort(rY).forEach((p,v)=>{p.notify("AnimationStart",e),s.push(wP(p,e,{...o,delay:n+(f?0:r)+h(v)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(s)}function rY(t,e){return t.sortNodePosition(e)}function iY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>wP(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=wP(t,e,n);else{const i=typeof e=="function"?Rv(t,e,n.custom):e;r=Promise.all(SV(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function bV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const aY=xR.length;function MV(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MV(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<aY;n++){const r=xR[n],i=t.props[r];(Pv(i)||i===!1)&&(e[r]=i)}return e}const oY=[...yR].reverse(),sY=yR.length;function lY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>iY(t,n,r)))}function uY(t){let e=lY(t),n=oN(),r=!0;const i=l=>(u,f)=>{var p;const h=Rv(t,f,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:v,transitionEnd:_,...S}=h;u={...u,...S,..._}}return u};function a(l){e=l(t)}function o(l){const{props:u}=t,f=MV(t.parent)||{},h=[],p=new Set;let v={},_=1/0;for(let x=0;x<sY;x++){const w=oY[x],E=n[w],b=u[w]!==void 0?u[w]:f[w],T=Pv(b),P=w===l?E.isActive:null;P===!1&&(_=x);let C=b===f[w]&&b!==u[w]&&T;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...v},!E.isActive&&P===null||!b&&!E.prevProp||q1(b)||typeof b=="boolean")continue;const L=cY(E.prevProp,b);let D=L||w===l&&E.isActive&&!C&&T||x>_&&T,I=!1;const F=Array.isArray(b)?b:[b];let z=F.reduce(i(w),{});P===!1&&(z={});const{prevResolvedValues:Y={}}=E,H={...Y,...z},K=ae=>{D=!0,p.has(ae)&&(I=!0,p.delete(ae)),E.needsAnimating[ae]=!0;const $=t.getValue(ae);$&&($.liveStyle=!1)};for(const ae in H){const $=z[ae],re=Y[ae];if(v.hasOwnProperty(ae))continue;let J=!1;xP($)&&xP(re)?J=!bV($,re):J=$!==re,J?$!=null?K(ae):p.add(ae):$!==void 0&&p.has(ae)?K(ae):E.protectedKeys[ae]=!0}E.prevProp=b,E.prevResolvedValues=z,E.isActive&&(v={...v,...z}),r&&t.blockInitialAnimation&&(D=!1),D&&(!(C&&L)||I)&&h.push(...F.map(ae=>({animation:ae,options:{type:w}})))}if(p.size){const x={};if(typeof u.initial!="boolean"){const w=Rv(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(x.transition=w.transition)}p.forEach(w=>{const E=t.getBaseTarget(w),b=t.getValue(w);b&&(b.liveStyle=!0),x[w]=E??null}),h.push({animation:x})}let S=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function s(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var v;return(v=p.animationState)==null?void 0:v.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=oN(),r=!0}}}function cY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bV(e,t):!1}function Tf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oN(){return{animate:Tf(!0),whileInView:Tf(),whileHover:Tf(),whileTap:Tf(),whileDrag:Tf(),whileFocus:Tf(),exit:Tf()}}class Ic{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fY extends Ic{constructor(e){super(e),e.animationState||(e.animationState=uY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();q1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let hY=0;class dY extends Ic{constructor(){super(...arguments),this.id=hY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const pY={animation:{Feature:fY},exit:{Feature:dY}};function Ov(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Dy(t){return{point:{x:t.pageX,y:t.pageY}}}const mY=t=>e=>gR(e)&&t(e,Dy(e));function cv(t,e,n,r){return Ov(t,e,mY(n),r)}function EV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const AV=1e-4,yY=1-AV,xY=1+AV,TV=.01,_Y=0-TV,wY=0+TV;function ya(t){return t.max-t.min}function SY(t,e,n){return Math.abs(t-e)<=n}function sN(t,e,n,r=.5){t.origin=r,t.originPoint=Pr(e.min,e.max,t.origin),t.scale=ya(n)/ya(e),t.translate=Pr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=yY&&t.scale<=xY||isNaN(t.scale))&&(t.scale=1),(t.translate>=_Y&&t.translate<=wY||isNaN(t.translate))&&(t.translate=0)}function fv(t,e,n,r){sN(t.x,e.x,n.x,r?r.originX:void 0),sN(t.y,e.y,n.y,r?r.originY:void 0)}function lN(t,e,n){t.min=n.min+e.min,t.max=t.min+ya(e)}function bY(t,e,n){lN(t.x,e.x,n.x),lN(t.y,e.y,n.y)}function uN(t,e,n){t.min=e.min-n.min,t.max=t.min+ya(e)}function hv(t,e,n){uN(t.x,e.x,n.x),uN(t.y,e.y,n.y)}const cN=()=>({translate:0,scale:1,origin:0,originPoint:0}),mp=()=>({x:cN(),y:cN()}),fN=()=>({min:0,max:0}),Hr=()=>({x:fN(),y:fN()});function ko(t){return[t("x"),t("y")]}function tb(t){return t===void 0||t===1}function SP({scale:t,scaleX:e,scaleY:n}){return!tb(t)||!tb(e)||!tb(n)}function zf(t){return SP(t)||PV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function PV(t){return hN(t.x)||hN(t.y)}function hN(t){return t&&t!=="0%"}function D_(t,e,n){const r=t-n,i=e*r;return n+i}function dN(t,e,n,r,i){return i!==void 0&&(t=D_(t,i,r)),D_(t,n,r)+e}function bP(t,e=0,n=1,r,i){t.min=dN(t.min,e,n,r,i),t.max=dN(t.max,e,n,r,i)}function CV(t,{x:e,y:n}){bP(t.x,e.translate,e.scale,e.originPoint),bP(t.y,n.translate,n.scale,n.originPoint)}const pN=.999999999999,mN=1.0000000000001;function MY(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vp(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,CV(t,o)),r&&zf(a.latestValues)&&vp(t,a.latestValues))}e.x<mN&&e.x>pN&&(e.x=1),e.y<mN&&e.y>pN&&(e.y=1)}function gp(t,e){t.min=t.min+e,t.max=t.max+e}function gN(t,e,n,r,i=.5){const a=Pr(t.min,t.max,i);bP(t,e,n,a,r)}function vp(t,e){gN(t.x,e.x,e.scaleX,e.scale,e.originX),gN(t.y,e.y,e.scaleY,e.scale,e.originY)}function RV(t,e){return EV(vY(t.getBoundingClientRect(),e))}function EY(t,e,n){const r=RV(t,n),{scroll:i}=e;return i&&(gp(r.x,i.offset.x),gp(r.y,i.offset.y)),r}const OV=({current:t})=>t?t.ownerDocument.defaultView:null,vN=(t,e)=>Math.abs(t-e);function AY(t,e){const n=vN(t.x,e.x),r=vN(t.y,e.y);return Math.sqrt(n**2+r**2)}class IV{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=rb(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=AY(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!_)return;const{point:S}=p,{timestamp:x}=bi;this.history.push({...S,timestamp:x});const{onStart:w,onMove:E}=this.handlers;v||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=nb(v,this.transformPagePoint),Yn.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=rb(p.type==="pointercancel"?this.lastMoveEventInfo:nb(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(p,w),S&&S(p,w)},!gR(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const s=Dy(e),l=nb(s,this.transformPagePoint),{point:u}=l,{timestamp:f}=bi;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,rb(l,this.history)),this.removeListeners=Iy(cv(this.contextWindow,"pointermove",this.handlePointerMove),cv(this.contextWindow,"pointerup",this.handlePointerUp),cv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Os(this.updatePoint)}}function nb(t,e){return e?{point:e(t.point)}:t}function yN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rb({point:t},e){return{point:t,delta:yN(t,LV(e)),offset:yN(t,TY(e)),velocity:PY(e,.1)}}function TY(t){return t[0]}function LV(t){return t[t.length-1]}function PY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=LV(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>rl(e)));)n--;if(!r)return{x:0,y:0};const a=il(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function CY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pr(n,t,r.max):Math.min(t,n)),t}function xN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RY(t,{top:e,left:n,bottom:r,right:i}){return{x:xN(t.x,n,i),y:xN(t.y,e,r)}}function _N(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function OY(t,e){return{x:_N(t.x,e.x),y:_N(t.y,e.y)}}function IY(t,e){let n=.5;const r=ya(t),i=ya(e);return i>r?n=Np(e.min,e.max-r,t.min):r>i&&(n=Np(t.min,t.max-i,e.min)),cl(0,1,n)}function LY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const MP=.35;function NY(t=MP){return t===!1?t=0:t===!0&&(t=MP),{x:wN(t,"left","right"),y:wN(t,"top","bottom")}}function wN(t,e,n){return{min:SN(t,e),max:SN(t,n)}}function SN(t,e){return typeof t=="number"?t:t[e]||0}const DY=new WeakMap;class kY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dy(h).point)},o=(h,p)=>{const{drag:v,dragPropagation:_,onDragStart:S}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=z7(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ko(w=>{let E=this.getAxisMotionValue(w).get()||0;if(al.test(E)){const{projection:b}=this.visualElement;if(b&&b.layout){const T=b.layout.layoutBox[w];T&&(E=ya(T)*(parseFloat(E)/100))}}this.originPoint[w]=E}),S&&Yn.postRender(()=>S(h,p)),_P(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:S,onDrag:x}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:w}=p;if(_&&this.currentDirection===null){this.currentDirection=UY(w),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),x&&x(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ko(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new IV(e,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:OV(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Yn.postRender(()=>s(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!nx(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=CY(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&pp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=RY(r.layoutBox,e):this.constraints=!1,this.elastic=NY(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ko(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LY(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=EY(r,i.root,this.visualElement.getTransformPagePoint());let o=OY(i.layout.layoutBox,a);if(n){const s=n(gY(o));this.hasMutatedConstraints=!!s,s&&(o=EV(s))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=ko(f=>{if(!nx(f,n,this.currentDirection))return;let h=l&&l[f]||{};o&&(h={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,_={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(f,_)});return Promise.all(u).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _P(this.visualElement,e),r.start(AR(e,r,0,n,this.visualElement,!1))}stopAnimation(){ko(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ko(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ko(n=>{const{drag:r}=this.getProps();if(!nx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n];a.set(e[n]-Pr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ko(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=IY({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ko(o=>{if(!nx(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(Pr(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;DY.set(this.visualElement,this);const e=this.visualElement.current,n=cv(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();pp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Yn.read(r);const o=Ov(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ko(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=MP,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function nx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function UY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FY extends Ic{constructor(e){super(e),this.removeGroupControls=Va,this.removeListeners=Va,this.controls=new kY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Va}unmount(){this.removeGroupControls(),this.removeListeners()}}const bN=t=>(e,n)=>{t&&Yn.postRender(()=>t(e,n))};class BY extends Ic{constructor(){super(...arguments),this.removePointerDownListener=Va}onPointerDown(e){this.session=new IV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bN(e),onStart:bN(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Yn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=cv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const v_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ag={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Jt.test(t))t=parseFloat(t);else return t;const n=MN(t,e.target.x),r=MN(t,e.target.y);return`${n}% ${r}%`}},zY={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ac.parse(t);if(i.length>5)return r;const a=Ac.createTransformer(t),o=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const u=Pr(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};let EN=!1;class jY extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;EX(VY),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),EN&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),v_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,EN=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Yn.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NV(t){const[e,n]=oV(),r=te.useContext(G2);return W.jsx(jY,{...t,layoutGroup:r,switchLayoutGroup:te.useContext(hV),isPresent:e,safeToRemove:n})}const VY={borderRadius:{...Ag,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ag,borderTopRightRadius:Ag,borderBottomLeftRadius:Ag,borderBottomRightRadius:Ag,boxShadow:zY};function HY(t,e,n){const r=ea(t)?t:Ts(t);return r.start(AR("",r,e,n)),r.animation}const WY=(t,e)=>t.depth-e.depth;class GY{constructor(){this.children=[],this.isDirty=!1}add(e){q2(this.children,e),this.isDirty=!0}remove(e){X2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WY),this.isDirty=!1,this.children.forEach(e)}}function $Y(t,e){const n=za.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Os(r),t(a-e))};return Yn.setup(r,!0),()=>Os(r)}const DV=["TopLeft","TopRight","BottomLeft","BottomRight"],qY=DV.length,AN=t=>typeof t=="string"?parseFloat(t):t,TN=t=>typeof t=="number"||Jt.test(t);function XY(t,e,n,r,i,a){i?(t.opacity=Pr(0,n.opacity??1,YY(r)),t.opacityExit=Pr(e.opacity??1,0,KY(r))):a&&(t.opacity=Pr(e.opacity??1,n.opacity??1,r));for(let o=0;o<qY;o++){const s=`border${DV[o]}Radius`;let l=PN(e,s),u=PN(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||TN(l)===TN(u)?(t[s]=Math.max(Pr(AN(l),AN(u),r),0),(al.test(u)||al.test(l))&&(t[s]+="%")):t[s]=u}(e.rotate||n.rotate)&&(t.rotate=Pr(e.rotate||0,n.rotate||0,r))}function PN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YY=kV(0,.5,Mj),KY=kV(.5,.95,Va);function kV(t,e,n){return r=>r<t?0:r>e?1:n(Np(t,e,r))}function CN(t,e){t.min=e.min,t.max=e.max}function Ro(t,e){CN(t.x,e.x),CN(t.y,e.y)}function RN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ON(t,e,n,r,i){return t-=e,t=D_(t,1/n,r),i!==void 0&&(t=D_(t,1/i,r)),t}function ZY(t,e=0,n=1,r=.5,i,a=t,o=t){if(al.test(e)&&(e=parseFloat(e),e=Pr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=Pr(a.min,a.max,r);t===a&&(s-=e),t.min=ON(t.min,e,n,s,i),t.max=ON(t.max,e,n,s,i)}function IN(t,e,[n,r,i],a,o){ZY(t,e[n],e[r],e[i],e.scale,a,o)}const JY=["x","scaleX","originX"],QY=["y","scaleY","originY"];function LN(t,e,n,r){IN(t.x,e,JY,n?n.x:void 0,r?r.x:void 0),IN(t.y,e,QY,n?n.y:void 0,r?r.y:void 0)}function NN(t){return t.translate===0&&t.scale===1}function UV(t){return NN(t.x)&&NN(t.y)}function DN(t,e){return t.min===e.min&&t.max===e.max}function eK(t,e){return DN(t.x,e.x)&&DN(t.y,e.y)}function kN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function FV(t,e){return kN(t.x,e.x)&&kN(t.y,e.y)}function UN(t){return ya(t.x)/ya(t.y)}function FN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class tK{constructor(){this.members=[]}add(e){q2(this.members,e),e.scheduleRender()}remove(e){if(X2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nK(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:h,rotateY:p,skewX:v,skewY:_}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),_&&(r+=`skewY(${_}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const ib=["","X","Y","Z"],rK=1e3;let iK=0;function ab(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function BV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Yn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&BV(r)}function zV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=iK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sK),this.nodes.forEach(fK),this.nodes.forEach(hK),this.nodes.forEach(lK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new GY)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Z2),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=vR(o)&&!tX(o),this.instance=o;const{layoutId:s,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),t){let f,h=0;const p=()=>this.root.updateBlockedByResize=!1;Yn.read(()=>{h=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,f&&f(),f=$Y(p,250),v_.hasAnimatedSinceResize&&(v_.hasAnimatedSinceResize=!1,this.nodes.forEach(jN)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||u.getDefaultTransition()||vK,{onLayoutAnimationStart:S,onLayoutAnimationComplete:x}=u.getProps(),w=!this.targetLayout||!FV(this.targetLayout,v),E=!h&&p;if(this.options.layoutRoot||this.resumeFrom||E||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...hR(_,"layout"),onPlay:S,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(f,E)}else h||jN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Os(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cK),this.nodes.forEach(aK),this.nodes.forEach(oK)):this.nodes.forEach(zN),this.clearAllSnapshots();const s=za.now();bi.delta=cl(0,1e3/60,s-bi.timestamp),bi.timestamp=s,bi.isProcessing=!0,YS.update.process(bi),YS.preRender.process(bi),YS.render.process(bi),bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uK),this.sharedNodes.forEach(pK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ya(this.snapshot.measuredBox.x)&&!ya(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!UV(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(s||zf(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),yK(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Hr();const s=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(xK))){const{scroll:f}=this.root;f&&(gp(s.x,f.offset.x),gp(s.y,f.offset.y))}return s}removeElementScroll(o){var l;const s=Hr();if(Ro(s,o),(l=this.scroll)!=null&&l.wasRoot)return s;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Ro(s,o),gp(s.x,h.offset.x),gp(s.y,h.offset.y))}return s}applyTransform(o,s=!1){const l=Hr();Ro(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!s&&f.options.layoutScroll&&f.scroll&&f!==f.root&&vp(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),zf(f.latestValues)&&vp(l,f.latestValues)}return zf(this.latestValues)&&vp(l,this.latestValues),l}removeTransform(o){const s=Hr();Ro(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!zf(u.latestValues))continue;SP(u.latestValues)&&u.updateSnapshot();const f=Hr(),h=u.measurePageBox();Ro(f,h),LN(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return zf(this.latestValues)&&LN(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=bi.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hr(),this.relativeTargetOrigin=Hr(),hv(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hr(),this.targetWithTransforms=Hr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ro(this.target,this.layout.layoutBox),CV(this.target,this.targetDelta)):Ro(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hr(),this.relativeTargetOrigin=Hr(),hv(this.relativeTargetOrigin,this.target,v.target),Ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||SP(this.parent.latestValues)||PV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===bi.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Ro(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;MY(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Hr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RN(this.prevProjectionDelta.x,this.projectionDelta.x),RN(this.prevProjectionDelta.y,this.projectionDelta.y)),fv(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!FN(this.projectionDelta.x,this.prevProjectionDelta.x)||!FN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mp(),this.projectionDelta=mp(),this.projectionDeltaWithTransform=mp()}setAnimationOrigin(o,s=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},h=mp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const p=Hr(),v=l?l.source:void 0,_=this.layout?this.layout.source:void 0,S=v!==_,x=this.getStack(),w=!x||x.members.length<=1,E=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some(gK));this.animationProgress=0;let b;this.mixTargetDelta=T=>{const P=T/1e3;VN(h.x,o.x,P),VN(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mK(this.relativeTarget,this.relativeTargetOrigin,p,P),b&&eK(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Hr()),Ro(b,this.relativeTarget)),S&&(this.animationValues=f,XY(f,u,this.latestValues,P,E,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var s,l,u;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Os(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yn.update(()=>{v_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ts(0)),this.currentAnimation=HY(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:f}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&jV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Hr();const h=ya(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=ya(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ro(s,l),vp(s,f),fv(this.projectionDeltaWithTransform,this.layoutCorrected,s,f)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tK),this.sharedNodes.get(o).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const u={};l.z&&ab("z",o,u,this.animationValues);for(let f=0;f<ib.length;f++)ab(`rotate${ib[f]}`,o,u,this.animationValues),ab(`skew${ib[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}applyProjectionStyles(o,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=g_(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=g_(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!zf(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=nK(this.projectionDeltaWithTransform,this.treeScale,f);l&&(h=l(f,h)),o.transform=h;const{x:p,y:v}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,u.animationValues?o.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in Cv){if(f[_]===void 0)continue;const{correct:S,applyTo:x,isCSSVariable:w}=Cv[_],E=h==="none"?f[_]:S(f[_],u);if(x){const b=x.length;for(let T=0;T<b;T++)o[x[T]]=E}else w?this.options.visualElement.renderState.vars[_]=E:o[_]=E}this.options.layoutId&&(o.pointerEvents=u===this?g_(s==null?void 0:s.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(BN),this.root.sharedNodes.clear()}}}function aK(t){t.updateLayout()}function oK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?ko(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],v=ya(p);p.min=r[h].min,p.max=p.min+v}):jV(a,e.layoutBox,r)&&ko(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],v=ya(r[h]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const s=mp();fv(s,r,e.layoutBox);const l=mp();o?fv(l,t.applyTransform(i,!0),e.measuredBox):fv(l,r,e.layoutBox);const u=!UV(s);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const _=Hr();hv(_,e.layoutBox,p.layoutBox);const S=Hr();hv(S,r,v.layoutBox),FV(_,S)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=_,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function sK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uK(t){t.clearSnapshot()}function BN(t){t.clearMeasurements()}function zN(t){t.isLayoutDirty=!1}function cK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fK(t){t.resolveTargetDelta()}function hK(t){t.calcProjection()}function dK(t){t.resetSkewAndRotation()}function pK(t){t.removeLeadSnapshot()}function VN(t,e,n){t.translate=Pr(e.translate,0,n),t.scale=Pr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HN(t,e,n,r){t.min=Pr(e.min,n.min,r),t.max=Pr(e.max,n.max,r)}function mK(t,e,n,r){HN(t.x,e.x,n.x,r),HN(t.y,e.y,n.y,r)}function gK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vK={duration:.45,ease:[.4,0,.1,1]},WN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),GN=WN("applewebkit/")&&!WN("chrome/")?Math.round:Va;function $N(t){t.min=GN(t.min),t.max=GN(t.max)}function yK(t){$N(t.x),$N(t.y)}function jV(t,e,n){return t==="position"||t==="preserve-aspect"&&!SY(UN(e),UN(n),.2)}function xK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const _K=zV({attachResizeListener:(t,e)=>Ov(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ob={current:void 0},VV=zV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ob.current){const t=new _K({});t.mount(window),t.setOptions({layoutScroll:!0}),ob.current=t}return ob.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wK={pan:{Feature:BY},drag:{Feature:FY,ProjectionNode:VV,MeasureLayout:NV}};function qN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Yn.postRender(()=>a(e,Dy(e)))}class SK extends Ic{mount(){const{current:e}=this.node;e&&(this.unmount=j7(e,(n,r)=>(qN(this.node,r,"Start"),i=>qN(this.node,i,"End"))))}unmount(){}}class bK extends Ic{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Iy(Ov(this.node.current,"focus",()=>this.onFocus()),Ov(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Yn.postRender(()=>a(e,Dy(e)))}class MK extends Ic{mount(){const{current:e}=this.node;e&&(this.unmount=G7(e,(n,r)=>(XN(this.node,r,"Start"),(i,{success:a})=>XN(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const EP=new WeakMap,sb=new WeakMap,EK=t=>{const e=EP.get(t.target);e&&e(t)},AK=t=>{t.forEach(EK)};function TK({root:t,...e}){const n=t||document;sb.has(n)||sb.set(n,{});const r=sb.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(AK,{root:t,...e})),r[i]}function PK(t,e,n){const r=TK(e);return EP.set(t,n),r.observe(t),()=>{EP.delete(t),r.unobserve(t)}}const CK={some:0,all:1};class RK extends Ic{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:CK[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=u?f:h;p&&p(l)};return PK(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OK(e,n))&&this.startObserver()}unmount(){}}function OK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const IK={inView:{Feature:RK},tap:{Feature:MK},focus:{Feature:bK},hover:{Feature:SK}},LK={layout:{ProjectionNode:VV,MeasureLayout:NV}},AP={current:null},HV={current:!1};function NK(){if(HV.current=!0,!!$2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>AP.current=t.matches;t.addEventListener("change",e),e()}else AP.current=!1}const DK=new WeakMap;function kK(t,e,n){for(const r in e){const i=e[r],a=n[r];if(ea(i))t.addValue(r,i);else if(ea(a))t.addValue(r,Ts(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ts(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const YN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UK{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=za.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Yn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=X1(n),this.isVariantNode=cV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const v=h[p];l[p]!==void 0&&ea(v)&&v.set(l[p],!1)}}mount(e){this.current=e,DK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),HV.current||NK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:AP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Os(this.notifyUpdate),Os(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=vm.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Yn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dp){const n=Dp[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YN.length;r++){const i=YN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=kK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ts(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(mj(r)||vj(r))?r=parseFloat(r):!iX(r)&&Ac.test(n)&&(r=Qj(e,n)),this.setBaseTarget(e,ea(r)?r.get():r)),ea(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=MR(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ea(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WV extends UK{constructor(){super(...arguments),this.KeyframeResolver=U7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ea(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GV(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function FK(t){return window.getComputedStyle(t)}class BK extends WV{constructor(){super(...arguments),this.type="html",this.renderInstance=GV}readValueFromInstance(e,n){var r;if(vm.has(n))return(r=this.projection)!=null&&r.isProjecting?dP(n):r7(e,n);{const i=FK(e),a=(tR(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RV(e,n)}build(e,n,r){wR(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ER(e,n,r)}}const $V=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zK(t,e,n,r){GV(t,e,void 0,r);for(const i in e.attrs)t.setAttribute($V.has(i)?i:_R(i),e.attrs[i])}class jK extends WV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vm.has(n)){const r=Jj(n);return r&&r.default||0}return n=$V.has(n)?n:_R(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _V(e,n,r)}build(e,n,r){gV(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){zK(e,n,r,i)}mount(e){this.isSVGTag=yV(e.tagName),super.mount(e)}}const VK=(t,e)=>bR(t)?new jK(e):new BK(e,{allowProjection:t!==te.Fragment}),HK=VX({...pY,...IK,...wK,...LK},VK),Xt=dX(HK),WK=50,KN=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),GK=()=>({time:0,x:KN(),y:KN()}),$K={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function ZN(t,e,n,r){const i=n[e],{length:a,position:o}=$K[e],s=i.current,l=n.time;i.current=t[`scroll${o}`],i.scrollLength=t[`scroll${a}`]-t[`client${a}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Np(0,i.scrollLength,i.current);const u=r-l;i.velocity=u>WK?0:J2(i.current-s,u)}function qK(t,e,n){ZN(t,"x",e,n),ZN(t,"y",e,n),e.time=n}function XK(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(W1(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const a=r.getBoundingClientRect();n.x+=i.left-a.left,n.y+=i.top-a.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:a}=r.getBBox();n.x+=i,n.y+=a;let o=null,s=r.parentNode;for(;!o;)s.tagName==="svg"&&(o=s),s=r.parentNode;r=o}else break;return n}const TP={start:0,center:.5,end:1};function JN(t,e,n=0){let r=0;if(t in TP&&(t=TP[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const YK=[0,0];function KK(t,e,n,r){let i=Array.isArray(t)?t:YK,a=0,o=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,TP[t]?t:"0"]),a=JN(i[0],n,r),o=JN(i[1],e),a-o}const ZK={All:[[0,0],[1,1]]},JK={x:0,y:0};function QK(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function eZ(t,e,n){const{offset:r=ZK.All}=n,{target:i=t,axis:a="y"}=n,o=a==="y"?"height":"width",s=i!==t?XK(i,t):JK,l=i===t?{width:t.scrollWidth,height:t.scrollHeight}:QK(i),u={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let f=!e[a].interpolate;const h=r.length;for(let p=0;p<h;p++){const v=KK(r[p],u[o],l[o],s[a]);!f&&v!==e[a].interpolatorOffsets[p]&&(f=!0),e[a].offset[p]=v}f&&(e[a].interpolate=sR(e[a].offset,Bj(r),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=cl(0,1,e[a].interpolate(e[a].current))}function tZ(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function nZ(t,e,n,r={}){return{measure:i=>{tZ(t,r.target,n),qK(t,n,i),(r.offset||r.target)&&eZ(t,n,r)},notify:()=>e(n)}}const Tg=new WeakMap,QN=new WeakMap,lb=new WeakMap,eD=t=>t===document.scrollingElement?window:t;function qV(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Va;let r=lb.get(e);r||(r=new Set,lb.set(e,r));const i=GK(),a=nZ(e,t,i,n);if(r.add(a),!Tg.has(e)){const s=()=>{for(const h of r)h.measure(bi.timestamp);Yn.preUpdate(l)},l=()=>{for(const h of r)h.notify()},u=()=>Yn.read(s);Tg.set(e,u);const f=eD(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&QN.set(e,eX(e,u)),f.addEventListener("scroll",u,{passive:!0}),u()}const o=Tg.get(e);return Yn.read(o,!1,!0),()=>{var u;Os(o);const s=lb.get(e);if(!s||(s.delete(a),s.size))return;const l=Tg.get(e);Tg.delete(e),l&&(eD(e).removeEventListener("scroll",l),(u=QN.get(e))==null||u(),window.removeEventListener("resize",l))}}const tD=new Map;function rZ(t){const e={value:0},n=qV(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function XV({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=tD.get(e)??new Map;tD.set(e,i);const a=n.target??"self",o=i.get(a)??{},s=r+(n.offset??[]).join(",");return o[s]||(o[s]=!n.target&&Hj()?new ScrollTimeline({source:e,axis:r}):rZ({container:e,...n})),o[s]}function iZ(t,e){const n=XV(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),aV(i=>{r.time=r.duration*i},n))})}function aZ(t){return t.length===2}function oZ(t,e){return aZ(t)?qV(n=>{t(n[e.axis].progress,n)},e):aV(t,XV(e))}function sZ(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return Va;const i={axis:e,container:n,...r};return typeof t=="function"?oZ(t,i):iZ(t,i)}function nD(t,e){n9(!!(!e||e.current))}const lZ=()=>({scrollX:Ts(0),scrollY:Ts(0),scrollXProgress:Ts(0),scrollYProgress:Ts(0)});function uZ({container:t,target:e,layoutEffect:n=!0,...r}={}){const i=pm(lZ);return(n?V1:te.useEffect)(()=>(nD("target",e),nD("container",t),sZ((o,{x:s,y:l})=>{i.scrollX.set(s.current),i.scrollXProgress.set(s.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),i}function cZ(t){const e=pm(()=>Ts(t)),{isStatic:n}=te.useContext(G1);if(n){const[,r]=te.useState(t);te.useEffect(()=>e.on("change",r),[])}return e}function YV(t,e){const n=cZ(e()),r=()=>n.set(e());return r(),V1(()=>{const i=()=>Yn.preRender(r,!1,!0),a=t.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),Os(r)}}),n}function fZ(t){uv.current=[],t();const e=YV(uv.current,t);return uv.current=void 0,e}function hZ(t,e,n,r){if(typeof t=="function")return fZ(t);const i=typeof e=="function"?e:nX(e,n,r);return Array.isArray(t)?rD(t,i):rD([t],([a])=>i(a))}function rD(t,e){const n=pm(()=>[]);return YV(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}const dZ={some:0,all:1};function pZ(t,e,{root:n,margin:r,amount:i="some"}={}){const a=pR(t),o=new WeakMap,s=u=>{u.forEach(f=>{const h=o.get(f.target);if(f.isIntersecting!==!!h)if(f.isIntersecting){const p=e(f.target,f);typeof p=="function"?o.set(f.target,p):l.unobserve(f.target)}else typeof h=="function"&&(h(f),o.delete(f.target))})},l=new IntersectionObserver(s,{root:n,rootMargin:r,threshold:typeof i=="number"?i:dZ[i]});return a.forEach(u=>l.observe(u)),()=>l.disconnect()}function KV(t,{root:e,margin:n,amount:r,once:i=!1,initial:a=!1}={}){const[o,s]=te.useState(a);return te.useEffect(()=>{if(!t.current||i&&o)return;const l=()=>(s(!0),i?void 0:()=>s(!1)),u={root:e&&e.current||void 0,margin:n,amount:r};return pZ(t.current,l,u)},[e,t,n,i,r]),o}const mZ=()=>{const[t,e]=te.useState(!1);te.useEffect(()=>{const r=()=>{const i=window.scrollY>10;i!==t&&e(i)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[t]);const n=[{name:"Home",href:"#home"},{name:"Ricerca",href:"#research"},{name:"Progetti",href:"#projects"},{name:"Pubblicazioni",href:"#publications"},{name:"Contatti",href:"#contact"}];return W.jsx(Xt.header,{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"glass shadow-md py-3":"bg-transparent py-5"}`,initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:50,damping:15},children:W.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[W.jsx(Xt.div,{className:"flex items-center",whileHover:{scale:1.05},children:W.jsx("span",{className:"text-2xl font-display font-bold gradient-text",children:"AI.Researcher"})}),W.jsx("nav",{className:"hidden md:flex space-x-8",children:n.map(r=>W.jsx(Xt.a,{href:r.href,className:"text-gray-300 hover:text-white transition-colors",whileHover:{scale:1.1,textShadow:"0 0 8px rgb(177, 74, 237)"},children:r.name},r.name))}),W.jsx(Xt.button,{className:"btn btn-primary hidden md:flex",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Download CV"}),W.jsx(Xt.button,{className:"md:hidden text-white",whileTap:{scale:.9},children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ky="154",jf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Vf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ZV=0,PP=1,JV=2,gZ=3,QV=0,Y1=1,dv=2,ws=3,hu=0,Sa=1,Fo=2,vZ=2,ol=0,uh=1,CP=2,RP=3,OP=4,eH=5,$f=100,tH=101,nH=102,IP=103,LP=104,rH=200,iH=201,aH=202,oH=203,TR=204,PR=205,sH=206,lH=207,uH=208,cH=209,fH=210,hH=0,dH=1,pH=2,k_=3,mH=4,gH=5,vH=6,yH=7,Uy=0,xH=1,_H=2,Ps=0,wH=1,SH=2,bH=3,CR=4,MH=5,Tc=300,du=301,Pc=302,kp=303,Iv=304,ym=306,Lv=1e3,br=1001,Nv=1002,Wr=1003,U_=1004,yZ=1004,pv=1005,xZ=1005,zn=1006,RR=1007,_Z=1007,Cc=1008,NP=1008,co=1009,OR=1010,IR=1011,K1=1012,Z1=1013,el=1014,hi=1015,Ai=1016,LR=1017,NR=1018,_c=1020,EH=1021,fi=1023,AH=1024,TH=1025,wc=1026,yh=1027,DR=1028,kR=1029,PH=1030,UR=1031,FR=1033,y_=33776,x_=33777,__=33778,w_=33779,DP=35840,kP=35841,UP=35842,FP=35843,CH=36196,BP=37492,zP=37496,jP=37808,VP=37809,HP=37810,WP=37811,GP=37812,$P=37813,qP=37814,XP=37815,YP=37816,KP=37817,ZP=37818,JP=37819,QP=37820,eC=37821,S_=36492,RH=36283,tC=36284,nC=36285,rC=36286,OH=2200,IH=2201,LH=2202,Dv=2300,kv=2301,b_=2302,Zf=2400,Jf=2401,Uv=2402,J1=2500,BR=2501,wZ=0,SZ=1,bZ=2,zR=3e3,Sc=3001,NH=3200,DH=3201,Lc=0,kH=1,bc="",fn="srgb",Ha="srgb-linear",jR="display-p3",MZ=0,M_=7680,EZ=7681,AZ=7682,TZ=7683,PZ=34055,CZ=34056,RZ=5386,OZ=512,IZ=513,LZ=514,NZ=515,DZ=516,kZ=517,UZ=518,UH=519,FH=512,BH=513,zH=514,jH=515,VH=516,HH=517,WH=518,GH=519,Fv=35044,FZ=35048,BZ=35040,zZ=35045,jZ=35049,VZ=35041,HZ=35046,WZ=35050,GZ=35042,$Z="100",iC="300 es",F_=1035,tl=2e3,Bv=2001;let xu=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const Yi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let iD=1234567;const ch=Math.PI/180,Up=180/Math.PI;function fo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Yi[t&255]+Yi[t>>8&255]+Yi[t>>16&255]+Yi[t>>24&255]+"-"+Yi[e&255]+Yi[e>>8&255]+"-"+Yi[e>>16&15|64]+Yi[e>>24&255]+"-"+Yi[n&63|128]+Yi[n>>8&255]+"-"+Yi[n>>16&255]+Yi[n>>24&255]+Yi[r&255]+Yi[r>>8&255]+Yi[r>>16&255]+Yi[r>>24&255]).toLowerCase()}function kr(t,e,n){return Math.max(e,Math.min(n,t))}function VR(t,e){return(t%e+e)%e}function qZ(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function XZ(t,e,n){return t!==e?(n-t)/(e-t):0}function mv(t,e,n){return(1-n)*t+n*e}function YZ(t,e,n,r){return mv(t,e,1-Math.exp(-n*r))}function KZ(t,e=1){return e-Math.abs(VR(t,e*2)-e)}function ZZ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function JZ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function QZ(t,e){return t+Math.floor(Math.random()*(e-t+1))}function eJ(t,e){return t+Math.random()*(e-t)}function tJ(t){return t*(.5-Math.random())}function nJ(t){t!==void 0&&(iD=t);let e=iD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function rJ(t){return t*ch}function iJ(t){return t*Up}function aC(t){return(t&t-1)===0&&t!==0}function $H(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function B_(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function aJ(t,e,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+r)/2),f=o((e+r)/2),h=a((e-r)/2),p=o((e-r)/2),v=a((r-e)/2),_=o((r-e)/2);switch(i){case"XYX":t.set(s*f,l*h,l*p,s*u);break;case"YZY":t.set(l*p,s*f,l*h,s*u);break;case"ZXZ":t.set(l*h,l*p,s*f,s*u);break;case"XZX":t.set(s*f,l*_,l*v,s*u);break;case"YXY":t.set(l*v,s*f,l*_,s*u);break;case"ZYZ":t.set(l*_,l*v,s*f,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function lo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function vn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const qH={DEG2RAD:ch,RAD2DEG:Up,generateUUID:fo,clamp:kr,euclideanModulo:VR,mapLinear:qZ,inverseLerp:XZ,lerp:mv,damp:YZ,pingpong:KZ,smoothstep:ZZ,smootherstep:JZ,randInt:QZ,randFloat:eJ,randFloatSpread:tJ,seededRandom:nJ,degToRad:rJ,radToDeg:iJ,isPowerOfTwo:aC,ceilPowerOfTwo:$H,floorPowerOfTwo:B_,setQuaternionFromProperEuler:aJ,normalize:vn,denormalize:lo};class Ge{constructor(e=0,n=0){Ge.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(kr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class gn{constructor(e,n,r,i,a,o,s,l,u){gn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u)}set(e,n,r,i,a,o,s,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=s,f[3]=n,f[4]=a,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],f=r[4],h=r[7],p=r[2],v=r[5],_=r[8],S=i[0],x=i[3],w=i[6],E=i[1],b=i[4],T=i[7],P=i[2],C=i[5],L=i[8];return a[0]=o*S+s*E+l*P,a[3]=o*x+s*b+l*C,a[6]=o*w+s*T+l*L,a[1]=u*S+f*E+h*P,a[4]=u*x+f*b+h*C,a[7]=u*w+f*T+h*L,a[2]=p*S+v*E+_*P,a[5]=p*x+v*b+_*C,a[8]=p*w+v*T+_*L,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8];return n*o*f-n*s*u-r*a*f+r*s*l+i*a*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],h=f*o-s*u,p=s*l-f*a,v=u*a-o*l,_=n*h+r*p+i*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/_;return e[0]=h*S,e[1]=(i*u-f*r)*S,e[2]=(s*r-i*o)*S,e[3]=p*S,e[4]=(f*n-i*l)*S,e[5]=(i*a-s*n)*S,e[6]=v*S,e[7]=(r*l-u*n)*S,e[8]=(o*n-r*a)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*o+u*s)+o+e,-i*u,i*l,-i*(-u*o+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(ub.makeScale(e,n)),this}rotate(e){return this.premultiply(ub.makeRotation(-e)),this}translate(e,n){return this.premultiply(ub.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ub=new gn;function XH(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const oJ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function yp(t,e){return new oJ[t](e)}function zv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const aD={};function gv(t){t in aD||(aD[t]=!0,console.warn(t))}function Pp(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function cb(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const sJ=new gn().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),lJ=new gn().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function uJ(t){return t.convertSRGBToLinear().applyMatrix3(lJ)}function cJ(t){return t.applyMatrix3(sJ).convertLinearToSRGB()}const fJ={[Ha]:t=>t,[fn]:t=>t.convertSRGBToLinear(),[jR]:uJ},hJ={[Ha]:t=>t,[fn]:t=>t.convertLinearToSRGB(),[jR]:cJ},Do={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Ha},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=fJ[e],i=hJ[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Ud;class HR{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ud===void 0&&(Ud=zv("canvas")),Ud.width=e.width,Ud.height=e.height;const r=Ud.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ud}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=zv("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Pp(a[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Pp(n[r]/255)*255):n[r]=Pp(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let dJ=0;class Qf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:dJ++}),this.uuid=fo(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(fb(i[o].image)):a.push(fb(i[o]))}else a=fb(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function fb(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?HR.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let pJ=0;class ir extends xu{constructor(e=ir.DEFAULT_IMAGE,n=ir.DEFAULT_MAPPING,r=br,i=br,a=zn,o=Cc,s=fi,l=co,u=ir.DEFAULT_ANISOTROPY,f=bc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:pJ++}),this.uuid=fo(),this.name="",this.source=new Qf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ge(0,0),this.repeat=new Ge(1,1),this.center=new Ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new gn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof f=="string"?this.colorSpace=f:(gv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===Sc?fn:bc),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Tc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Lv:e.x=e.x-Math.floor(e.x);break;case br:e.x=e.x<0?0:1;break;case Nv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Lv:e.y=e.y-Math.floor(e.y);break;case br:e.y=e.y<0?0:1;break;case Nv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return gv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===fn?Sc:zR}set encoding(e){gv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Sc?fn:bc}}ir.DEFAULT_IMAGE=null;ir.DEFAULT_MAPPING=Tc;ir.DEFAULT_ANISOTROPY=1;class Pn{constructor(e=0,n=0,r=0,i=1){Pn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const l=e.elements,u=l[0],f=l[4],h=l[8],p=l[1],v=l[5],_=l[9],S=l[2],x=l[6],w=l[10];if(Math.abs(f-p)<.01&&Math.abs(h-S)<.01&&Math.abs(_-x)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+S)<.1&&Math.abs(_+x)<.1&&Math.abs(u+v+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,T=(v+1)/2,P=(w+1)/2,C=(f+p)/4,L=(h+S)/4,D=(_+x)/4;return b>T&&b>P?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=C/r,a=L/r):T>P?T<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(T),r=C/i,a=D/i):P<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(P),r=L/a,i=D/a),this.set(r,i,a,n),this}let E=Math.sqrt((x-_)*(x-_)+(h-S)*(h-S)+(p-f)*(p-f));return Math.abs(E)<.001&&(E=1),this.x=(x-_)/E,this.y=(h-S)/E,this.z=(p-f)/E,this.w=Math.acos((u+v+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mo extends xu{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Pn(0,0,e,n),this.scissorTest=!1,this.viewport=new Pn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(gv("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Sc?fn:bc),this.texture=new ir(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:zn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Qf(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Q1 extends ir{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Wr,this.minFilter=Wr,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mJ extends mo{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Q1(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class WR extends ir{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Wr,this.minFilter=Wr,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gJ extends mo{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new WR(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class vJ extends mo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const a=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=a.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.texture.length;i<a;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class ta{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,o,s){let l=r[i+0],u=r[i+1],f=r[i+2],h=r[i+3];const p=a[o+0],v=a[o+1],_=a[o+2],S=a[o+3];if(s===0){e[n+0]=l,e[n+1]=u,e[n+2]=f,e[n+3]=h;return}if(s===1){e[n+0]=p,e[n+1]=v,e[n+2]=_,e[n+3]=S;return}if(h!==S||l!==p||u!==v||f!==_){let x=1-s;const w=l*p+u*v+f*_+h*S,E=w>=0?1:-1,b=1-w*w;if(b>Number.EPSILON){const P=Math.sqrt(b),C=Math.atan2(P,w*E);x=Math.sin(x*C)/P,s=Math.sin(s*C)/P}const T=s*E;if(l=l*x+p*T,u=u*x+v*T,f=f*x+_*T,h=h*x+S*T,x===1-s){const P=1/Math.sqrt(l*l+u*u+f*f+h*h);l*=P,u*=P,f*=P,h*=P}}e[n]=l,e[n+1]=u,e[n+2]=f,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,a,o){const s=r[i],l=r[i+1],u=r[i+2],f=r[i+3],h=a[o],p=a[o+1],v=a[o+2],_=a[o+3];return e[n]=s*_+f*h+l*v-u*p,e[n+1]=l*_+f*p+u*h-s*v,e[n+2]=u*_+f*v+s*p-l*h,e[n+3]=f*_-s*h-l*p-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(r/2),f=s(i/2),h=s(a/2),p=l(r/2),v=l(i/2),_=l(a/2);switch(o){case"XYZ":this._x=p*f*h+u*v*_,this._y=u*v*h-p*f*_,this._z=u*f*_+p*v*h,this._w=u*f*h-p*v*_;break;case"YXZ":this._x=p*f*h+u*v*_,this._y=u*v*h-p*f*_,this._z=u*f*_-p*v*h,this._w=u*f*h+p*v*_;break;case"ZXY":this._x=p*f*h-u*v*_,this._y=u*v*h+p*f*_,this._z=u*f*_+p*v*h,this._w=u*f*h-p*v*_;break;case"ZYX":this._x=p*f*h-u*v*_,this._y=u*v*h+p*f*_,this._z=u*f*_-p*v*h,this._w=u*f*h+p*v*_;break;case"YZX":this._x=p*f*h+u*v*_,this._y=u*v*h+p*f*_,this._z=u*f*_-p*v*h,this._w=u*f*h-p*v*_;break;case"XZY":this._x=p*f*h-u*v*_,this._y=u*v*h-p*f*_,this._z=u*f*_+p*v*h,this._w=u*f*h+p*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],f=n[6],h=n[10],p=r+s+h;if(p>0){const v=.5/Math.sqrt(p+1);this._w=.25/v,this._x=(f-l)*v,this._y=(a-u)*v,this._z=(o-i)*v}else if(r>s&&r>h){const v=2*Math.sqrt(1+r-s-h);this._w=(f-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(a+u)/v}else if(s>h){const v=2*Math.sqrt(1+s-r-h);this._w=(a-u)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+f)/v}else{const v=2*Math.sqrt(1+h-r-s);this._w=(o-i)/v,this._x=(a+u)/v,this._y=(l+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(kr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,o=e._w,s=n._x,l=n._y,u=n._z,f=n._w;return this._x=r*f+o*s+i*u-a*l,this._y=i*f+o*l+a*s-r*u,this._z=a*f+o*u+r*l-i*s,this._w=o*f-r*s-i*l-a*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,o=this._w;let s=o*e._w+r*e._x+i*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;const l=1-s*s;if(l<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*a+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),f=Math.atan2(u,s),h=Math.sin((1-n)*f)/u,p=Math.sin(n*f)/u;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=a*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(a),r*Math.cos(a),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,n=0,r=0){ne.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(oD.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(oD.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,u=l*n+o*i-s*r,f=l*r+s*n-a*i,h=l*i+a*r-o*n,p=-a*n-o*r-s*i;return this.x=u*l+p*-a+f*-s-h*-o,this.y=f*l+p*-o+h*-a-u*-s,this.z=h*l+p*-s+u*-o-f*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,o=n.x,s=n.y,l=n.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return hb.copy(this).projectOnVector(e),this.sub(hb)}reflect(e){return this.sub(hb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(kr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const hb=new ne,oD=new ta;class go{constructor(e=new ne(1/0,1/0,1/0),n=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Yl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Yl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Yl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Fd.copy(e.boundingBox),Fd.applyMatrix4(e.matrixWorld),this.union(Fd);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const a=i.attributes.position;for(let o=0,s=a.count;o<s;o++)Yl.fromBufferAttribute(a,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Yl)}else i.boundingBox===null&&i.computeBoundingBox(),Fd.copy(i.boundingBox),Fd.applyMatrix4(e.matrixWorld),this.union(Fd)}const r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Yl),Yl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Pg),rx.subVectors(this.max,Pg),Bd.subVectors(e.a,Pg),zd.subVectors(e.b,Pg),jd.subVectors(e.c,Pg),ic.subVectors(zd,Bd),ac.subVectors(jd,zd),Pf.subVectors(Bd,jd);let n=[0,-ic.z,ic.y,0,-ac.z,ac.y,0,-Pf.z,Pf.y,ic.z,0,-ic.x,ac.z,0,-ac.x,Pf.z,0,-Pf.x,-ic.y,ic.x,0,-ac.y,ac.x,0,-Pf.y,Pf.x,0];return!db(n,Bd,zd,jd,rx)||(n=[1,0,0,0,1,0,0,0,1],!db(n,Bd,zd,jd,rx))?!1:(ix.crossVectors(ic,ac),n=[ix.x,ix.y,ix.z],db(n,Bd,zd,jd,rx))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Yl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Xl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xl=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],Yl=new ne,Fd=new go,Bd=new ne,zd=new ne,jd=new ne,ic=new ne,ac=new ne,Pf=new ne,Pg=new ne,rx=new ne,ix=new ne,Cf=new ne;function db(t,e,n,r,i){for(let a=0,o=t.length-3;a<=o;a+=3){Cf.fromArray(t,a);const s=i.x*Math.abs(Cf.x)+i.y*Math.abs(Cf.y)+i.z*Math.abs(Cf.z),l=e.dot(Cf),u=n.dot(Cf),f=r.dot(Cf);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>s)return!1}return!0}const yJ=new go,Cg=new ne,pb=new ne;class vo{constructor(e=new ne,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):yJ.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cg.subVectors(e,this.center);const n=Cg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Cg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(pb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cg.copy(e.center).add(pb)),this.expandByPoint(Cg.copy(e.center).sub(pb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Kl=new ne,mb=new ne,ax=new ne,oc=new ne,gb=new ne,ox=new ne,vb=new ne;class Rh{constructor(e=new ne,n=new ne(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Kl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Kl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Kl.copy(this.origin).addScaledVector(this.direction,n),Kl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){mb.copy(e).add(n).multiplyScalar(.5),ax.copy(n).sub(e).normalize(),oc.copy(this.origin).sub(mb);const a=e.distanceTo(n)*.5,o=-this.direction.dot(ax),s=oc.dot(this.direction),l=-oc.dot(ax),u=oc.lengthSq(),f=Math.abs(1-o*o);let h,p,v,_;if(f>0)if(h=o*l-s,p=o*s-l,_=a*f,h>=0)if(p>=-_)if(p<=_){const S=1/f;h*=S,p*=S,v=h*(h+o*p+2*s)+p*(o*h+p+2*l)+u}else p=a,h=Math.max(0,-(o*p+s)),v=-h*h+p*(p+2*l)+u;else p=-a,h=Math.max(0,-(o*p+s)),v=-h*h+p*(p+2*l)+u;else p<=-_?(h=Math.max(0,-(-o*a+s)),p=h>0?-a:Math.min(Math.max(-a,-l),a),v=-h*h+p*(p+2*l)+u):p<=_?(h=0,p=Math.min(Math.max(-a,-l),a),v=p*(p+2*l)+u):(h=Math.max(0,-(o*a+s)),p=h>0?a:Math.min(Math.max(-a,-l),a),v=-h*h+p*(p+2*l)+u);else p=o>0?-a:a,h=Math.max(0,-(o*p+s)),v=-h*h+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(mb).addScaledVector(ax,p),v}intersectSphere(e,n){Kl.subVectors(e.center,this.origin);const r=Kl.dot(this.direction),i=Kl.dot(Kl)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,o,s,l;const u=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),f>=0?(a=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(a=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),h>=0?(s=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(s=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Kl)!==null}intersectTriangle(e,n,r,i,a){gb.subVectors(n,e),ox.subVectors(r,e),vb.crossVectors(gb,ox);let o=this.direction.dot(vb),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;oc.subVectors(this.origin,e);const l=s*this.direction.dot(ox.crossVectors(oc,ox));if(l<0)return null;const u=s*this.direction.dot(gb.cross(oc));if(u<0||l+u>o)return null;const f=-s*oc.dot(vb);return f<0?null:this.at(f/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class sn{constructor(e,n,r,i,a,o,s,l,u,f,h,p,v,_,S,x){sn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u,f,h,p,v,_,S,x)}set(e,n,r,i,a,o,s,l,u,f,h,p,v,_,S,x){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=a,w[5]=o,w[9]=s,w[13]=l,w[2]=u,w[6]=f,w[10]=h,w[14]=p,w[3]=v,w[7]=_,w[11]=S,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new sn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Vd.setFromMatrixColumn(e,0).length(),a=1/Vd.setFromMatrixColumn(e,1).length(),o=1/Vd.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(a),h=Math.sin(a);if(e.order==="XYZ"){const p=o*f,v=o*h,_=s*f,S=s*h;n[0]=l*f,n[4]=-l*h,n[8]=u,n[1]=v+_*u,n[5]=p-S*u,n[9]=-s*l,n[2]=S-p*u,n[6]=_+v*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*f,v=l*h,_=u*f,S=u*h;n[0]=p+S*s,n[4]=_*s-v,n[8]=o*u,n[1]=o*h,n[5]=o*f,n[9]=-s,n[2]=v*s-_,n[6]=S+p*s,n[10]=o*l}else if(e.order==="ZXY"){const p=l*f,v=l*h,_=u*f,S=u*h;n[0]=p-S*s,n[4]=-o*h,n[8]=_+v*s,n[1]=v+_*s,n[5]=o*f,n[9]=S-p*s,n[2]=-o*u,n[6]=s,n[10]=o*l}else if(e.order==="ZYX"){const p=o*f,v=o*h,_=s*f,S=s*h;n[0]=l*f,n[4]=_*u-v,n[8]=p*u+S,n[1]=l*h,n[5]=S*u+p,n[9]=v*u-_,n[2]=-u,n[6]=s*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,v=o*u,_=s*l,S=s*u;n[0]=l*f,n[4]=S-p*h,n[8]=_*h+v,n[1]=h,n[5]=o*f,n[9]=-s*f,n[2]=-u*f,n[6]=v*h+_,n[10]=p-S*h}else if(e.order==="XZY"){const p=o*l,v=o*u,_=s*l,S=s*u;n[0]=l*f,n[4]=-h,n[8]=u*f,n[1]=p*h+S,n[5]=o*f,n[9]=v*h-_,n[2]=_*h-v,n[6]=s*f,n[10]=S*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(xJ,e,_J)}lookAt(e,n,r){const i=this.elements;return ro.subVectors(e,n),ro.lengthSq()===0&&(ro.z=1),ro.normalize(),sc.crossVectors(r,ro),sc.lengthSq()===0&&(Math.abs(r.z)===1?ro.x+=1e-4:ro.z+=1e-4,ro.normalize(),sc.crossVectors(r,ro)),sc.normalize(),sx.crossVectors(ro,sc),i[0]=sc.x,i[4]=sx.x,i[8]=ro.x,i[1]=sc.y,i[5]=sx.y,i[9]=ro.y,i[2]=sc.z,i[6]=sx.z,i[10]=ro.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],f=r[1],h=r[5],p=r[9],v=r[13],_=r[2],S=r[6],x=r[10],w=r[14],E=r[3],b=r[7],T=r[11],P=r[15],C=i[0],L=i[4],D=i[8],I=i[12],F=i[1],z=i[5],Y=i[9],H=i[13],K=i[2],ee=i[6],oe=i[10],ae=i[14],$=i[3],re=i[7],J=i[11],j=i[15];return a[0]=o*C+s*F+l*K+u*$,a[4]=o*L+s*z+l*ee+u*re,a[8]=o*D+s*Y+l*oe+u*J,a[12]=o*I+s*H+l*ae+u*j,a[1]=f*C+h*F+p*K+v*$,a[5]=f*L+h*z+p*ee+v*re,a[9]=f*D+h*Y+p*oe+v*J,a[13]=f*I+h*H+p*ae+v*j,a[2]=_*C+S*F+x*K+w*$,a[6]=_*L+S*z+x*ee+w*re,a[10]=_*D+S*Y+x*oe+w*J,a[14]=_*I+S*H+x*ae+w*j,a[3]=E*C+b*F+T*K+P*$,a[7]=E*L+b*z+T*ee+P*re,a[11]=E*D+b*Y+T*oe+P*J,a[15]=E*I+b*H+T*ae+P*j,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],u=e[13],f=e[2],h=e[6],p=e[10],v=e[14],_=e[3],S=e[7],x=e[11],w=e[15];return _*(+a*l*h-i*u*h-a*s*p+r*u*p+i*s*v-r*l*v)+S*(+n*l*v-n*u*p+a*o*p-i*o*v+i*u*f-a*l*f)+x*(+n*u*h-n*s*v-a*o*h+r*o*v+a*s*f-r*u*f)+w*(-i*s*f-n*l*h+n*s*p+i*o*h-r*o*p+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],h=e[9],p=e[10],v=e[11],_=e[12],S=e[13],x=e[14],w=e[15],E=h*x*u-S*p*u+S*l*v-s*x*v-h*l*w+s*p*w,b=_*p*u-f*x*u-_*l*v+o*x*v+f*l*w-o*p*w,T=f*S*u-_*h*u+_*s*v-o*S*v-f*s*w+o*h*w,P=_*h*l-f*S*l-_*s*p+o*S*p+f*s*x-o*h*x,C=n*E+r*b+i*T+a*P;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/C;return e[0]=E*L,e[1]=(S*p*a-h*x*a-S*i*v+r*x*v+h*i*w-r*p*w)*L,e[2]=(s*x*a-S*l*a+S*i*u-r*x*u-s*i*w+r*l*w)*L,e[3]=(h*l*a-s*p*a-h*i*u+r*p*u+s*i*v-r*l*v)*L,e[4]=b*L,e[5]=(f*x*a-_*p*a+_*i*v-n*x*v-f*i*w+n*p*w)*L,e[6]=(_*l*a-o*x*a-_*i*u+n*x*u+o*i*w-n*l*w)*L,e[7]=(o*p*a-f*l*a+f*i*u-n*p*u-o*i*v+n*l*v)*L,e[8]=T*L,e[9]=(_*h*a-f*S*a-_*r*v+n*S*v+f*r*w-n*h*w)*L,e[10]=(o*S*a-_*s*a+_*r*u-n*S*u-o*r*w+n*s*w)*L,e[11]=(f*s*a-o*h*a-f*r*u+n*h*u+o*r*v-n*s*v)*L,e[12]=P*L,e[13]=(f*S*i-_*h*i+_*r*p-n*S*p-f*r*x+n*h*x)*L,e[14]=(_*s*i-o*S*i-_*r*l+n*S*l+o*r*x-n*s*x)*L,e[15]=(o*h*i-f*s*i+f*r*l-n*h*l-o*r*p+n*s*p)*L,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,o=e.x,s=e.y,l=e.z,u=a*o,f=a*s;return this.set(u*o+r,u*s-i*l,u*l+i*s,0,u*s+i*l,f*s+r,f*l-i*o,0,u*l-i*s,f*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,o=n._y,s=n._z,l=n._w,u=a+a,f=o+o,h=s+s,p=a*u,v=a*f,_=a*h,S=o*f,x=o*h,w=s*h,E=l*u,b=l*f,T=l*h,P=r.x,C=r.y,L=r.z;return i[0]=(1-(S+w))*P,i[1]=(v+T)*P,i[2]=(_-b)*P,i[3]=0,i[4]=(v-T)*C,i[5]=(1-(p+w))*C,i[6]=(x+E)*C,i[7]=0,i[8]=(_+b)*L,i[9]=(x-E)*L,i[10]=(1-(p+S))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let a=Vd.set(i[0],i[1],i[2]).length();const o=Vd.set(i[4],i[5],i[6]).length(),s=Vd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],ms.copy(this);const u=1/a,f=1/o,h=1/s;return ms.elements[0]*=u,ms.elements[1]*=u,ms.elements[2]*=u,ms.elements[4]*=f,ms.elements[5]*=f,ms.elements[6]*=f,ms.elements[8]*=h,ms.elements[9]*=h,ms.elements[10]*=h,n.setFromRotationMatrix(ms),r.x=a,r.y=o,r.z=s,this}makePerspective(e,n,r,i,a,o,s=tl){const l=this.elements,u=2*a/(n-e),f=2*a/(r-i),h=(n+e)/(n-e),p=(r+i)/(r-i);let v,_;if(s===tl)v=-(o+a)/(o-a),_=-2*o*a/(o-a);else if(s===Bv)v=-o/(o-a),_=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=u,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,a,o,s=tl){const l=this.elements,u=1/(n-e),f=1/(r-i),h=1/(o-a),p=(n+e)*u,v=(r+i)*f;let _,S;if(s===tl)_=(o+a)*h,S=-2*h;else if(s===Bv)_=a*h,S=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=S,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Vd=new ne,ms=new sn,xJ=new ne(0,0,0),_J=new ne(1,1,1),sc=new ne,sx=new ne,ro=new ne,sD=new sn,lD=new ta;class Fy{constructor(e=0,n=0,r=0,i=Fy.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],f=i[9],h=i[2],p=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(kr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-f,v),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-kr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(s,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(kr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-kr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,v),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(kr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,v));break;case"XZY":this._z=Math.asin(-kr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-f,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return sD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sD,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return lD.setFromEuler(this),this.setFromQuaternion(lD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Fy.DEFAULT_ORDER="XYZ";class fh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wJ=0;const uD=new ne,Hd=new ta,Zl=new sn,lx=new ne,Rg=new ne,SJ=new ne,bJ=new ta,cD=new ne(1,0,0),fD=new ne(0,1,0),hD=new ne(0,0,1),MJ={type:"added"},dD={type:"removed"};class Fn extends xu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wJ++}),this.uuid=fo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Fn.DEFAULT_UP.clone();const e=new ne,n=new Fy,r=new ta,i=new ne(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new sn},normalMatrix:{value:new gn}}),this.matrix=new sn,this.matrixWorld=new sn,this.matrixAutoUpdate=Fn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Fn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new fh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Hd.setFromAxisAngle(e,n),this.quaternion.multiply(Hd),this}rotateOnWorldAxis(e,n){return Hd.setFromAxisAngle(e,n),this.quaternion.premultiply(Hd),this}rotateX(e){return this.rotateOnAxis(cD,e)}rotateY(e){return this.rotateOnAxis(fD,e)}rotateZ(e){return this.rotateOnAxis(hD,e)}translateOnAxis(e,n){return uD.copy(e).applyQuaternion(this.quaternion),this.position.add(uD.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(cD,e)}translateY(e){return this.translateOnAxis(fD,e)}translateZ(e){return this.translateOnAxis(hD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Zl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?lx.copy(e):lx.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Rg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zl.lookAt(Rg,lx,this.up):Zl.lookAt(lx,Rg,this.up),this.quaternion.setFromRotationMatrix(Zl),i&&(Zl.extractRotation(i.matrixWorld),Hd.setFromRotationMatrix(Zl),this.quaternion.premultiply(Hd.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(MJ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(dD)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(dD)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Zl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,a=this.children.length;i<a;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rg,e,SJ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rg,bJ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const a=n[r];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++){const s=i[a];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const h=l[u];a(e.shapes,h)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(n){const s=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),v=o(e.animations),_=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),v.length>0&&(r.animations=v),_.length>0&&(r.nodes=_)}return r.object=i,r;function o(s){const l=[];for(const u in s){const f=s[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Fn.DEFAULT_UP=new ne(0,1,0);Fn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Fn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const gs=new ne,Jl=new ne,yb=new ne,Ql=new ne,Wd=new ne,Gd=new ne,pD=new ne,xb=new ne,_b=new ne,wb=new ne;let ux=!1;class Ba{constructor(e=new ne,n=new ne,r=new ne){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),gs.subVectors(e,n),i.cross(gs);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){gs.subVectors(i,n),Jl.subVectors(r,n),yb.subVectors(e,n);const o=gs.dot(gs),s=gs.dot(Jl),l=gs.dot(yb),u=Jl.dot(Jl),f=Jl.dot(yb),h=o*u-s*s;if(h===0)return a.set(-2,-1,-1);const p=1/h,v=(u*l-s*f)*p,_=(o*f-s*l)*p;return a.set(1-v-_,_,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ql),Ql.x>=0&&Ql.y>=0&&Ql.x+Ql.y<=1}static getUV(e,n,r,i,a,o,s,l){return ux===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ux=!0),this.getInterpolation(e,n,r,i,a,o,s,l)}static getInterpolation(e,n,r,i,a,o,s,l){return this.getBarycoord(e,n,r,i,Ql),l.setScalar(0),l.addScaledVector(a,Ql.x),l.addScaledVector(o,Ql.y),l.addScaledVector(s,Ql.z),l}static isFrontFacing(e,n,r,i){return gs.subVectors(r,n),Jl.subVectors(e,n),gs.cross(Jl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return gs.subVectors(this.c,this.b),Jl.subVectors(this.a,this.b),gs.cross(Jl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ba.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ba.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,a){return ux===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ux=!0),Ba.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}getInterpolation(e,n,r,i,a){return Ba.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return Ba.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ba.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let o,s;Wd.subVectors(i,r),Gd.subVectors(a,r),xb.subVectors(e,r);const l=Wd.dot(xb),u=Gd.dot(xb);if(l<=0&&u<=0)return n.copy(r);_b.subVectors(e,i);const f=Wd.dot(_b),h=Gd.dot(_b);if(f>=0&&h<=f)return n.copy(i);const p=l*h-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(Wd,o);wb.subVectors(e,a);const v=Wd.dot(wb),_=Gd.dot(wb);if(_>=0&&v<=_)return n.copy(a);const S=v*u-l*_;if(S<=0&&u>=0&&_<=0)return s=u/(u-_),n.copy(r).addScaledVector(Gd,s);const x=f*_-v*h;if(x<=0&&h-f>=0&&v-_>=0)return pD.subVectors(a,i),s=(h-f)/(h-f+(v-_)),n.copy(i).addScaledVector(pD,s);const w=1/(x+S+p);return o=S*w,s=p*w,n.copy(r).addScaledVector(Wd,o).addScaledVector(Gd,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let EJ=0;class na extends xu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:EJ++}),this.uuid=fo(),this.name="",this.type="Material",this.blending=uh,this.side=hu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=TR,this.blendDst=PR,this.blendEquation=$f,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=k_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=UH,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=M_,this.stencilZFail=M_,this.stencilZPass=M_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==uh&&(r.blending=this.blending),this.side!==hu&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(n){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const YH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},vs={h:0,s:0,l:0},cx={h:0,s:0,l:0};function Sb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Mt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=fn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Do.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Do.workingColorSpace){return this.r=e,this.g=n,this.b=r,Do.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Do.workingColorSpace){if(e=VR(e,1),n=kr(n,0,1),r=kr(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=Sb(o,a,e+1/3),this.g=Sb(o,a,e),this.b=Sb(o,a,e-1/3)}return Do.toWorkingColorSpace(this,i),this}setStyle(e,n=fn){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=fn){const r=YH[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Pp(e.r),this.g=Pp(e.g),this.b=Pp(e.b),this}copyLinearToSRGB(e){return this.r=cb(e.r),this.g=cb(e.g),this.b=cb(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fn){return Do.fromWorkingColorSpace(Ki.copy(this),e),Math.round(kr(Ki.r*255,0,255))*65536+Math.round(kr(Ki.g*255,0,255))*256+Math.round(kr(Ki.b*255,0,255))}getHexString(e=fn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Do.workingColorSpace){Do.fromWorkingColorSpace(Ki.copy(this),n);const r=Ki.r,i=Ki.g,a=Ki.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,u;const f=(s+o)/2;if(s===o)l=0,u=0;else{const h=o-s;switch(u=f<=.5?h/(o+s):h/(2-o-s),o){case r:l=(i-a)/h+(i<a?6:0);break;case i:l=(a-r)/h+2;break;case a:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,n=Do.workingColorSpace){return Do.fromWorkingColorSpace(Ki.copy(this),n),e.r=Ki.r,e.g=Ki.g,e.b=Ki.b,e}getStyle(e=fn){Do.fromWorkingColorSpace(Ki.copy(this),e);const n=Ki.r,r=Ki.g,i=Ki.b;return e!==fn?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(vs),vs.h+=e,vs.s+=n,vs.l+=r,this.setHSL(vs.h,vs.s,vs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(vs),e.getHSL(cx);const r=mv(vs.h,cx.h,n),i=mv(vs.s,cx.s,n),a=mv(vs.l,cx.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ki=new Mt;Mt.NAMES=YH;class _u extends na{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const au=AJ();function AJ(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;(u&8388608)===0;)u<<=1,f-=8388608;u&=-8388609,f+=947912704,a[l]=u|f}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function Fa(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=kr(t,-65504,65504),au.floatView[0]=t;const e=au.uint32View[0],n=e>>23&511;return au.baseTable[n]+((e&8388607)>>au.shiftTable[n])}function Qg(t){const e=t>>10;return au.uint32View[0]=au.mantissaTable[au.offsetTable[e]+(t&1023)]+au.exponentTable[e],au.floatView[0]}const eh={toHalfFloat:Fa,fromHalfFloat:Qg},Jr=new ne,fx=new Ge;class or{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Fv,this.updateRange={offset:0,count:-1},this.gpuType=hi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)fx.fromBufferAttribute(this,n),fx.applyMatrix3(e),this.setXY(n,fx.x,fx.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Jr.fromBufferAttribute(this,n),Jr.applyMatrix3(e),this.setXYZ(n,Jr.x,Jr.y,Jr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Jr.fromBufferAttribute(this,n),Jr.applyMatrix4(e),this.setXYZ(n,Jr.x,Jr.y,Jr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Jr.fromBufferAttribute(this,n),Jr.applyNormalMatrix(e),this.setXYZ(n,Jr.x,Jr.y,Jr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Jr.fromBufferAttribute(this,n),Jr.transformDirection(e),this.setXYZ(n,Jr.x,Jr.y,Jr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=lo(n,this.array)),n}setX(e,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=lo(n,this.array)),n}setY(e,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=lo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=lo(n,this.array)),n}setW(e,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=vn(n,this.array),r=vn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=vn(n,this.array),r=vn(r,this.array),i=vn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=vn(n,this.array),r=vn(r,this.array),i=vn(i,this.array),a=vn(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Fv&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class TJ extends or{constructor(e,n,r){super(new Int8Array(e),n,r)}}class PJ extends or{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class CJ extends or{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class RJ extends or{constructor(e,n,r){super(new Int16Array(e),n,r)}}class GR extends or{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class OJ extends or{constructor(e,n,r){super(new Int32Array(e),n,r)}}class $R extends or{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class IJ extends or{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Qg(this.array[e*this.itemSize]);return this.normalized&&(n=lo(n,this.array)),n}setX(e,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize]=Fa(n),this}getY(e){let n=Qg(this.array[e*this.itemSize+1]);return this.normalized&&(n=lo(n,this.array)),n}setY(e,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize+1]=Fa(n),this}getZ(e){let n=Qg(this.array[e*this.itemSize+2]);return this.normalized&&(n=lo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize+2]=Fa(n),this}getW(e){let n=Qg(this.array[e*this.itemSize+3]);return this.normalized&&(n=lo(n,this.array)),n}setW(e,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize+3]=Fa(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=vn(n,this.array),r=vn(r,this.array)),this.array[e+0]=Fa(n),this.array[e+1]=Fa(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=vn(n,this.array),r=vn(r,this.array),i=vn(i,this.array)),this.array[e+0]=Fa(n),this.array[e+1]=Fa(r),this.array[e+2]=Fa(i),this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=vn(n,this.array),r=vn(r,this.array),i=vn(i,this.array),a=vn(a,this.array)),this.array[e+0]=Fa(n),this.array[e+1]=Fa(r),this.array[e+2]=Fa(i),this.array[e+3]=Fa(a),this}}class Lt extends or{constructor(e,n,r){super(new Float32Array(e),n,r)}}class LJ extends or{constructor(e,n,r){super(new Float64Array(e),n,r)}}let NJ=0;const Oo=new sn,bb=new Fn,$d=new ne,io=new go,Og=new go,Si=new ne;class yn extends xu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:NJ++}),this.uuid=fo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(XH(e)?$R:GR)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new gn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Oo.makeRotationFromQuaternion(e),this.applyMatrix4(Oo),this}rotateX(e){return Oo.makeRotationX(e),this.applyMatrix4(Oo),this}rotateY(e){return Oo.makeRotationY(e),this.applyMatrix4(Oo),this}rotateZ(e){return Oo.makeRotationZ(e),this.applyMatrix4(Oo),this}translate(e,n,r){return Oo.makeTranslation(e,n,r),this.applyMatrix4(Oo),this}scale(e,n,r){return Oo.makeScale(e,n,r),this.applyMatrix4(Oo),this}lookAt(e){return bb.lookAt(e),bb.updateMatrix(),this.applyMatrix4(bb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($d).negate(),this.translate($d.x,$d.y,$d.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Lt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new go);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];io.setFromBufferAttribute(a),this.morphTargetsRelative?(Si.addVectors(this.boundingBox.min,io.min),this.boundingBox.expandByPoint(Si),Si.addVectors(this.boundingBox.max,io.max),this.boundingBox.expandByPoint(Si)):(this.boundingBox.expandByPoint(io.min),this.boundingBox.expandByPoint(io.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ne,1/0);return}if(e){const r=this.boundingSphere.center;if(io.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const s=n[a];Og.setFromBufferAttribute(s),this.morphTargetsRelative?(Si.addVectors(io.min,Og.min),io.expandByPoint(Si),Si.addVectors(io.max,Og.max),io.expandByPoint(Si)):(io.expandByPoint(Og.min),io.expandByPoint(Og.max))}io.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)Si.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Si));if(n)for(let a=0,o=n.length;a<o;a++){const s=n[a],l=this.morphTargetsRelative;for(let u=0,f=s.count;u<f;u++)Si.fromBufferAttribute(s,u),l&&($d.fromBufferAttribute(e,u),Si.add($d)),i=Math.max(i,r.distanceToSquared(Si))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,a=n.normal.array,o=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new or(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,u=[],f=[];for(let F=0;F<s;F++)u[F]=new ne,f[F]=new ne;const h=new ne,p=new ne,v=new ne,_=new Ge,S=new Ge,x=new Ge,w=new ne,E=new ne;function b(F,z,Y){h.fromArray(i,F*3),p.fromArray(i,z*3),v.fromArray(i,Y*3),_.fromArray(o,F*2),S.fromArray(o,z*2),x.fromArray(o,Y*2),p.sub(h),v.sub(h),S.sub(_),x.sub(_);const H=1/(S.x*x.y-x.x*S.y);isFinite(H)&&(w.copy(p).multiplyScalar(x.y).addScaledVector(v,-S.y).multiplyScalar(H),E.copy(v).multiplyScalar(S.x).addScaledVector(p,-x.x).multiplyScalar(H),u[F].add(w),u[z].add(w),u[Y].add(w),f[F].add(E),f[z].add(E),f[Y].add(E))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let F=0,z=T.length;F<z;++F){const Y=T[F],H=Y.start,K=Y.count;for(let ee=H,oe=H+K;ee<oe;ee+=3)b(r[ee+0],r[ee+1],r[ee+2])}const P=new ne,C=new ne,L=new ne,D=new ne;function I(F){L.fromArray(a,F*3),D.copy(L);const z=u[F];P.copy(z),P.sub(L.multiplyScalar(L.dot(z))).normalize(),C.crossVectors(D,z);const H=C.dot(f[F])<0?-1:1;l[F*4]=P.x,l[F*4+1]=P.y,l[F*4+2]=P.z,l[F*4+3]=H}for(let F=0,z=T.length;F<z;++F){const Y=T[F],H=Y.start,K=Y.count;for(let ee=H,oe=H+K;ee<oe;ee+=3)I(r[ee+0]),I(r[ee+1]),I(r[ee+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new or(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,v=r.count;p<v;p++)r.setXYZ(p,0,0,0);const i=new ne,a=new ne,o=new ne,s=new ne,l=new ne,u=new ne,f=new ne,h=new ne;if(e)for(let p=0,v=e.count;p<v;p+=3){const _=e.getX(p+0),S=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(n,_),a.fromBufferAttribute(n,S),o.fromBufferAttribute(n,x),f.subVectors(o,a),h.subVectors(i,a),f.cross(h),s.fromBufferAttribute(r,_),l.fromBufferAttribute(r,S),u.fromBufferAttribute(r,x),s.add(f),l.add(f),u.add(f),r.setXYZ(_,s.x,s.y,s.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,v=n.count;p<v;p+=3)i.fromBufferAttribute(n,p+0),a.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),f.subVectors(o,a),h.subVectors(i,a),f.cross(h),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Si.fromBufferAttribute(e,n),Si.normalize(),e.setXYZ(n,Si.x,Si.y,Si.z)}toNonIndexed(){function e(s,l){const u=s.array,f=s.itemSize,h=s.normalized,p=new u.constructor(l.length*f);let v=0,_=0;for(let S=0,x=l.length;S<x;S++){s.isInterleavedBufferAttribute?v=l[S]*s.data.stride+s.offset:v=l[S]*f;for(let w=0;w<f;w++)p[_++]=u[v++]}return new or(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new yn,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let f=0,h=u.length;f<h;f++){const p=u[f],v=e(p,r);l.push(v)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let h=0,p=u.length;h<p;h++){const v=u[h];f.push(v.toJSON(e.data))}f.length>0&&(i[l]=f,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(n))}const a=e.morphAttributes;for(const u in a){const f=[],h=a[u];for(let p=0,v=h.length;p<v;p++)f.push(h[p].clone(n));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const mD=new sn,Rf=new Rh,hx=new vo,gD=new ne,qd=new ne,Xd=new ne,Yd=new ne,Mb=new ne,dx=new ne,px=new Ge,mx=new Ge,gx=new Ge,vD=new ne,yD=new ne,xD=new ne,vx=new ne,yx=new ne;class Gr extends Fn{constructor(e=new yn,n=new _u){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){dx.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const f=s[l],h=a[l];f!==0&&(Mb.fromBufferAttribute(h,e),o?dx.addScaledVector(Mb,f):dx.addScaledVector(Mb.sub(n),f))}n.add(dx)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),hx.copy(r.boundingSphere),hx.applyMatrix4(a),Rf.copy(e.ray).recast(e.near),!(hx.containsPoint(Rf.origin)===!1&&(Rf.intersectSphere(hx,gD)===null||Rf.origin.distanceToSquared(gD)>(e.far-e.near)**2))&&(mD.copy(a).invert(),Rf.copy(e.ray).applyMatrix4(mD),!(r.boundingBox!==null&&Rf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Rf)))}_computeIntersections(e,n,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,f=a.attributes.uv1,h=a.attributes.normal,p=a.groups,v=a.drawRange;if(s!==null)if(Array.isArray(o))for(let _=0,S=p.length;_<S;_++){const x=p[_],w=o[x.materialIndex],E=Math.max(x.start,v.start),b=Math.min(s.count,Math.min(x.start+x.count,v.start+v.count));for(let T=E,P=b;T<P;T+=3){const C=s.getX(T),L=s.getX(T+1),D=s.getX(T+2);i=xx(this,w,e,r,u,f,h,C,L,D),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const _=Math.max(0,v.start),S=Math.min(s.count,v.start+v.count);for(let x=_,w=S;x<w;x+=3){const E=s.getX(x),b=s.getX(x+1),T=s.getX(x+2);i=xx(this,o,e,r,u,f,h,E,b,T),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let _=0,S=p.length;_<S;_++){const x=p[_],w=o[x.materialIndex],E=Math.max(x.start,v.start),b=Math.min(l.count,Math.min(x.start+x.count,v.start+v.count));for(let T=E,P=b;T<P;T+=3){const C=T,L=T+1,D=T+2;i=xx(this,w,e,r,u,f,h,C,L,D),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const _=Math.max(0,v.start),S=Math.min(l.count,v.start+v.count);for(let x=_,w=S;x<w;x+=3){const E=x,b=x+1,T=x+2;i=xx(this,o,e,r,u,f,h,E,b,T),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function DJ(t,e,n,r,i,a,o,s){let l;if(e.side===Sa?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===hu,s),l===null)return null;yx.copy(s),yx.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(yx);return u<n.near||u>n.far?null:{distance:u,point:yx.clone(),object:t}}function xx(t,e,n,r,i,a,o,s,l,u){t.getVertexPosition(s,qd),t.getVertexPosition(l,Xd),t.getVertexPosition(u,Yd);const f=DJ(t,e,n,r,qd,Xd,Yd,vx);if(f){i&&(px.fromBufferAttribute(i,s),mx.fromBufferAttribute(i,l),gx.fromBufferAttribute(i,u),f.uv=Ba.getInterpolation(vx,qd,Xd,Yd,px,mx,gx,new Ge)),a&&(px.fromBufferAttribute(a,s),mx.fromBufferAttribute(a,l),gx.fromBufferAttribute(a,u),f.uv1=Ba.getInterpolation(vx,qd,Xd,Yd,px,mx,gx,new Ge),f.uv2=f.uv1),o&&(vD.fromBufferAttribute(o,s),yD.fromBufferAttribute(o,l),xD.fromBufferAttribute(o,u),f.normal=Ba.getInterpolation(vx,qd,Xd,Yd,vD,yD,xD,new ne),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const h={a:s,b:l,c:u,normal:new ne,materialIndex:0};Ba.getNormal(qd,Xd,Yd,h.normal),f.face=h}return f}class Oh extends yn{constructor(e=1,n=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],f=[],h=[];let p=0,v=0;_("z","y","x",-1,-1,r,n,e,o,a,0),_("z","y","x",1,-1,r,n,-e,o,a,1),_("x","z","y",1,1,e,r,n,i,o,2),_("x","z","y",1,-1,e,r,-n,i,o,3),_("x","y","z",1,-1,e,n,r,i,a,4),_("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new Lt(u,3)),this.setAttribute("normal",new Lt(f,3)),this.setAttribute("uv",new Lt(h,2));function _(S,x,w,E,b,T,P,C,L,D,I){const F=T/L,z=P/D,Y=T/2,H=P/2,K=C/2,ee=L+1,oe=D+1;let ae=0,$=0;const re=new ne;for(let J=0;J<oe;J++){const j=J*z-H;for(let q=0;q<ee;q++){const pe=q*F-Y;re[S]=pe*E,re[x]=j*b,re[w]=K,u.push(re.x,re.y,re.z),re[S]=0,re[x]=0,re[w]=C>0?1:-1,f.push(re.x,re.y,re.z),h.push(q/L),h.push(1-J/D),ae+=1}}for(let J=0;J<D;J++)for(let j=0;j<L;j++){const q=p+j+ee*J,pe=p+j+ee*(J+1),_e=p+(j+1)+ee*(J+1),Re=p+(j+1)+ee*J;l.push(q,pe,Re),l.push(pe,_e,Re),$+=6}s.addGroup(v,$,I),v+=$,p+=ae}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Oh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Fp(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ma(t){const e={};for(let n=0;n<t.length;n++){const r=Fp(t[n]);for(const i in r)e[i]=r[i]}return e}function kJ(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function KH(t){return t.getRenderTarget()===null?t.outputColorSpace:Ha}const z_={clone:Fp,merge:ma};var UJ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,FJ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Wa extends na{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=UJ,this.fragmentShader=FJ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Fp(e.uniforms),this.uniformsGroups=kJ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class By extends Fn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new sn,this.projectionMatrix=new sn,this.projectionMatrixInverse=new sn,this.coordinateSystem=tl}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Tr extends By{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Up*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ch*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Up*2*Math.atan(Math.tan(ch*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ch*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Kd=-90,Zd=1;class ZH extends Fn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new Tr(Kd,Zd,e,n);i.layers=this.layers,this.add(i);const a=new Tr(Kd,Zd,e,n);a.layers=this.layers,this.add(a);const o=new Tr(Kd,Zd,e,n);o.layers=this.layers,this.add(o);const s=new Tr(Kd,Zd,e,n);s.layers=this.layers,this.add(s);const l=new Tr(Kd,Zd,e,n);l.layers=this.layers,this.add(l);const u=new Tr(Kd,Zd,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,o,s,l]=n;for(const u of n)this.remove(u);if(e===tl)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Bv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,o,s,l,u]=this.children,f=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Ps,e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,a),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,s),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=v,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(f),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class zy extends ir{constructor(e,n,r,i,a,o,s,l,u,f){e=e!==void 0?e:[],n=n!==void 0?n:du,super(e,n,r,i,a,o,s,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class qR extends mo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(gv("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Sc?fn:bc),this.texture=new zy(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:zn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Oh(5,5,5),a=new Wa({name:"CubemapFromEquirect",uniforms:Fp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Sa,blending:ol});a.uniforms.tEquirect.value=n;const o=new Gr(i,a),s=n.minFilter;return n.minFilter===Cc&&(n.minFilter=zn),new ZH(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(a)}}const Eb=new ne,BJ=new ne,zJ=new gn;class iu{constructor(e=new ne(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Eb.subVectors(r,n).cross(BJ.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Eb),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||zJ.getNormalMatrix(e),i=this.coplanarPoint(Eb).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Of=new vo,_x=new ne;class ew{constructor(e=new iu,n=new iu,r=new iu,i=new iu,a=new iu,o=new iu){this.planes=[e,n,r,i,a,o]}set(e,n,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=tl){const r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],f=i[5],h=i[6],p=i[7],v=i[8],_=i[9],S=i[10],x=i[11],w=i[12],E=i[13],b=i[14],T=i[15];if(r[0].setComponents(l-a,p-u,x-v,T-w).normalize(),r[1].setComponents(l+a,p+u,x+v,T+w).normalize(),r[2].setComponents(l+o,p+f,x+_,T+E).normalize(),r[3].setComponents(l-o,p-f,x-_,T-E).normalize(),r[4].setComponents(l-s,p-h,x-S,T-b).normalize(),n===tl)r[5].setComponents(l+s,p+h,x+S,T+b).normalize();else if(n===Bv)r[5].setComponents(s,h,S,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Of.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Of.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Of)}intersectsSprite(e){return Of.center.set(0,0,0),Of.radius=.7071067811865476,Of.applyMatrix4(e.matrixWorld),this.intersectsSphere(Of)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(_x.x=i.normal.x>0?e.max.x:e.min.x,_x.y=i.normal.y>0?e.max.y:e.min.y,_x.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(_x)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function JH(){let t=null,e=!1,n=null,r=null;function i(a,o){n(a,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function jJ(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,f){const h=u.array,p=u.usage,v=t.createBuffer();t.bindBuffer(f,v),t.bufferData(f,h,p),u.onUploadCallback();let _;if(h instanceof Float32Array)_=t.FLOAT;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)_=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)_=t.SHORT;else if(h instanceof Uint32Array)_=t.UNSIGNED_INT;else if(h instanceof Int32Array)_=t.INT;else if(h instanceof Int8Array)_=t.BYTE;else if(h instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:_,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function a(u,f,h){const p=f.array,v=f.updateRange;t.bindBuffer(h,u),v.count===-1?t.bufferSubData(h,0,p):(n?t.bufferSubData(h,v.offset*p.BYTES_PER_ELEMENT,p,v.offset,v.count):t.bufferSubData(h,v.offset*p.BYTES_PER_ELEMENT,p.subarray(v.offset,v.offset+v.count)),v.count=-1),f.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f&&(t.deleteBuffer(f.buffer),r.delete(u))}function l(u,f){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,f)):h.version<u.version&&(a(h.buffer,u,f),h.version=u.version)}return{get:o,remove:s,update:l}}class Ih extends yn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,o=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,f=l+1,h=e/s,p=n/l,v=[],_=[],S=[],x=[];for(let w=0;w<f;w++){const E=w*p-o;for(let b=0;b<u;b++){const T=b*h-a;_.push(T,-E,0),S.push(0,0,1),x.push(b/s),x.push(1-w/l)}}for(let w=0;w<l;w++)for(let E=0;E<s;E++){const b=E+u*w,T=E+u*(w+1),P=E+1+u*(w+1),C=E+1+u*w;v.push(b,T,C),v.push(T,P,C)}this.setIndex(v),this.setAttribute("position",new Lt(_,3)),this.setAttribute("normal",new Lt(S,3)),this.setAttribute("uv",new Lt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ih(e.width,e.height,e.widthSegments,e.heightSegments)}}var VJ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,HJ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,WJ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,GJ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,$J=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,qJ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,XJ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,YJ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,KJ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ZJ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,JJ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,QJ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,eQ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,tQ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,nQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,rQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,iQ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,aQ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,oQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,sQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,lQ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,uQ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cQ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,fQ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hQ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,dQ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,pQ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,mQ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,gQ="gl_FragColor = linearToOutputTexel( gl_FragColor );",vQ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,yQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,xQ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_Q=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wQ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,SQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,bQ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,MQ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,EQ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,AQ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,TQ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,PQ=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,CQ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,RQ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,OQ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,IQ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,LQ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,NQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,DQ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,kQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,UQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,FQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,BQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zQ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,jQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,VQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,HQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,WQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,GQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,$Q=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,qQ=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,XQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,YQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,KQ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ZQ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,JQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,QQ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,eee=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,tee=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,nee=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ree=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,iee=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,aee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,oee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,see=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,lee=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,uee=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,cee=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,fee=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,hee=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,dee=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,pee=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,mee=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,gee=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,vee=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,yee=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xee=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_ee=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wee=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,See=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bee=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Mee=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Eee=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Aee=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Tee=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Pee=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Cee=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ree=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Oee=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Iee=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Lee=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Nee=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Dee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Uee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Fee=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Bee=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zee=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vee=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Wee=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Gee=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,$ee=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,qee=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Xee=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Yee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Kee=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zee=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jee=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Qee=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ete=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tte=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nte=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rte=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ite=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ate=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ote=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ste=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lte=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ute=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,cte=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fte=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hte=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dte=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,pte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mte=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gte=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vte=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,yte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,mn={alphahash_fragment:VJ,alphahash_pars_fragment:HJ,alphamap_fragment:WJ,alphamap_pars_fragment:GJ,alphatest_fragment:$J,alphatest_pars_fragment:qJ,aomap_fragment:XJ,aomap_pars_fragment:YJ,begin_vertex:KJ,beginnormal_vertex:ZJ,bsdfs:JJ,iridescence_fragment:QJ,bumpmap_pars_fragment:eQ,clipping_planes_fragment:tQ,clipping_planes_pars_fragment:nQ,clipping_planes_pars_vertex:rQ,clipping_planes_vertex:iQ,color_fragment:aQ,color_pars_fragment:oQ,color_pars_vertex:sQ,color_vertex:lQ,common:uQ,cube_uv_reflection_fragment:cQ,defaultnormal_vertex:fQ,displacementmap_pars_vertex:hQ,displacementmap_vertex:dQ,emissivemap_fragment:pQ,emissivemap_pars_fragment:mQ,colorspace_fragment:gQ,colorspace_pars_fragment:vQ,envmap_fragment:yQ,envmap_common_pars_fragment:xQ,envmap_pars_fragment:_Q,envmap_pars_vertex:wQ,envmap_physical_pars_fragment:LQ,envmap_vertex:SQ,fog_vertex:bQ,fog_pars_vertex:MQ,fog_fragment:EQ,fog_pars_fragment:AQ,gradientmap_pars_fragment:TQ,lightmap_fragment:PQ,lightmap_pars_fragment:CQ,lights_lambert_fragment:RQ,lights_lambert_pars_fragment:OQ,lights_pars_begin:IQ,lights_toon_fragment:NQ,lights_toon_pars_fragment:DQ,lights_phong_fragment:kQ,lights_phong_pars_fragment:UQ,lights_physical_fragment:FQ,lights_physical_pars_fragment:BQ,lights_fragment_begin:zQ,lights_fragment_maps:jQ,lights_fragment_end:VQ,logdepthbuf_fragment:HQ,logdepthbuf_pars_fragment:WQ,logdepthbuf_pars_vertex:GQ,logdepthbuf_vertex:$Q,map_fragment:qQ,map_pars_fragment:XQ,map_particle_fragment:YQ,map_particle_pars_fragment:KQ,metalnessmap_fragment:ZQ,metalnessmap_pars_fragment:JQ,morphcolor_vertex:QQ,morphnormal_vertex:eee,morphtarget_pars_vertex:tee,morphtarget_vertex:nee,normal_fragment_begin:ree,normal_fragment_maps:iee,normal_pars_fragment:aee,normal_pars_vertex:oee,normal_vertex:see,normalmap_pars_fragment:lee,clearcoat_normal_fragment_begin:uee,clearcoat_normal_fragment_maps:cee,clearcoat_pars_fragment:fee,iridescence_pars_fragment:hee,opaque_fragment:dee,packing:pee,premultiplied_alpha_fragment:mee,project_vertex:gee,dithering_fragment:vee,dithering_pars_fragment:yee,roughnessmap_fragment:xee,roughnessmap_pars_fragment:_ee,shadowmap_pars_fragment:wee,shadowmap_pars_vertex:See,shadowmap_vertex:bee,shadowmask_pars_fragment:Mee,skinbase_vertex:Eee,skinning_pars_vertex:Aee,skinning_vertex:Tee,skinnormal_vertex:Pee,specularmap_fragment:Cee,specularmap_pars_fragment:Ree,tonemapping_fragment:Oee,tonemapping_pars_fragment:Iee,transmission_fragment:Lee,transmission_pars_fragment:Nee,uv_pars_fragment:Dee,uv_pars_vertex:kee,uv_vertex:Uee,worldpos_vertex:Fee,background_vert:Bee,background_frag:zee,backgroundCube_vert:jee,backgroundCube_frag:Vee,cube_vert:Hee,cube_frag:Wee,depth_vert:Gee,depth_frag:$ee,distanceRGBA_vert:qee,distanceRGBA_frag:Xee,equirect_vert:Yee,equirect_frag:Kee,linedashed_vert:Zee,linedashed_frag:Jee,meshbasic_vert:Qee,meshbasic_frag:ete,meshlambert_vert:tte,meshlambert_frag:nte,meshmatcap_vert:rte,meshmatcap_frag:ite,meshnormal_vert:ate,meshnormal_frag:ote,meshphong_vert:ste,meshphong_frag:lte,meshphysical_vert:ute,meshphysical_frag:cte,meshtoon_vert:fte,meshtoon_frag:hte,points_vert:dte,points_frag:pte,shadow_vert:mte,shadow_frag:gte,sprite_vert:vte,sprite_frag:yte},mt={common:{diffuse:{value:new Mt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new gn},alphaMap:{value:null},alphaMapTransform:{value:new gn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new gn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new gn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new gn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new gn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new gn},normalScale:{value:new Ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new gn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new gn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new gn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new gn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new gn},alphaTest:{value:0},uvTransform:{value:new gn}},sprite:{diffuse:{value:new Mt(16777215)},opacity:{value:1},center:{value:new Ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new gn},alphaMap:{value:null},alphaMapTransform:{value:new gn},alphaTest:{value:0}}},Ms={basic:{uniforms:ma([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.fog]),vertexShader:mn.meshbasic_vert,fragmentShader:mn.meshbasic_frag},lambert:{uniforms:ma([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:mn.meshlambert_vert,fragmentShader:mn.meshlambert_frag},phong:{uniforms:ma([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new Mt(0)},specular:{value:new Mt(1118481)},shininess:{value:30}}]),vertexShader:mn.meshphong_vert,fragmentShader:mn.meshphong_frag},standard:{uniforms:ma([mt.common,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.roughnessmap,mt.metalnessmap,mt.fog,mt.lights,{emissive:{value:new Mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag},toon:{uniforms:ma([mt.common,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.gradientmap,mt.fog,mt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:mn.meshtoon_vert,fragmentShader:mn.meshtoon_frag},matcap:{uniforms:ma([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,{matcap:{value:null}}]),vertexShader:mn.meshmatcap_vert,fragmentShader:mn.meshmatcap_frag},points:{uniforms:ma([mt.points,mt.fog]),vertexShader:mn.points_vert,fragmentShader:mn.points_frag},dashed:{uniforms:ma([mt.common,mt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mn.linedashed_vert,fragmentShader:mn.linedashed_frag},depth:{uniforms:ma([mt.common,mt.displacementmap]),vertexShader:mn.depth_vert,fragmentShader:mn.depth_frag},normal:{uniforms:ma([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,{opacity:{value:1}}]),vertexShader:mn.meshnormal_vert,fragmentShader:mn.meshnormal_frag},sprite:{uniforms:ma([mt.sprite,mt.fog]),vertexShader:mn.sprite_vert,fragmentShader:mn.sprite_frag},background:{uniforms:{uvTransform:{value:new gn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mn.background_vert,fragmentShader:mn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:mn.backgroundCube_vert,fragmentShader:mn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mn.cube_vert,fragmentShader:mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mn.equirect_vert,fragmentShader:mn.equirect_frag},distanceRGBA:{uniforms:ma([mt.common,mt.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mn.distanceRGBA_vert,fragmentShader:mn.distanceRGBA_frag},shadow:{uniforms:ma([mt.lights,mt.fog,{color:{value:new Mt(0)},opacity:{value:1}}]),vertexShader:mn.shadow_vert,fragmentShader:mn.shadow_frag}};Ms.physical={uniforms:ma([Ms.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new gn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new gn},clearcoatNormalScale:{value:new Ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new gn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new gn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new gn},sheen:{value:0},sheenColor:{value:new Mt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new gn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new gn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new gn},transmissionSamplerSize:{value:new Ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new gn},attenuationDistance:{value:0},attenuationColor:{value:new Mt(0)},specularColor:{value:new Mt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new gn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new gn},anisotropyVector:{value:new Ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new gn}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag};const wx={r:0,b:0,g:0};function xte(t,e,n,r,i,a,o){const s=new Mt(0);let l=a===!0?0:1,u,f,h=null,p=0,v=null;function _(x,w){let E=!1,b=w.isScene===!0?w.background:null;switch(b&&b.isTexture&&(b=(w.backgroundBlurriness>0?n:e).get(b)),b===null?S(s,l):b&&b.isColor&&(S(b,1),E=!0),t.xr.getEnvironmentBlendMode()){case"opaque":E=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),E=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),E=!0;break}(t.autoClear||E)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===ym)?(f===void 0&&(f=new Gr(new Oh(1,1,1),new Wa({name:"BackgroundCubeMaterial",uniforms:Fp(Ms.backgroundCube.uniforms),vertexShader:Ms.backgroundCube.vertexShader,fragmentShader:Ms.backgroundCube.fragmentShader,side:Sa,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(C,L,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),f.material.uniforms.envMap.value=b,f.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,f.material.toneMapped=b.colorSpace!==fn,(h!==b||p!==b.version||v!==t.toneMapping)&&(f.material.needsUpdate=!0,h=b,p=b.version,v=t.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new Gr(new Ih(2,2),new Wa({name:"BackgroundMaterial",uniforms:Fp(Ms.background.uniforms),vertexShader:Ms.background.vertexShader,fragmentShader:Ms.background.fragmentShader,side:hu,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=b.colorSpace!==fn,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(h!==b||p!==b.version||v!==t.toneMapping)&&(u.material.needsUpdate=!0,h=b,p=b.version,v=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function S(x,w){x.getRGB(wx,KH(t)),r.buffers.color.setClear(wx.r,wx.g,wx.b,w,o)}return{getClearColor:function(){return s},setClearColor:function(x,w=1){s.set(x),l=w,S(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,S(s,l)},render:_}}function _te(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||a!==null,s={},l=x(null);let u=l,f=!1;function h(K,ee,oe,ae,$){let re=!1;if(o){const J=S(ae,oe,ee);u!==J&&(u=J,v(u.object)),re=w(K,ae,oe,$),re&&E(K,ae,oe,$)}else{const J=ee.wireframe===!0;(u.geometry!==ae.id||u.program!==oe.id||u.wireframe!==J)&&(u.geometry=ae.id,u.program=oe.id,u.wireframe=J,re=!0)}$!==null&&n.update($,t.ELEMENT_ARRAY_BUFFER),(re||f)&&(f=!1,D(K,ee,oe,ae),$!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get($).buffer))}function p(){return r.isWebGL2?t.createVertexArray():a.createVertexArrayOES()}function v(K){return r.isWebGL2?t.bindVertexArray(K):a.bindVertexArrayOES(K)}function _(K){return r.isWebGL2?t.deleteVertexArray(K):a.deleteVertexArrayOES(K)}function S(K,ee,oe){const ae=oe.wireframe===!0;let $=s[K.id];$===void 0&&($={},s[K.id]=$);let re=$[ee.id];re===void 0&&(re={},$[ee.id]=re);let J=re[ae];return J===void 0&&(J=x(p()),re[ae]=J),J}function x(K){const ee=[],oe=[],ae=[];for(let $=0;$<i;$++)ee[$]=0,oe[$]=0,ae[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ee,enabledAttributes:oe,attributeDivisors:ae,object:K,attributes:{},index:null}}function w(K,ee,oe,ae){const $=u.attributes,re=ee.attributes;let J=0;const j=oe.getAttributes();for(const q in j)if(j[q].location>=0){const _e=$[q];let Re=re[q];if(Re===void 0&&(q==="instanceMatrix"&&K.instanceMatrix&&(Re=K.instanceMatrix),q==="instanceColor"&&K.instanceColor&&(Re=K.instanceColor)),_e===void 0||_e.attribute!==Re||Re&&_e.data!==Re.data)return!0;J++}return u.attributesNum!==J||u.index!==ae}function E(K,ee,oe,ae){const $={},re=ee.attributes;let J=0;const j=oe.getAttributes();for(const q in j)if(j[q].location>=0){let _e=re[q];_e===void 0&&(q==="instanceMatrix"&&K.instanceMatrix&&(_e=K.instanceMatrix),q==="instanceColor"&&K.instanceColor&&(_e=K.instanceColor));const Re={};Re.attribute=_e,_e&&_e.data&&(Re.data=_e.data),$[q]=Re,J++}u.attributes=$,u.attributesNum=J,u.index=ae}function b(){const K=u.newAttributes;for(let ee=0,oe=K.length;ee<oe;ee++)K[ee]=0}function T(K){P(K,0)}function P(K,ee){const oe=u.newAttributes,ae=u.enabledAttributes,$=u.attributeDivisors;oe[K]=1,ae[K]===0&&(t.enableVertexAttribArray(K),ae[K]=1),$[K]!==ee&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](K,ee),$[K]=ee)}function C(){const K=u.newAttributes,ee=u.enabledAttributes;for(let oe=0,ae=ee.length;oe<ae;oe++)ee[oe]!==K[oe]&&(t.disableVertexAttribArray(oe),ee[oe]=0)}function L(K,ee,oe,ae,$,re,J){J===!0?t.vertexAttribIPointer(K,ee,oe,$,re):t.vertexAttribPointer(K,ee,oe,ae,$,re)}function D(K,ee,oe,ae){if(r.isWebGL2===!1&&(K.isInstancedMesh||ae.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const $=ae.attributes,re=oe.getAttributes(),J=ee.defaultAttributeValues;for(const j in re){const q=re[j];if(q.location>=0){let pe=$[j];if(pe===void 0&&(j==="instanceMatrix"&&K.instanceMatrix&&(pe=K.instanceMatrix),j==="instanceColor"&&K.instanceColor&&(pe=K.instanceColor)),pe!==void 0){const _e=pe.normalized,Re=pe.itemSize,Ie=n.get(pe);if(Ie===void 0)continue;const Ye=Ie.buffer,Xe=Ie.type,ke=Ie.bytesPerElement,Ze=r.isWebGL2===!0&&(Xe===t.INT||Xe===t.UNSIGNED_INT||pe.gpuType===Z1);if(pe.isInterleavedBufferAttribute){const Fe=pe.data,Z=Fe.stride,Ne=pe.offset;if(Fe.isInstancedInterleavedBuffer){for(let be=0;be<q.locationSize;be++)P(q.location+be,Fe.meshPerAttribute);K.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=Fe.meshPerAttribute*Fe.count)}else for(let be=0;be<q.locationSize;be++)T(q.location+be);t.bindBuffer(t.ARRAY_BUFFER,Ye);for(let be=0;be<q.locationSize;be++)L(q.location+be,Re/q.locationSize,Xe,_e,Z*ke,(Ne+Re/q.locationSize*be)*ke,Ze)}else{if(pe.isInstancedBufferAttribute){for(let Fe=0;Fe<q.locationSize;Fe++)P(q.location+Fe,pe.meshPerAttribute);K.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let Fe=0;Fe<q.locationSize;Fe++)T(q.location+Fe);t.bindBuffer(t.ARRAY_BUFFER,Ye);for(let Fe=0;Fe<q.locationSize;Fe++)L(q.location+Fe,Re/q.locationSize,Xe,_e,Re*ke,Re/q.locationSize*Fe*ke,Ze)}}else if(J!==void 0){const _e=J[j];if(_e!==void 0)switch(_e.length){case 2:t.vertexAttrib2fv(q.location,_e);break;case 3:t.vertexAttrib3fv(q.location,_e);break;case 4:t.vertexAttrib4fv(q.location,_e);break;default:t.vertexAttrib1fv(q.location,_e)}}}}C()}function I(){Y();for(const K in s){const ee=s[K];for(const oe in ee){const ae=ee[oe];for(const $ in ae)_(ae[$].object),delete ae[$];delete ee[oe]}delete s[K]}}function F(K){if(s[K.id]===void 0)return;const ee=s[K.id];for(const oe in ee){const ae=ee[oe];for(const $ in ae)_(ae[$].object),delete ae[$];delete ee[oe]}delete s[K.id]}function z(K){for(const ee in s){const oe=s[ee];if(oe[K.id]===void 0)continue;const ae=oe[K.id];for(const $ in ae)_(ae[$].object),delete ae[$];delete oe[K.id]}}function Y(){H(),f=!0,u!==l&&(u=l,v(u.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:Y,resetDefaultState:H,dispose:I,releaseStatesOfGeometry:F,releaseStatesOfProgram:z,initAttributes:b,enableAttribute:T,disableUnusedAttributes:C}}function wte(t,e,n,r){const i=r.isWebGL2;let a;function o(u){a=u}function s(u,f){t.drawArrays(a,u,f),n.update(f,a,1)}function l(u,f,h){if(h===0)return;let p,v;if(i)p=t,v="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[v](a,u,f,h),n.update(f,a,h)}this.setMode=o,this.render=s,this.renderInstances=l}function Ste(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(L){if(L==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=a(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const u=o||e.has("WEBGL_draw_buffers"),f=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),_=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),S=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=p>0,T=o||e.has("OES_texture_float"),P=b&&T,C=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:v,maxCubemapSize:_,maxAttributes:S,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:E,vertexTextures:b,floatFragmentTextures:T,floatVertexTextures:P,maxSamples:C}}function bte(t){const e=this;let n=null,r=0,i=!1,a=!1;const o=new iu,s=new gn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const v=h.length!==0||p||r!==0||i;return i=p,r=h.length,v},this.beginShadows=function(){a=!0,f(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(h,p){n=f(h,p,0)},this.setState=function(h,p,v){const _=h.clippingPlanes,S=h.clipIntersection,x=h.clipShadows,w=t.get(h);if(!i||_===null||_.length===0||a&&!x)a?f(null):u();else{const E=a?0:r,b=E*4;let T=w.clippingState||null;l.value=T,T=f(_,p,b,v);for(let P=0;P!==b;++P)T[P]=n[P];w.clippingState=T,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=E}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(h,p,v,_){const S=h!==null?h.length:0;let x=null;if(S!==0){if(x=l.value,_!==!0||x===null){const w=v+S*4,E=p.matrixWorldInverse;s.getNormalMatrix(E),(x===null||x.length<w)&&(x=new Float32Array(w));for(let b=0,T=v;b!==S;++b,T+=4)o.copy(h[b]).applyMatrix4(E,s),o.normal.toArray(x,T),x[T+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,x}}function Mte(t){let e=new WeakMap;function n(o,s){return s===kp?o.mapping=du:s===Iv&&(o.mapping=Pc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const s=o.mapping;if(s===kp||s===Iv)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new qR(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class Cs extends By{constructor(e=-1,n=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=f*this.view.offsetY,l=s-f*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const xp=4,_D=[.125,.215,.35,.446,.526,.582],qf=20,Ab=new Cs,wD=new Mt;let Tb=null;const Hf=(1+Math.sqrt(5))/2,Jd=1/Hf,SD=[new ne(1,1,1),new ne(-1,1,1),new ne(1,1,-1),new ne(-1,1,-1),new ne(0,Hf,Jd),new ne(0,Hf,-Jd),new ne(Jd,0,Hf),new ne(-Jd,0,Hf),new ne(Hf,Jd,0),new ne(-Hf,Jd,0)];class oC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Tb=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ED(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=MD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Tb),e.scissorTest=!1,Sx(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===du||e.mapping===Pc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Tb=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:zn,minFilter:zn,generateMipmaps:!1,type:Ai,format:fi,colorSpace:Ha,depthBuffer:!1},i=bD(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bD(e,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Ete(a)),this._blurMaterial=Ate(a,e,n)}return i}_compileMaterial(e){const n=new Gr(this._lodPlanes[0],e);this._renderer.compile(n,Ab)}_sceneToCubeUV(e,n,r,i){const s=new Tr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(wD),f.toneMapping=Ps,f.autoClear=!1;const v=new _u({name:"PMREM.Background",side:Sa,depthWrite:!1,depthTest:!1}),_=new Gr(new Oh,v);let S=!1;const x=e.background;x?x.isColor&&(v.color.copy(x),e.background=null,S=!0):(v.color.copy(wD),S=!0);for(let w=0;w<6;w++){const E=w%3;E===0?(s.up.set(0,l[w],0),s.lookAt(u[w],0,0)):E===1?(s.up.set(0,0,l[w]),s.lookAt(0,u[w],0)):(s.up.set(0,l[w],0),s.lookAt(0,0,u[w]));const b=this._cubeSize;Sx(i,E*b,w>2?b:0,b,b),f.setRenderTarget(i),S&&f.render(_,s),f.render(e,s)}_.geometry.dispose(),_.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===du||e.mapping===Pc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=ED()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=MD());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new Gr(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;Sx(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,Ab)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=SD[(i-1)%SD.length];this._blur(e,i-1,i,a,o)}n.autoClear=r}_blur(e,n,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new Gr(this._lodPlanes[i],u),p=u.uniforms,v=this._sizeLods[r]-1,_=isFinite(a)?Math.PI/(2*v):2*Math.PI/(2*qf-1),S=a/_,x=isFinite(a)?1+Math.floor(f*S):qf;x>qf&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${qf}`);const w=[];let E=0;for(let L=0;L<qf;++L){const D=L/S,I=Math.exp(-D*D/2);w.push(I),L===0?E+=I:L<x&&(E+=2*I)}for(let L=0;L<w.length;L++)w[L]=w[L]/E;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=w,p.latitudinal.value=o==="latitudinal",s&&(p.poleAxis.value=s);const{_lodMax:b}=this;p.dTheta.value=_,p.mipInt.value=b-r;const T=this._sizeLods[i],P=3*T*(i>b-xp?i-b+xp:0),C=4*(this._cubeSize-T);Sx(n,P,C,3*T,2*T),l.setRenderTarget(n),l.render(h,Ab)}}function Ete(t){const e=[],n=[],r=[];let i=t;const a=t-xp+1+_D.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);n.push(s);let l=1/s;o>t-xp?l=_D[o-t+xp-1]:o===0&&(l=0),r.push(l);const u=1/(s-2),f=-u,h=1+u,p=[f,f,h,f,h,h,f,f,h,h,f,h],v=6,_=6,S=3,x=2,w=1,E=new Float32Array(S*_*v),b=new Float32Array(x*_*v),T=new Float32Array(w*_*v);for(let C=0;C<v;C++){const L=C%3*2/3-1,D=C>2?0:-1,I=[L,D,0,L+2/3,D,0,L+2/3,D+1,0,L,D,0,L+2/3,D+1,0,L,D+1,0];E.set(I,S*_*C),b.set(p,x*_*C);const F=[C,C,C,C,C,C];T.set(F,w*_*C)}const P=new yn;P.setAttribute("position",new or(E,S)),P.setAttribute("uv",new or(b,x)),P.setAttribute("faceIndex",new or(T,w)),e.push(P),i>xp&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function bD(t,e,n){const r=new mo(t,e,n);return r.texture.mapping=ym,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Sx(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Ate(t,e,n){const r=new Float32Array(qf),i=new ne(0,1,0);return new Wa({name:"SphericalGaussianBlur",defines:{n:qf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:XR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function MD(){return new Wa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:XR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function ED(){return new Wa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:XR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function XR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Tte(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===kp||l===Iv,f=l===du||l===Pc;if(u||f)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let h=e.get(s);return n===null&&(n=new oC(t)),h=u?n.fromEquirectangular(s,h):n.fromCubemap(s,h),e.set(s,h),h.texture}else{if(e.has(s))return e.get(s).texture;{const h=s.image;if(u&&h&&h.height>0||f&&h&&i(h)){n===null&&(n=new oC(t));const p=u?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,p),s.addEventListener("dispose",a),p.texture}else return null}}}return s}function i(s){let l=0;const u=6;for(let f=0;f<u;f++)s[f]!==void 0&&l++;return l===u}function a(s){const l=s.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Pte(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Cte(t,e,n,r){const i={},a=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const _ in p.attributes)e.remove(p.attributes[_]);for(const _ in p.morphAttributes){const S=p.morphAttributes[_];for(let x=0,w=S.length;x<w;x++)e.remove(S[x])}p.removeEventListener("dispose",o),delete i[p.id];const v=a.get(p);v&&(e.remove(v),a.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function s(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const _ in p)e.update(p[_],t.ARRAY_BUFFER);const v=h.morphAttributes;for(const _ in v){const S=v[_];for(let x=0,w=S.length;x<w;x++)e.update(S[x],t.ARRAY_BUFFER)}}function u(h){const p=[],v=h.index,_=h.attributes.position;let S=0;if(v!==null){const E=v.array;S=v.version;for(let b=0,T=E.length;b<T;b+=3){const P=E[b+0],C=E[b+1],L=E[b+2];p.push(P,C,C,L,L,P)}}else{const E=_.array;S=_.version;for(let b=0,T=E.length/3-1;b<T;b+=3){const P=b+0,C=b+1,L=b+2;p.push(P,C,C,L,L,P)}}const x=new(XH(p)?$R:GR)(p,1);x.version=S;const w=a.get(h);w&&e.remove(w),a.set(h,x)}function f(h){const p=a.get(h);if(p){const v=h.index;v!==null&&p.version<v.version&&u(h)}else u(h);return a.get(h)}return{get:s,update:l,getWireframeAttribute:f}}function Rte(t,e,n,r){const i=r.isWebGL2;let a;function o(p){a=p}let s,l;function u(p){s=p.type,l=p.bytesPerElement}function f(p,v){t.drawElements(a,v,s,p*l),n.update(v,a,1)}function h(p,v,_){if(_===0)return;let S,x;if(i)S=t,x="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[x](a,v,s,p*l,_),n.update(v,a,_)}this.setMode=o,this.setIndex=u,this.render=f,this.renderInstances=h}function Ote(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(a/3);break;case t.LINES:n.lines+=s*(a/2);break;case t.LINE_STRIP:n.lines+=s*(a-1);break;case t.LINE_LOOP:n.lines+=s*a;break;case t.POINTS:n.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Ite(t,e){return t[0]-e[0]}function Lte(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Nte(t,e,n){const r={},i=new Float32Array(8),a=new WeakMap,o=new Pn,s=[];for(let u=0;u<8;u++)s[u]=[u,0];function l(u,f,h){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const _=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,S=_!==void 0?_.length:0;let x=a.get(f);if(x===void 0||x.count!==S){let ee=function(){H.dispose(),a.delete(f),f.removeEventListener("dispose",ee)};var v=ee;x!==void 0&&x.texture.dispose();const b=f.morphAttributes.position!==void 0,T=f.morphAttributes.normal!==void 0,P=f.morphAttributes.color!==void 0,C=f.morphAttributes.position||[],L=f.morphAttributes.normal||[],D=f.morphAttributes.color||[];let I=0;b===!0&&(I=1),T===!0&&(I=2),P===!0&&(I=3);let F=f.attributes.position.count*I,z=1;F>e.maxTextureSize&&(z=Math.ceil(F/e.maxTextureSize),F=e.maxTextureSize);const Y=new Float32Array(F*z*4*S),H=new Q1(Y,F,z,S);H.type=hi,H.needsUpdate=!0;const K=I*4;for(let oe=0;oe<S;oe++){const ae=C[oe],$=L[oe],re=D[oe],J=F*z*4*oe;for(let j=0;j<ae.count;j++){const q=j*K;b===!0&&(o.fromBufferAttribute(ae,j),Y[J+q+0]=o.x,Y[J+q+1]=o.y,Y[J+q+2]=o.z,Y[J+q+3]=0),T===!0&&(o.fromBufferAttribute($,j),Y[J+q+4]=o.x,Y[J+q+5]=o.y,Y[J+q+6]=o.z,Y[J+q+7]=0),P===!0&&(o.fromBufferAttribute(re,j),Y[J+q+8]=o.x,Y[J+q+9]=o.y,Y[J+q+10]=o.z,Y[J+q+11]=re.itemSize===4?o.w:1)}}x={count:S,texture:H,size:new Ge(F,z)},a.set(f,x),f.addEventListener("dispose",ee)}let w=0;for(let b=0;b<p.length;b++)w+=p[b];const E=f.morphTargetsRelative?1:1-w;h.getUniforms().setValue(t,"morphTargetBaseInfluence",E),h.getUniforms().setValue(t,"morphTargetInfluences",p),h.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const _=p===void 0?0:p.length;let S=r[f.id];if(S===void 0||S.length!==_){S=[];for(let T=0;T<_;T++)S[T]=[T,0];r[f.id]=S}for(let T=0;T<_;T++){const P=S[T];P[0]=T,P[1]=p[T]}S.sort(Lte);for(let T=0;T<8;T++)T<_&&S[T][1]?(s[T][0]=S[T][0],s[T][1]=S[T][1]):(s[T][0]=Number.MAX_SAFE_INTEGER,s[T][1]=0);s.sort(Ite);const x=f.morphAttributes.position,w=f.morphAttributes.normal;let E=0;for(let T=0;T<8;T++){const P=s[T],C=P[0],L=P[1];C!==Number.MAX_SAFE_INTEGER&&L?(x&&f.getAttribute("morphTarget"+T)!==x[C]&&f.setAttribute("morphTarget"+T,x[C]),w&&f.getAttribute("morphNormal"+T)!==w[C]&&f.setAttribute("morphNormal"+T,w[C]),i[T]=L,E+=L):(x&&f.hasAttribute("morphTarget"+T)===!0&&f.deleteAttribute("morphTarget"+T),w&&f.hasAttribute("morphNormal"+T)===!0&&f.deleteAttribute("morphNormal"+T),i[T]=0)}const b=f.morphTargetsRelative?1:1-E;h.getUniforms().setValue(t,"morphTargetBaseInfluence",b),h.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Dte(t,e,n,r){let i=new WeakMap;function a(l){const u=r.render.frame,f=l.geometry,h=e.get(l,f);if(i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return h}function o(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:a,dispose:o}}const QH=new ir,e8=new Q1,t8=new WR,n8=new zy,AD=[],TD=[],PD=new Float32Array(16),CD=new Float32Array(9),RD=new Float32Array(4);function xm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=AD[i];if(a===void 0&&(a=new Float32Array(i),AD[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function pi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function mi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function tw(t,e){let n=TD[e];n===void 0&&(n=new Int32Array(e),TD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function kte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Ute(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(pi(n,e))return;t.uniform2fv(this.addr,e),mi(n,e)}}function Fte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(pi(n,e))return;t.uniform3fv(this.addr,e),mi(n,e)}}function Bte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(pi(n,e))return;t.uniform4fv(this.addr,e),mi(n,e)}}function zte(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(pi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),mi(n,e)}else{if(pi(n,r))return;RD.set(r),t.uniformMatrix2fv(this.addr,!1,RD),mi(n,r)}}function jte(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(pi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),mi(n,e)}else{if(pi(n,r))return;CD.set(r),t.uniformMatrix3fv(this.addr,!1,CD),mi(n,r)}}function Vte(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(pi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),mi(n,e)}else{if(pi(n,r))return;PD.set(r),t.uniformMatrix4fv(this.addr,!1,PD),mi(n,r)}}function Hte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Wte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(pi(n,e))return;t.uniform2iv(this.addr,e),mi(n,e)}}function Gte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(pi(n,e))return;t.uniform3iv(this.addr,e),mi(n,e)}}function $te(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(pi(n,e))return;t.uniform4iv(this.addr,e),mi(n,e)}}function qte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Xte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(pi(n,e))return;t.uniform2uiv(this.addr,e),mi(n,e)}}function Yte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(pi(n,e))return;t.uniform3uiv(this.addr,e),mi(n,e)}}function Kte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(pi(n,e))return;t.uniform4uiv(this.addr,e),mi(n,e)}}function Zte(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||QH,i)}function Jte(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||t8,i)}function Qte(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||n8,i)}function ene(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||e8,i)}function tne(t){switch(t){case 5126:return kte;case 35664:return Ute;case 35665:return Fte;case 35666:return Bte;case 35674:return zte;case 35675:return jte;case 35676:return Vte;case 5124:case 35670:return Hte;case 35667:case 35671:return Wte;case 35668:case 35672:return Gte;case 35669:case 35673:return $te;case 5125:return qte;case 36294:return Xte;case 36295:return Yte;case 36296:return Kte;case 35678:case 36198:case 36298:case 36306:case 35682:return Zte;case 35679:case 36299:case 36307:return Jte;case 35680:case 36300:case 36308:case 36293:return Qte;case 36289:case 36303:case 36311:case 36292:return ene}}function nne(t,e){t.uniform1fv(this.addr,e)}function rne(t,e){const n=xm(e,this.size,2);t.uniform2fv(this.addr,n)}function ine(t,e){const n=xm(e,this.size,3);t.uniform3fv(this.addr,n)}function ane(t,e){const n=xm(e,this.size,4);t.uniform4fv(this.addr,n)}function one(t,e){const n=xm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function sne(t,e){const n=xm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function lne(t,e){const n=xm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function une(t,e){t.uniform1iv(this.addr,e)}function cne(t,e){t.uniform2iv(this.addr,e)}function fne(t,e){t.uniform3iv(this.addr,e)}function hne(t,e){t.uniform4iv(this.addr,e)}function dne(t,e){t.uniform1uiv(this.addr,e)}function pne(t,e){t.uniform2uiv(this.addr,e)}function mne(t,e){t.uniform3uiv(this.addr,e)}function gne(t,e){t.uniform4uiv(this.addr,e)}function vne(t,e,n){const r=this.cache,i=e.length,a=tw(n,i);pi(r,a)||(t.uniform1iv(this.addr,a),mi(r,a));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||QH,a[o])}function yne(t,e,n){const r=this.cache,i=e.length,a=tw(n,i);pi(r,a)||(t.uniform1iv(this.addr,a),mi(r,a));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||t8,a[o])}function xne(t,e,n){const r=this.cache,i=e.length,a=tw(n,i);pi(r,a)||(t.uniform1iv(this.addr,a),mi(r,a));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||n8,a[o])}function _ne(t,e,n){const r=this.cache,i=e.length,a=tw(n,i);pi(r,a)||(t.uniform1iv(this.addr,a),mi(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||e8,a[o])}function wne(t){switch(t){case 5126:return nne;case 35664:return rne;case 35665:return ine;case 35666:return ane;case 35674:return one;case 35675:return sne;case 35676:return lne;case 5124:case 35670:return une;case 35667:case 35671:return cne;case 35668:case 35672:return fne;case 35669:case 35673:return hne;case 5125:return dne;case 36294:return pne;case 36295:return mne;case 36296:return gne;case 35678:case 36198:case 36298:case 36306:case 35682:return vne;case 35679:case 36299:case 36307:return yne;case 35680:case 36300:case 36308:case 36293:return xne;case 36289:case 36303:case 36311:case 36292:return _ne}}class Sne{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=tne(n.type)}}class bne{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=wne(n.type)}}class Mne{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,n[s.id],r)}}}const Pb=/(\w+)(\])?(\[|\.)?/g;function OD(t,e){t.seq.push(e),t.map[e.id]=e}function Ene(t,e,n){const r=t.name,i=r.length;for(Pb.lastIndex=0;;){const a=Pb.exec(r),o=Pb.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===i){OD(n,u===void 0?new Sne(s,t,e):new bne(s,t,e));break}else{let h=n.map[s];h===void 0&&(h=new Mne(s),OD(n,h)),n=h}}}class E_{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(n,i),o=e.getUniformLocation(n,a.name);Ene(a,o,this)}}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,o=n.length;a!==o;++a){const s=n[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function ID(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Ane=0;function Tne(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return r.join(`
`)}function Pne(t){switch(t){case Ha:return["Linear","( value )"];case fn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function LD(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+Tne(t.getShaderSource(e),o)}else return i}function Cne(t,e){const n=Pne(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Rne(t,e){let n;switch(e){case wH:n="Linear";break;case SH:n="Reinhard";break;case bH:n="OptimizedCineon";break;case CR:n="ACESFilmic";break;case MH:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function One(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ev).join(`
`)}function Ine(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Lne(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),o=a.name;let s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function ev(t){return t!==""}function ND(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function DD(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Nne=/^[ \t]*#include +<([\w\d./]+)>/gm;function sC(t){return t.replace(Nne,kne)}const Dne=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function kne(t,e){let n=mn[e];if(n===void 0){const r=Dne.get(e);if(r!==void 0)n=mn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return sC(n)}const Une=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kD(t){return t.replace(Une,Fne)}function Fne(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function UD(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Bne(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Y1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===dv?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ws&&(e="SHADOWMAP_TYPE_VSM"),e}function zne(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case du:case Pc:e="ENVMAP_TYPE_CUBE";break;case ym:e="ENVMAP_TYPE_CUBE_UV";break}return e}function jne(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Pc:e="ENVMAP_MODE_REFRACTION";break}return e}function Vne(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Uy:e="ENVMAP_BLENDING_MULTIPLY";break;case xH:e="ENVMAP_BLENDING_MIX";break;case _H:e="ENVMAP_BLENDING_ADD";break}return e}function Hne(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Wne(t,e,n,r){const i=t.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=Bne(n),u=zne(n),f=jne(n),h=Vne(n),p=Hne(n),v=n.isWebGL2?"":One(n),_=Ine(a),S=i.createProgram();let x,w,E=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(ev).join(`
`),x.length>0&&(x+=`
`),w=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(ev).join(`
`),w.length>0&&(w+=`
`)):(x=[UD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ev).join(`
`),w=[v,UD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ps?"#define TONE_MAPPING":"",n.toneMapping!==Ps?mn.tonemapping_pars_fragment:"",n.toneMapping!==Ps?Rne("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",mn.colorspace_pars_fragment,Cne("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ev).join(`
`)),o=sC(o),o=ND(o,n),o=DD(o,n),s=sC(s),s=ND(s,n),s=DD(s,n),o=kD(o),s=kD(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",n.glslVersion===iC?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===iC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const b=E+x+o,T=E+w+s,P=ID(i,i.VERTEX_SHADER,b),C=ID(i,i.FRAGMENT_SHADER,T);if(i.attachShader(S,P),i.attachShader(S,C),n.index0AttributeName!==void 0?i.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S),t.debug.checkShaderErrors){const I=i.getProgramInfoLog(S).trim(),F=i.getShaderInfoLog(P).trim(),z=i.getShaderInfoLog(C).trim();let Y=!0,H=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(Y=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,S,P,C);else{const K=LD(i,P,"vertex"),ee=LD(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Program Info Log: `+I+`
`+K+`
`+ee)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(F===""||z==="")&&(H=!1);H&&(this.diagnostics={runnable:Y,programLog:I,vertexShader:{log:F,prefix:x},fragmentShader:{log:z,prefix:w}})}i.deleteShader(P),i.deleteShader(C);let L;this.getUniforms=function(){return L===void 0&&(L=new E_(i,S)),L};let D;return this.getAttributes=function(){return D===void 0&&(D=Lne(i,S)),D},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Ane++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=P,this.fragmentShader=C,this}let Gne=0;class $ne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new qne(e),n.set(e,r)),r}}class qne{constructor(e){this.id=Gne++,this.code=e,this.usedTimes=0}}function Xne(t,e,n,r,i,a,o){const s=new fh,l=new $ne,u=[],f=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let v=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(I){return I===0?"uv":`uv${I}`}function x(I,F,z,Y,H){const K=Y.fog,ee=H.geometry,oe=I.isMeshStandardMaterial?Y.environment:null,ae=(I.isMeshStandardMaterial?n:e).get(I.envMap||oe),$=ae&&ae.mapping===ym?ae.image.height:null,re=_[I.type];I.precision!==null&&(v=i.getMaxPrecision(I.precision),v!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",v,"instead."));const J=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,j=J!==void 0?J.length:0;let q=0;ee.morphAttributes.position!==void 0&&(q=1),ee.morphAttributes.normal!==void 0&&(q=2),ee.morphAttributes.color!==void 0&&(q=3);let pe,_e,Re,Ie;if(re){const yr=Ms[re];pe=yr.vertexShader,_e=yr.fragmentShader}else pe=I.vertexShader,_e=I.fragmentShader,l.update(I),Re=l.getVertexShaderID(I),Ie=l.getFragmentShaderID(I);const Ye=t.getRenderTarget(),Xe=H.isInstancedMesh===!0,ke=!!I.map,Ze=!!I.matcap,Fe=!!ae,Z=!!I.aoMap,Ne=!!I.lightMap,be=!!I.bumpMap,qe=!!I.normalMap,Be=!!I.displacementMap,ot=!!I.emissiveMap,lt=!!I.metalnessMap,dt=!!I.roughnessMap,Tt=I.anisotropy>0,Bt=I.clearcoat>0,ln=I.iridescence>0,le=I.sheen>0,Q=I.transmission>0,Le=Tt&&!!I.anisotropyMap,tt=Bt&&!!I.clearcoatMap,Ke=Bt&&!!I.clearcoatNormalMap,st=Bt&&!!I.clearcoatRoughnessMap,Et=ln&&!!I.iridescenceMap,ft=ln&&!!I.iridescenceThicknessMap,ze=le&&!!I.sheenColorMap,zt=le&&!!I.sheenRoughnessMap,Ot=!!I.specularMap,_t=!!I.specularColorMap,St=!!I.specularIntensityMap,he=Q&&!!I.transmissionMap,Ue=Q&&!!I.thicknessMap,nt=!!I.gradientMap,de=!!I.alphaMap,we=I.alphaTest>0,Me=!!I.alphaHash,Qe=!!I.extensions,gt=!!ee.attributes.uv1,un=!!ee.attributes.uv2,dn=!!ee.attributes.uv3;return{isWebGL2:f,shaderID:re,shaderType:I.type,shaderName:I.name,vertexShader:pe,fragmentShader:_e,defines:I.defines,customVertexShaderID:Re,customFragmentShaderID:Ie,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:v,instancing:Xe,instancingColor:Xe&&H.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Ye===null?t.outputColorSpace:Ye.isXRRenderTarget===!0?Ye.texture.colorSpace:Ha,map:ke,matcap:Ze,envMap:Fe,envMapMode:Fe&&ae.mapping,envMapCubeUVHeight:$,aoMap:Z,lightMap:Ne,bumpMap:be,normalMap:qe,displacementMap:p&&Be,emissiveMap:ot,normalMapObjectSpace:qe&&I.normalMapType===kH,normalMapTangentSpace:qe&&I.normalMapType===Lc,metalnessMap:lt,roughnessMap:dt,anisotropy:Tt,anisotropyMap:Le,clearcoat:Bt,clearcoatMap:tt,clearcoatNormalMap:Ke,clearcoatRoughnessMap:st,iridescence:ln,iridescenceMap:Et,iridescenceThicknessMap:ft,sheen:le,sheenColorMap:ze,sheenRoughnessMap:zt,specularMap:Ot,specularColorMap:_t,specularIntensityMap:St,transmission:Q,transmissionMap:he,thicknessMap:Ue,gradientMap:nt,opaque:I.transparent===!1&&I.blending===uh,alphaMap:de,alphaTest:we,alphaHash:Me,combine:I.combine,mapUv:ke&&S(I.map.channel),aoMapUv:Z&&S(I.aoMap.channel),lightMapUv:Ne&&S(I.lightMap.channel),bumpMapUv:be&&S(I.bumpMap.channel),normalMapUv:qe&&S(I.normalMap.channel),displacementMapUv:Be&&S(I.displacementMap.channel),emissiveMapUv:ot&&S(I.emissiveMap.channel),metalnessMapUv:lt&&S(I.metalnessMap.channel),roughnessMapUv:dt&&S(I.roughnessMap.channel),anisotropyMapUv:Le&&S(I.anisotropyMap.channel),clearcoatMapUv:tt&&S(I.clearcoatMap.channel),clearcoatNormalMapUv:Ke&&S(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&S(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Et&&S(I.iridescenceMap.channel),iridescenceThicknessMapUv:ft&&S(I.iridescenceThicknessMap.channel),sheenColorMapUv:ze&&S(I.sheenColorMap.channel),sheenRoughnessMapUv:zt&&S(I.sheenRoughnessMap.channel),specularMapUv:Ot&&S(I.specularMap.channel),specularColorMapUv:_t&&S(I.specularColorMap.channel),specularIntensityMapUv:St&&S(I.specularIntensityMap.channel),transmissionMapUv:he&&S(I.transmissionMap.channel),thicknessMapUv:Ue&&S(I.thicknessMap.channel),alphaMapUv:de&&S(I.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(qe||Tt),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,vertexUv1s:gt,vertexUv2s:un,vertexUv3s:dn,pointsUvs:H.isPoints===!0&&!!ee.attributes.uv&&(ke||de),fog:!!K,useFog:I.fog===!0,fogExp2:K&&K.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:H.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:q,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&z.length>0,shadowMapType:t.shadowMap.type,toneMapping:I.toneMapped?t.toneMapping:Ps,useLegacyLights:t.useLegacyLights,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Fo,flipSided:I.side===Sa,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionDerivatives:Qe&&I.extensions.derivatives===!0,extensionFragDepth:Qe&&I.extensions.fragDepth===!0,extensionDrawBuffers:Qe&&I.extensions.drawBuffers===!0,extensionShaderTextureLOD:Qe&&I.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:I.customProgramCacheKey()}}function w(I){const F=[];if(I.shaderID?F.push(I.shaderID):(F.push(I.customVertexShaderID),F.push(I.customFragmentShaderID)),I.defines!==void 0)for(const z in I.defines)F.push(z),F.push(I.defines[z]);return I.isRawShaderMaterial===!1&&(E(F,I),b(F,I),F.push(t.outputColorSpace)),F.push(I.customProgramCacheKey),F.join()}function E(I,F){I.push(F.precision),I.push(F.outputColorSpace),I.push(F.envMapMode),I.push(F.envMapCubeUVHeight),I.push(F.mapUv),I.push(F.alphaMapUv),I.push(F.lightMapUv),I.push(F.aoMapUv),I.push(F.bumpMapUv),I.push(F.normalMapUv),I.push(F.displacementMapUv),I.push(F.emissiveMapUv),I.push(F.metalnessMapUv),I.push(F.roughnessMapUv),I.push(F.anisotropyMapUv),I.push(F.clearcoatMapUv),I.push(F.clearcoatNormalMapUv),I.push(F.clearcoatRoughnessMapUv),I.push(F.iridescenceMapUv),I.push(F.iridescenceThicknessMapUv),I.push(F.sheenColorMapUv),I.push(F.sheenRoughnessMapUv),I.push(F.specularMapUv),I.push(F.specularColorMapUv),I.push(F.specularIntensityMapUv),I.push(F.transmissionMapUv),I.push(F.thicknessMapUv),I.push(F.combine),I.push(F.fogExp2),I.push(F.sizeAttenuation),I.push(F.morphTargetsCount),I.push(F.morphAttributeCount),I.push(F.numDirLights),I.push(F.numPointLights),I.push(F.numSpotLights),I.push(F.numSpotLightMaps),I.push(F.numHemiLights),I.push(F.numRectAreaLights),I.push(F.numDirLightShadows),I.push(F.numPointLightShadows),I.push(F.numSpotLightShadows),I.push(F.numSpotLightShadowsWithMaps),I.push(F.shadowMapType),I.push(F.toneMapping),I.push(F.numClippingPlanes),I.push(F.numClipIntersection),I.push(F.depthPacking)}function b(I,F){s.disableAll(),F.isWebGL2&&s.enable(0),F.supportsVertexTextures&&s.enable(1),F.instancing&&s.enable(2),F.instancingColor&&s.enable(3),F.matcap&&s.enable(4),F.envMap&&s.enable(5),F.normalMapObjectSpace&&s.enable(6),F.normalMapTangentSpace&&s.enable(7),F.clearcoat&&s.enable(8),F.iridescence&&s.enable(9),F.alphaTest&&s.enable(10),F.vertexColors&&s.enable(11),F.vertexAlphas&&s.enable(12),F.vertexUv1s&&s.enable(13),F.vertexUv2s&&s.enable(14),F.vertexUv3s&&s.enable(15),F.vertexTangents&&s.enable(16),F.anisotropy&&s.enable(17),I.push(s.mask),s.disableAll(),F.fog&&s.enable(0),F.useFog&&s.enable(1),F.flatShading&&s.enable(2),F.logarithmicDepthBuffer&&s.enable(3),F.skinning&&s.enable(4),F.morphTargets&&s.enable(5),F.morphNormals&&s.enable(6),F.morphColors&&s.enable(7),F.premultipliedAlpha&&s.enable(8),F.shadowMapEnabled&&s.enable(9),F.useLegacyLights&&s.enable(10),F.doubleSided&&s.enable(11),F.flipSided&&s.enable(12),F.useDepthPacking&&s.enable(13),F.dithering&&s.enable(14),F.transmission&&s.enable(15),F.sheen&&s.enable(16),F.opaque&&s.enable(17),F.pointsUvs&&s.enable(18),I.push(s.mask)}function T(I){const F=_[I.type];let z;if(F){const Y=Ms[F];z=z_.clone(Y.uniforms)}else z=I.uniforms;return z}function P(I,F){let z;for(let Y=0,H=u.length;Y<H;Y++){const K=u[Y];if(K.cacheKey===F){z=K,++z.usedTimes;break}}return z===void 0&&(z=new Wne(t,F,I,a),u.push(z)),z}function C(I){if(--I.usedTimes===0){const F=u.indexOf(I);u[F]=u[u.length-1],u.pop(),I.destroy()}}function L(I){l.remove(I)}function D(){l.dispose()}return{getParameters:x,getProgramCacheKey:w,getUniforms:T,acquireProgram:P,releaseProgram:C,releaseShaderCache:L,programs:u,dispose:D}}function Yne(){let t=new WeakMap;function e(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function n(a){t.delete(a)}function r(a,o,s){t.get(a)[o]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Kne(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function FD(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function BD(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function o(h,p,v,_,S,x){let w=t[e];return w===void 0?(w={id:h.id,object:h,geometry:p,material:v,groupOrder:_,renderOrder:h.renderOrder,z:S,group:x},t[e]=w):(w.id=h.id,w.object=h,w.geometry=p,w.material=v,w.groupOrder=_,w.renderOrder=h.renderOrder,w.z=S,w.group=x),e++,w}function s(h,p,v,_,S,x){const w=o(h,p,v,_,S,x);v.transmission>0?r.push(w):v.transparent===!0?i.push(w):n.push(w)}function l(h,p,v,_,S,x){const w=o(h,p,v,_,S,x);v.transmission>0?r.unshift(w):v.transparent===!0?i.unshift(w):n.unshift(w)}function u(h,p){n.length>1&&n.sort(h||Kne),r.length>1&&r.sort(p||FD),i.length>1&&i.sort(p||FD)}function f(){for(let h=e,p=t.length;h<p;h++){const v=t[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:s,unshift:l,finish:f,sort:u}}function Zne(){let t=new WeakMap;function e(r,i){const a=t.get(r);let o;return a===void 0?(o=new BD,t.set(r,[o])):i>=a.length?(o=new BD,a.push(o)):o=a[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Jne(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ne,color:new Mt};break;case"SpotLight":n={position:new ne,direction:new ne,color:new Mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ne,color:new Mt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ne,skyColor:new Mt,groundColor:new Mt};break;case"RectAreaLight":n={color:new Mt,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return t[e.id]=n,n}}}function Qne(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let ere=0;function tre(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function nre(t,e){const n=new Jne,r=Qne(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)i.probe.push(new ne);const a=new ne,o=new sn,s=new sn;function l(f,h){let p=0,v=0,_=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let S=0,x=0,w=0,E=0,b=0,T=0,P=0,C=0,L=0,D=0;f.sort(tre);const I=h===!0?Math.PI:1;for(let z=0,Y=f.length;z<Y;z++){const H=f[z],K=H.color,ee=H.intensity,oe=H.distance,ae=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)p+=K.r*ee*I,v+=K.g*ee*I,_+=K.b*ee*I;else if(H.isLightProbe)for(let $=0;$<9;$++)i.probe[$].addScaledVector(H.sh.coefficients[$],ee);else if(H.isDirectionalLight){const $=n.get(H);if($.color.copy(H.color).multiplyScalar(H.intensity*I),H.castShadow){const re=H.shadow,J=r.get(H);J.shadowBias=re.bias,J.shadowNormalBias=re.normalBias,J.shadowRadius=re.radius,J.shadowMapSize=re.mapSize,i.directionalShadow[S]=J,i.directionalShadowMap[S]=ae,i.directionalShadowMatrix[S]=H.shadow.matrix,T++}i.directional[S]=$,S++}else if(H.isSpotLight){const $=n.get(H);$.position.setFromMatrixPosition(H.matrixWorld),$.color.copy(K).multiplyScalar(ee*I),$.distance=oe,$.coneCos=Math.cos(H.angle),$.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),$.decay=H.decay,i.spot[w]=$;const re=H.shadow;if(H.map&&(i.spotLightMap[L]=H.map,L++,re.updateMatrices(H),H.castShadow&&D++),i.spotLightMatrix[w]=re.matrix,H.castShadow){const J=r.get(H);J.shadowBias=re.bias,J.shadowNormalBias=re.normalBias,J.shadowRadius=re.radius,J.shadowMapSize=re.mapSize,i.spotShadow[w]=J,i.spotShadowMap[w]=ae,C++}w++}else if(H.isRectAreaLight){const $=n.get(H);$.color.copy(K).multiplyScalar(ee),$.halfWidth.set(H.width*.5,0,0),$.halfHeight.set(0,H.height*.5,0),i.rectArea[E]=$,E++}else if(H.isPointLight){const $=n.get(H);if($.color.copy(H.color).multiplyScalar(H.intensity*I),$.distance=H.distance,$.decay=H.decay,H.castShadow){const re=H.shadow,J=r.get(H);J.shadowBias=re.bias,J.shadowNormalBias=re.normalBias,J.shadowRadius=re.radius,J.shadowMapSize=re.mapSize,J.shadowCameraNear=re.camera.near,J.shadowCameraFar=re.camera.far,i.pointShadow[x]=J,i.pointShadowMap[x]=ae,i.pointShadowMatrix[x]=H.shadow.matrix,P++}i.point[x]=$,x++}else if(H.isHemisphereLight){const $=n.get(H);$.skyColor.copy(H.color).multiplyScalar(ee*I),$.groundColor.copy(H.groundColor).multiplyScalar(ee*I),i.hemi[b]=$,b++}}E>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=mt.LTC_FLOAT_1,i.rectAreaLTC2=mt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=mt.LTC_HALF_1,i.rectAreaLTC2=mt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=v,i.ambient[2]=_;const F=i.hash;(F.directionalLength!==S||F.pointLength!==x||F.spotLength!==w||F.rectAreaLength!==E||F.hemiLength!==b||F.numDirectionalShadows!==T||F.numPointShadows!==P||F.numSpotShadows!==C||F.numSpotMaps!==L)&&(i.directional.length=S,i.spot.length=w,i.rectArea.length=E,i.point.length=x,i.hemi.length=b,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=C+L-D,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=D,F.directionalLength=S,F.pointLength=x,F.spotLength=w,F.rectAreaLength=E,F.hemiLength=b,F.numDirectionalShadows=T,F.numPointShadows=P,F.numSpotShadows=C,F.numSpotMaps=L,i.version=ere++)}function u(f,h){let p=0,v=0,_=0,S=0,x=0;const w=h.matrixWorldInverse;for(let E=0,b=f.length;E<b;E++){const T=f[E];if(T.isDirectionalLight){const P=i.directional[p];P.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(a),P.direction.transformDirection(w),p++}else if(T.isSpotLight){const P=i.spot[_];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(w),P.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(a),P.direction.transformDirection(w),_++}else if(T.isRectAreaLight){const P=i.rectArea[S];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(w),s.identity(),o.copy(T.matrixWorld),o.premultiply(w),s.extractRotation(o),P.halfWidth.set(T.width*.5,0,0),P.halfHeight.set(0,T.height*.5,0),P.halfWidth.applyMatrix4(s),P.halfHeight.applyMatrix4(s),S++}else if(T.isPointLight){const P=i.point[v];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(w),v++}else if(T.isHemisphereLight){const P=i.hemi[x];P.direction.setFromMatrixPosition(T.matrixWorld),P.direction.transformDirection(w),x++}}}return{setup:l,setupView:u,state:i}}function zD(t,e){const n=new nre(t,e),r=[],i=[];function a(){r.length=0,i.length=0}function o(h){r.push(h)}function s(h){i.push(h)}function l(h){n.setup(r,h)}function u(h){n.setupView(r,h)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:s}}function rre(t,e){let n=new WeakMap;function r(a,o=0){const s=n.get(a);let l;return s===void 0?(l=new zD(t,e),n.set(a,[l])):o>=s.length?(l=new zD(t,e),s.push(l)):l=s[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class YR extends na{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=NH,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class KR extends na{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ire=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,are=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ore(t,e,n){let r=new ew;const i=new Ge,a=new Ge,o=new Pn,s=new YR({depthPacking:DH}),l=new KR,u={},f=n.maxTextureSize,h={[hu]:Sa,[Sa]:hu,[Fo]:Fo},p=new Wa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ge},radius:{value:4}},vertexShader:ire,fragmentShader:are}),v=p.clone();v.defines.HORIZONTAL_PASS=1;const _=new yn;_.setAttribute("position",new or(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Gr(_,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Y1;let w=this.type;this.render=function(P,C,L){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||P.length===0)return;const D=t.getRenderTarget(),I=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),z=t.state;z.setBlending(ol),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const Y=w!==ws&&this.type===ws,H=w===ws&&this.type!==ws;for(let K=0,ee=P.length;K<ee;K++){const oe=P[K],ae=oe.shadow;if(ae===void 0){console.warn("THREE.WebGLShadowMap:",oe,"has no shadow.");continue}if(ae.autoUpdate===!1&&ae.needsUpdate===!1)continue;i.copy(ae.mapSize);const $=ae.getFrameExtents();if(i.multiply($),a.copy(ae.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(a.x=Math.floor(f/$.x),i.x=a.x*$.x,ae.mapSize.x=a.x),i.y>f&&(a.y=Math.floor(f/$.y),i.y=a.y*$.y,ae.mapSize.y=a.y)),ae.map===null||Y===!0||H===!0){const J=this.type!==ws?{minFilter:Wr,magFilter:Wr}:{};ae.map!==null&&ae.map.dispose(),ae.map=new mo(i.x,i.y,J),ae.map.texture.name=oe.name+".shadowMap",ae.camera.updateProjectionMatrix()}t.setRenderTarget(ae.map),t.clear();const re=ae.getViewportCount();for(let J=0;J<re;J++){const j=ae.getViewport(J);o.set(a.x*j.x,a.y*j.y,a.x*j.z,a.y*j.w),z.viewport(o),ae.updateMatrices(oe,J),r=ae.getFrustum(),T(C,L,ae.camera,oe,this.type)}ae.isPointLightShadow!==!0&&this.type===ws&&E(ae,L),ae.needsUpdate=!1}w=this.type,x.needsUpdate=!1,t.setRenderTarget(D,I,F)};function E(P,C){const L=e.update(S);p.defines.VSM_SAMPLES!==P.blurSamples&&(p.defines.VSM_SAMPLES=P.blurSamples,v.defines.VSM_SAMPLES=P.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new mo(i.x,i.y)),p.uniforms.shadow_pass.value=P.map.texture,p.uniforms.resolution.value=P.mapSize,p.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(C,null,L,p,S,null),v.uniforms.shadow_pass.value=P.mapPass.texture,v.uniforms.resolution.value=P.mapSize,v.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(C,null,L,v,S,null)}function b(P,C,L,D){let I=null;const F=L.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(F!==void 0)I=F;else if(I=L.isPointLight===!0?l:s,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const z=I.uuid,Y=C.uuid;let H=u[z];H===void 0&&(H={},u[z]=H);let K=H[Y];K===void 0&&(K=I.clone(),H[Y]=K),I=K}if(I.visible=C.visible,I.wireframe=C.wireframe,D===ws?I.side=C.shadowSide!==null?C.shadowSide:C.side:I.side=C.shadowSide!==null?C.shadowSide:h[C.side],I.alphaMap=C.alphaMap,I.alphaTest=C.alphaTest,I.map=C.map,I.clipShadows=C.clipShadows,I.clippingPlanes=C.clippingPlanes,I.clipIntersection=C.clipIntersection,I.displacementMap=C.displacementMap,I.displacementScale=C.displacementScale,I.displacementBias=C.displacementBias,I.wireframeLinewidth=C.wireframeLinewidth,I.linewidth=C.linewidth,L.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const z=t.properties.get(I);z.light=L}return I}function T(P,C,L,D,I){if(P.visible===!1)return;if(P.layers.test(C.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&I===ws)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,P.matrixWorld);const Y=e.update(P),H=P.material;if(Array.isArray(H)){const K=Y.groups;for(let ee=0,oe=K.length;ee<oe;ee++){const ae=K[ee],$=H[ae.materialIndex];if($&&$.visible){const re=b(P,$,D,I);t.renderBufferDirect(L,null,Y,re,P,ae)}}}else if(H.visible){const K=b(P,H,D,I);t.renderBufferDirect(L,null,Y,K,P,null)}}const z=P.children;for(let Y=0,H=z.length;Y<H;Y++)T(z[Y],C,L,D,I)}}function sre(t,e,n){const r=n.isWebGL2;function i(){let de=!1;const we=new Pn;let Me=null;const Qe=new Pn(0,0,0,0);return{setMask:function(gt){Me!==gt&&!de&&(t.colorMask(gt,gt,gt,gt),Me=gt)},setLocked:function(gt){de=gt},setClear:function(gt,un,dn,An,yr){yr===!0&&(gt*=An,un*=An,dn*=An),we.set(gt,un,dn,An),Qe.equals(we)===!1&&(t.clearColor(gt,un,dn,An),Qe.copy(we))},reset:function(){de=!1,Me=null,Qe.set(-1,0,0,0)}}}function a(){let de=!1,we=null,Me=null,Qe=null;return{setTest:function(gt){gt?Ye(t.DEPTH_TEST):Xe(t.DEPTH_TEST)},setMask:function(gt){we!==gt&&!de&&(t.depthMask(gt),we=gt)},setFunc:function(gt){if(Me!==gt){switch(gt){case hH:t.depthFunc(t.NEVER);break;case dH:t.depthFunc(t.ALWAYS);break;case pH:t.depthFunc(t.LESS);break;case k_:t.depthFunc(t.LEQUAL);break;case mH:t.depthFunc(t.EQUAL);break;case gH:t.depthFunc(t.GEQUAL);break;case vH:t.depthFunc(t.GREATER);break;case yH:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Me=gt}},setLocked:function(gt){de=gt},setClear:function(gt){Qe!==gt&&(t.clearDepth(gt),Qe=gt)},reset:function(){de=!1,we=null,Me=null,Qe=null}}}function o(){let de=!1,we=null,Me=null,Qe=null,gt=null,un=null,dn=null,An=null,yr=null;return{setTest:function(bn){de||(bn?Ye(t.STENCIL_TEST):Xe(t.STENCIL_TEST))},setMask:function(bn){we!==bn&&!de&&(t.stencilMask(bn),we=bn)},setFunc:function(bn,xr,jn){(Me!==bn||Qe!==xr||gt!==jn)&&(t.stencilFunc(bn,xr,jn),Me=bn,Qe=xr,gt=jn)},setOp:function(bn,xr,jn){(un!==bn||dn!==xr||An!==jn)&&(t.stencilOp(bn,xr,jn),un=bn,dn=xr,An=jn)},setLocked:function(bn){de=bn},setClear:function(bn){yr!==bn&&(t.clearStencil(bn),yr=bn)},reset:function(){de=!1,we=null,Me=null,Qe=null,gt=null,un=null,dn=null,An=null,yr=null}}}const s=new i,l=new a,u=new o,f=new WeakMap,h=new WeakMap;let p={},v={},_=new WeakMap,S=[],x=null,w=!1,E=null,b=null,T=null,P=null,C=null,L=null,D=null,I=!1,F=null,z=null,Y=null,H=null,K=null;const ee=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let oe=!1,ae=0;const $=t.getParameter(t.VERSION);$.indexOf("WebGL")!==-1?(ae=parseFloat(/^WebGL (\d)/.exec($)[1]),oe=ae>=1):$.indexOf("OpenGL ES")!==-1&&(ae=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),oe=ae>=2);let re=null,J={};const j=t.getParameter(t.SCISSOR_BOX),q=t.getParameter(t.VIEWPORT),pe=new Pn().fromArray(j),_e=new Pn().fromArray(q);function Re(de,we,Me,Qe){const gt=new Uint8Array(4),un=t.createTexture();t.bindTexture(de,un),t.texParameteri(de,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(de,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let dn=0;dn<Me;dn++)r&&(de===t.TEXTURE_3D||de===t.TEXTURE_2D_ARRAY)?t.texImage3D(we,0,t.RGBA,1,1,Qe,0,t.RGBA,t.UNSIGNED_BYTE,gt):t.texImage2D(we+dn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,gt);return un}const Ie={};Ie[t.TEXTURE_2D]=Re(t.TEXTURE_2D,t.TEXTURE_2D,1),Ie[t.TEXTURE_CUBE_MAP]=Re(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Ie[t.TEXTURE_2D_ARRAY]=Re(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Ie[t.TEXTURE_3D]=Re(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Ye(t.DEPTH_TEST),l.setFunc(k_),Be(!1),ot(PP),Ye(t.CULL_FACE),be(ol);function Ye(de){p[de]!==!0&&(t.enable(de),p[de]=!0)}function Xe(de){p[de]!==!1&&(t.disable(de),p[de]=!1)}function ke(de,we){return v[de]!==we?(t.bindFramebuffer(de,we),v[de]=we,r&&(de===t.DRAW_FRAMEBUFFER&&(v[t.FRAMEBUFFER]=we),de===t.FRAMEBUFFER&&(v[t.DRAW_FRAMEBUFFER]=we)),!0):!1}function Ze(de,we){let Me=S,Qe=!1;if(de)if(Me=_.get(we),Me===void 0&&(Me=[],_.set(we,Me)),de.isWebGLMultipleRenderTargets){const gt=de.texture;if(Me.length!==gt.length||Me[0]!==t.COLOR_ATTACHMENT0){for(let un=0,dn=gt.length;un<dn;un++)Me[un]=t.COLOR_ATTACHMENT0+un;Me.length=gt.length,Qe=!0}}else Me[0]!==t.COLOR_ATTACHMENT0&&(Me[0]=t.COLOR_ATTACHMENT0,Qe=!0);else Me[0]!==t.BACK&&(Me[0]=t.BACK,Qe=!0);Qe&&(n.isWebGL2?t.drawBuffers(Me):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Me))}function Fe(de){return x!==de?(t.useProgram(de),x=de,!0):!1}const Z={[$f]:t.FUNC_ADD,[tH]:t.FUNC_SUBTRACT,[nH]:t.FUNC_REVERSE_SUBTRACT};if(r)Z[IP]=t.MIN,Z[LP]=t.MAX;else{const de=e.get("EXT_blend_minmax");de!==null&&(Z[IP]=de.MIN_EXT,Z[LP]=de.MAX_EXT)}const Ne={[rH]:t.ZERO,[iH]:t.ONE,[aH]:t.SRC_COLOR,[TR]:t.SRC_ALPHA,[fH]:t.SRC_ALPHA_SATURATE,[uH]:t.DST_COLOR,[sH]:t.DST_ALPHA,[oH]:t.ONE_MINUS_SRC_COLOR,[PR]:t.ONE_MINUS_SRC_ALPHA,[cH]:t.ONE_MINUS_DST_COLOR,[lH]:t.ONE_MINUS_DST_ALPHA};function be(de,we,Me,Qe,gt,un,dn,An){if(de===ol){w===!0&&(Xe(t.BLEND),w=!1);return}if(w===!1&&(Ye(t.BLEND),w=!0),de!==eH){if(de!==E||An!==I){if((b!==$f||C!==$f)&&(t.blendEquation(t.FUNC_ADD),b=$f,C=$f),An)switch(de){case uh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case CP:t.blendFunc(t.ONE,t.ONE);break;case RP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case OP:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case uh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case CP:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case RP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case OP:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}T=null,P=null,L=null,D=null,E=de,I=An}return}gt=gt||we,un=un||Me,dn=dn||Qe,(we!==b||gt!==C)&&(t.blendEquationSeparate(Z[we],Z[gt]),b=we,C=gt),(Me!==T||Qe!==P||un!==L||dn!==D)&&(t.blendFuncSeparate(Ne[Me],Ne[Qe],Ne[un],Ne[dn]),T=Me,P=Qe,L=un,D=dn),E=de,I=!1}function qe(de,we){de.side===Fo?Xe(t.CULL_FACE):Ye(t.CULL_FACE);let Me=de.side===Sa;we&&(Me=!Me),Be(Me),de.blending===uh&&de.transparent===!1?be(ol):be(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.premultipliedAlpha),l.setFunc(de.depthFunc),l.setTest(de.depthTest),l.setMask(de.depthWrite),s.setMask(de.colorWrite);const Qe=de.stencilWrite;u.setTest(Qe),Qe&&(u.setMask(de.stencilWriteMask),u.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),u.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),dt(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?Ye(t.SAMPLE_ALPHA_TO_COVERAGE):Xe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Be(de){F!==de&&(de?t.frontFace(t.CW):t.frontFace(t.CCW),F=de)}function ot(de){de!==ZV?(Ye(t.CULL_FACE),de!==z&&(de===PP?t.cullFace(t.BACK):de===JV?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Xe(t.CULL_FACE),z=de}function lt(de){de!==Y&&(oe&&t.lineWidth(de),Y=de)}function dt(de,we,Me){de?(Ye(t.POLYGON_OFFSET_FILL),(H!==we||K!==Me)&&(t.polygonOffset(we,Me),H=we,K=Me)):Xe(t.POLYGON_OFFSET_FILL)}function Tt(de){de?Ye(t.SCISSOR_TEST):Xe(t.SCISSOR_TEST)}function Bt(de){de===void 0&&(de=t.TEXTURE0+ee-1),re!==de&&(t.activeTexture(de),re=de)}function ln(de,we,Me){Me===void 0&&(re===null?Me=t.TEXTURE0+ee-1:Me=re);let Qe=J[Me];Qe===void 0&&(Qe={type:void 0,texture:void 0},J[Me]=Qe),(Qe.type!==de||Qe.texture!==we)&&(re!==Me&&(t.activeTexture(Me),re=Me),t.bindTexture(de,we||Ie[de]),Qe.type=de,Qe.texture=we)}function le(){const de=J[re];de!==void 0&&de.type!==void 0&&(t.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function Q(){try{t.compressedTexImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Le(){try{t.compressedTexImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function tt(){try{t.texSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ke(){try{t.texSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function st(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Et(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ft(){try{t.texStorage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ze(){try{t.texStorage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function zt(){try{t.texImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ot(){try{t.texImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function _t(de){pe.equals(de)===!1&&(t.scissor(de.x,de.y,de.z,de.w),pe.copy(de))}function St(de){_e.equals(de)===!1&&(t.viewport(de.x,de.y,de.z,de.w),_e.copy(de))}function he(de,we){let Me=h.get(we);Me===void 0&&(Me=new WeakMap,h.set(we,Me));let Qe=Me.get(de);Qe===void 0&&(Qe=t.getUniformBlockIndex(we,de.name),Me.set(de,Qe))}function Ue(de,we){const Qe=h.get(we).get(de);f.get(we)!==Qe&&(t.uniformBlockBinding(we,Qe,de.__bindingPointIndex),f.set(we,Qe))}function nt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},re=null,J={},v={},_=new WeakMap,S=[],x=null,w=!1,E=null,b=null,T=null,P=null,C=null,L=null,D=null,I=!1,F=null,z=null,Y=null,H=null,K=null,pe.set(0,0,t.canvas.width,t.canvas.height),_e.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),u.reset()}return{buffers:{color:s,depth:l,stencil:u},enable:Ye,disable:Xe,bindFramebuffer:ke,drawBuffers:Ze,useProgram:Fe,setBlending:be,setMaterial:qe,setFlipSided:Be,setCullFace:ot,setLineWidth:lt,setPolygonOffset:dt,setScissorTest:Tt,activeTexture:Bt,bindTexture:ln,unbindTexture:le,compressedTexImage2D:Q,compressedTexImage3D:Le,texImage2D:zt,texImage3D:Ot,updateUBOMapping:he,uniformBlockBinding:Ue,texStorage2D:ft,texStorage3D:ze,texSubImage2D:tt,texSubImage3D:Ke,compressedTexSubImage2D:st,compressedTexSubImage3D:Et,scissor:_t,viewport:St,reset:nt}}function lre(t,e,n,r,i,a,o){const s=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,f=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),_=new WeakMap;let S;const x=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function E(le,Q){return w?new OffscreenCanvas(le,Q):zv("canvas")}function b(le,Q,Le,tt){let Ke=1;if((le.width>tt||le.height>tt)&&(Ke=tt/Math.max(le.width,le.height)),Ke<1||Q===!0)if(typeof HTMLImageElement<"u"&&le instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&le instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&le instanceof ImageBitmap){const st=Q?B_:Math.floor,Et=st(Ke*le.width),ft=st(Ke*le.height);S===void 0&&(S=E(Et,ft));const ze=Le?E(Et,ft):S;return ze.width=Et,ze.height=ft,ze.getContext("2d").drawImage(le,0,0,Et,ft),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+le.width+"x"+le.height+") to ("+Et+"x"+ft+")."),ze}else return"data"in le&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+le.width+"x"+le.height+")."),le;return le}function T(le){return aC(le.width)&&aC(le.height)}function P(le){return s?!1:le.wrapS!==br||le.wrapT!==br||le.minFilter!==Wr&&le.minFilter!==zn}function C(le,Q){return le.generateMipmaps&&Q&&le.minFilter!==Wr&&le.minFilter!==zn}function L(le){t.generateMipmap(le)}function D(le,Q,Le,tt,Ke=!1){if(s===!1)return Q;if(le!==null){if(t[le]!==void 0)return t[le];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+le+"'")}let st=Q;return Q===t.RED&&(Le===t.FLOAT&&(st=t.R32F),Le===t.HALF_FLOAT&&(st=t.R16F),Le===t.UNSIGNED_BYTE&&(st=t.R8)),Q===t.RG&&(Le===t.FLOAT&&(st=t.RG32F),Le===t.HALF_FLOAT&&(st=t.RG16F),Le===t.UNSIGNED_BYTE&&(st=t.RG8)),Q===t.RGBA&&(Le===t.FLOAT&&(st=t.RGBA32F),Le===t.HALF_FLOAT&&(st=t.RGBA16F),Le===t.UNSIGNED_BYTE&&(st=tt===fn&&Ke===!1?t.SRGB8_ALPHA8:t.RGBA8),Le===t.UNSIGNED_SHORT_4_4_4_4&&(st=t.RGBA4),Le===t.UNSIGNED_SHORT_5_5_5_1&&(st=t.RGB5_A1)),(st===t.R16F||st===t.R32F||st===t.RG16F||st===t.RG32F||st===t.RGBA16F||st===t.RGBA32F)&&e.get("EXT_color_buffer_float"),st}function I(le,Q,Le){return C(le,Le)===!0||le.isFramebufferTexture&&le.minFilter!==Wr&&le.minFilter!==zn?Math.log2(Math.max(Q.width,Q.height))+1:le.mipmaps!==void 0&&le.mipmaps.length>0?le.mipmaps.length:le.isCompressedTexture&&Array.isArray(le.image)?Q.mipmaps.length:1}function F(le){return le===Wr||le===U_||le===pv?t.NEAREST:t.LINEAR}function z(le){const Q=le.target;Q.removeEventListener("dispose",z),H(Q),Q.isVideoTexture&&_.delete(Q)}function Y(le){const Q=le.target;Q.removeEventListener("dispose",Y),ee(Q)}function H(le){const Q=r.get(le);if(Q.__webglInit===void 0)return;const Le=le.source,tt=x.get(Le);if(tt){const Ke=tt[Q.__cacheKey];Ke.usedTimes--,Ke.usedTimes===0&&K(le),Object.keys(tt).length===0&&x.delete(Le)}r.remove(le)}function K(le){const Q=r.get(le);t.deleteTexture(Q.__webglTexture);const Le=le.source,tt=x.get(Le);delete tt[Q.__cacheKey],o.memory.textures--}function ee(le){const Q=le.texture,Le=r.get(le),tt=r.get(Q);if(tt.__webglTexture!==void 0&&(t.deleteTexture(tt.__webglTexture),o.memory.textures--),le.depthTexture&&le.depthTexture.dispose(),le.isWebGLCubeRenderTarget)for(let Ke=0;Ke<6;Ke++)t.deleteFramebuffer(Le.__webglFramebuffer[Ke]),Le.__webglDepthbuffer&&t.deleteRenderbuffer(Le.__webglDepthbuffer[Ke]);else{if(t.deleteFramebuffer(Le.__webglFramebuffer),Le.__webglDepthbuffer&&t.deleteRenderbuffer(Le.__webglDepthbuffer),Le.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Le.__webglMultisampledFramebuffer),Le.__webglColorRenderbuffer)for(let Ke=0;Ke<Le.__webglColorRenderbuffer.length;Ke++)Le.__webglColorRenderbuffer[Ke]&&t.deleteRenderbuffer(Le.__webglColorRenderbuffer[Ke]);Le.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Le.__webglDepthRenderbuffer)}if(le.isWebGLMultipleRenderTargets)for(let Ke=0,st=Q.length;Ke<st;Ke++){const Et=r.get(Q[Ke]);Et.__webglTexture&&(t.deleteTexture(Et.__webglTexture),o.memory.textures--),r.remove(Q[Ke])}r.remove(Q),r.remove(le)}let oe=0;function ae(){oe=0}function $(){const le=oe;return le>=l&&console.warn("THREE.WebGLTextures: Trying to use "+le+" texture units while this GPU supports only "+l),oe+=1,le}function re(le){const Q=[];return Q.push(le.wrapS),Q.push(le.wrapT),Q.push(le.wrapR||0),Q.push(le.magFilter),Q.push(le.minFilter),Q.push(le.anisotropy),Q.push(le.internalFormat),Q.push(le.format),Q.push(le.type),Q.push(le.generateMipmaps),Q.push(le.premultiplyAlpha),Q.push(le.flipY),Q.push(le.unpackAlignment),Q.push(le.colorSpace),Q.join()}function J(le,Q){const Le=r.get(le);if(le.isVideoTexture&&Bt(le),le.isRenderTargetTexture===!1&&le.version>0&&Le.__version!==le.version){const tt=le.image;if(tt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(tt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(Le,le,Q);return}}n.bindTexture(t.TEXTURE_2D,Le.__webglTexture,t.TEXTURE0+Q)}function j(le,Q){const Le=r.get(le);if(le.version>0&&Le.__version!==le.version){ke(Le,le,Q);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Le.__webglTexture,t.TEXTURE0+Q)}function q(le,Q){const Le=r.get(le);if(le.version>0&&Le.__version!==le.version){ke(Le,le,Q);return}n.bindTexture(t.TEXTURE_3D,Le.__webglTexture,t.TEXTURE0+Q)}function pe(le,Q){const Le=r.get(le);if(le.version>0&&Le.__version!==le.version){Ze(Le,le,Q);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Le.__webglTexture,t.TEXTURE0+Q)}const _e={[Lv]:t.REPEAT,[br]:t.CLAMP_TO_EDGE,[Nv]:t.MIRRORED_REPEAT},Re={[Wr]:t.NEAREST,[U_]:t.NEAREST_MIPMAP_NEAREST,[pv]:t.NEAREST_MIPMAP_LINEAR,[zn]:t.LINEAR,[RR]:t.LINEAR_MIPMAP_NEAREST,[Cc]:t.LINEAR_MIPMAP_LINEAR},Ie={[FH]:t.NEVER,[GH]:t.ALWAYS,[BH]:t.LESS,[jH]:t.LEQUAL,[zH]:t.EQUAL,[WH]:t.GEQUAL,[VH]:t.GREATER,[HH]:t.NOTEQUAL};function Ye(le,Q,Le){if(Le?(t.texParameteri(le,t.TEXTURE_WRAP_S,_e[Q.wrapS]),t.texParameteri(le,t.TEXTURE_WRAP_T,_e[Q.wrapT]),(le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY)&&t.texParameteri(le,t.TEXTURE_WRAP_R,_e[Q.wrapR]),t.texParameteri(le,t.TEXTURE_MAG_FILTER,Re[Q.magFilter]),t.texParameteri(le,t.TEXTURE_MIN_FILTER,Re[Q.minFilter])):(t.texParameteri(le,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(le,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY)&&t.texParameteri(le,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(Q.wrapS!==br||Q.wrapT!==br)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(le,t.TEXTURE_MAG_FILTER,F(Q.magFilter)),t.texParameteri(le,t.TEXTURE_MIN_FILTER,F(Q.minFilter)),Q.minFilter!==Wr&&Q.minFilter!==zn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Q.compareFunction&&(t.texParameteri(le,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(le,t.TEXTURE_COMPARE_FUNC,Ie[Q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const tt=e.get("EXT_texture_filter_anisotropic");if(Q.magFilter===Wr||Q.minFilter!==pv&&Q.minFilter!==Cc||Q.type===hi&&e.has("OES_texture_float_linear")===!1||s===!1&&Q.type===Ai&&e.has("OES_texture_half_float_linear")===!1)return;(Q.anisotropy>1||r.get(Q).__currentAnisotropy)&&(t.texParameterf(le,tt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Q.anisotropy,i.getMaxAnisotropy())),r.get(Q).__currentAnisotropy=Q.anisotropy)}}function Xe(le,Q){let Le=!1;le.__webglInit===void 0&&(le.__webglInit=!0,Q.addEventListener("dispose",z));const tt=Q.source;let Ke=x.get(tt);Ke===void 0&&(Ke={},x.set(tt,Ke));const st=re(Q);if(st!==le.__cacheKey){Ke[st]===void 0&&(Ke[st]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Le=!0),Ke[st].usedTimes++;const Et=Ke[le.__cacheKey];Et!==void 0&&(Ke[le.__cacheKey].usedTimes--,Et.usedTimes===0&&K(Q)),le.__cacheKey=st,le.__webglTexture=Ke[st].texture}return Le}function ke(le,Q,Le){let tt=t.TEXTURE_2D;(Q.isDataArrayTexture||Q.isCompressedArrayTexture)&&(tt=t.TEXTURE_2D_ARRAY),Q.isData3DTexture&&(tt=t.TEXTURE_3D);const Ke=Xe(le,Q),st=Q.source;n.bindTexture(tt,le.__webglTexture,t.TEXTURE0+Le);const Et=r.get(st);if(st.version!==Et.__version||Ke===!0){n.activeTexture(t.TEXTURE0+Le),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const ft=P(Q)&&T(Q.image)===!1;let ze=b(Q.image,ft,!1,f);ze=ln(Q,ze);const zt=T(ze)||s,Ot=a.convert(Q.format,Q.colorSpace);let _t=a.convert(Q.type),St=D(Q.internalFormat,Ot,_t,Q.colorSpace);Ye(tt,Q,zt);let he;const Ue=Q.mipmaps,nt=s&&Q.isVideoTexture!==!0,de=Et.__version===void 0||Ke===!0,we=I(Q,ze,zt);if(Q.isDepthTexture)St=t.DEPTH_COMPONENT,s?Q.type===hi?St=t.DEPTH_COMPONENT32F:Q.type===el?St=t.DEPTH_COMPONENT24:Q.type===_c?St=t.DEPTH24_STENCIL8:St=t.DEPTH_COMPONENT16:Q.type===hi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Q.format===wc&&St===t.DEPTH_COMPONENT&&Q.type!==K1&&Q.type!==el&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Q.type=el,_t=a.convert(Q.type)),Q.format===yh&&St===t.DEPTH_COMPONENT&&(St=t.DEPTH_STENCIL,Q.type!==_c&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Q.type=_c,_t=a.convert(Q.type))),de&&(nt?n.texStorage2D(t.TEXTURE_2D,1,St,ze.width,ze.height):n.texImage2D(t.TEXTURE_2D,0,St,ze.width,ze.height,0,Ot,_t,null));else if(Q.isDataTexture)if(Ue.length>0&&zt){nt&&de&&n.texStorage2D(t.TEXTURE_2D,we,St,Ue[0].width,Ue[0].height);for(let Me=0,Qe=Ue.length;Me<Qe;Me++)he=Ue[Me],nt?n.texSubImage2D(t.TEXTURE_2D,Me,0,0,he.width,he.height,Ot,_t,he.data):n.texImage2D(t.TEXTURE_2D,Me,St,he.width,he.height,0,Ot,_t,he.data);Q.generateMipmaps=!1}else nt?(de&&n.texStorage2D(t.TEXTURE_2D,we,St,ze.width,ze.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ze.width,ze.height,Ot,_t,ze.data)):n.texImage2D(t.TEXTURE_2D,0,St,ze.width,ze.height,0,Ot,_t,ze.data);else if(Q.isCompressedTexture)if(Q.isCompressedArrayTexture){nt&&de&&n.texStorage3D(t.TEXTURE_2D_ARRAY,we,St,Ue[0].width,Ue[0].height,ze.depth);for(let Me=0,Qe=Ue.length;Me<Qe;Me++)he=Ue[Me],Q.format!==fi?Ot!==null?nt?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Me,0,0,0,he.width,he.height,ze.depth,Ot,he.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Me,St,he.width,he.height,ze.depth,0,he.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nt?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Me,0,0,0,he.width,he.height,ze.depth,Ot,_t,he.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Me,St,he.width,he.height,ze.depth,0,Ot,_t,he.data)}else{nt&&de&&n.texStorage2D(t.TEXTURE_2D,we,St,Ue[0].width,Ue[0].height);for(let Me=0,Qe=Ue.length;Me<Qe;Me++)he=Ue[Me],Q.format!==fi?Ot!==null?nt?n.compressedTexSubImage2D(t.TEXTURE_2D,Me,0,0,he.width,he.height,Ot,he.data):n.compressedTexImage2D(t.TEXTURE_2D,Me,St,he.width,he.height,0,he.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nt?n.texSubImage2D(t.TEXTURE_2D,Me,0,0,he.width,he.height,Ot,_t,he.data):n.texImage2D(t.TEXTURE_2D,Me,St,he.width,he.height,0,Ot,_t,he.data)}else if(Q.isDataArrayTexture)nt?(de&&n.texStorage3D(t.TEXTURE_2D_ARRAY,we,St,ze.width,ze.height,ze.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ze.width,ze.height,ze.depth,Ot,_t,ze.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,St,ze.width,ze.height,ze.depth,0,Ot,_t,ze.data);else if(Q.isData3DTexture)nt?(de&&n.texStorage3D(t.TEXTURE_3D,we,St,ze.width,ze.height,ze.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ze.width,ze.height,ze.depth,Ot,_t,ze.data)):n.texImage3D(t.TEXTURE_3D,0,St,ze.width,ze.height,ze.depth,0,Ot,_t,ze.data);else if(Q.isFramebufferTexture){if(de)if(nt)n.texStorage2D(t.TEXTURE_2D,we,St,ze.width,ze.height);else{let Me=ze.width,Qe=ze.height;for(let gt=0;gt<we;gt++)n.texImage2D(t.TEXTURE_2D,gt,St,Me,Qe,0,Ot,_t,null),Me>>=1,Qe>>=1}}else if(Ue.length>0&&zt){nt&&de&&n.texStorage2D(t.TEXTURE_2D,we,St,Ue[0].width,Ue[0].height);for(let Me=0,Qe=Ue.length;Me<Qe;Me++)he=Ue[Me],nt?n.texSubImage2D(t.TEXTURE_2D,Me,0,0,Ot,_t,he):n.texImage2D(t.TEXTURE_2D,Me,St,Ot,_t,he);Q.generateMipmaps=!1}else nt?(de&&n.texStorage2D(t.TEXTURE_2D,we,St,ze.width,ze.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ot,_t,ze)):n.texImage2D(t.TEXTURE_2D,0,St,Ot,_t,ze);C(Q,zt)&&L(tt),Et.__version=st.version,Q.onUpdate&&Q.onUpdate(Q)}le.__version=Q.version}function Ze(le,Q,Le){if(Q.image.length!==6)return;const tt=Xe(le,Q),Ke=Q.source;n.bindTexture(t.TEXTURE_CUBE_MAP,le.__webglTexture,t.TEXTURE0+Le);const st=r.get(Ke);if(Ke.version!==st.__version||tt===!0){n.activeTexture(t.TEXTURE0+Le),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Et=Q.isCompressedTexture||Q.image[0].isCompressedTexture,ft=Q.image[0]&&Q.image[0].isDataTexture,ze=[];for(let Me=0;Me<6;Me++)!Et&&!ft?ze[Me]=b(Q.image[Me],!1,!0,u):ze[Me]=ft?Q.image[Me].image:Q.image[Me],ze[Me]=ln(Q,ze[Me]);const zt=ze[0],Ot=T(zt)||s,_t=a.convert(Q.format,Q.colorSpace),St=a.convert(Q.type),he=D(Q.internalFormat,_t,St,Q.colorSpace),Ue=s&&Q.isVideoTexture!==!0,nt=st.__version===void 0||tt===!0;let de=I(Q,zt,Ot);Ye(t.TEXTURE_CUBE_MAP,Q,Ot);let we;if(Et){Ue&&nt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,de,he,zt.width,zt.height);for(let Me=0;Me<6;Me++){we=ze[Me].mipmaps;for(let Qe=0;Qe<we.length;Qe++){const gt=we[Qe];Q.format!==fi?_t!==null?Ue?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Qe,0,0,gt.width,gt.height,_t,gt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Qe,he,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Qe,0,0,gt.width,gt.height,_t,St,gt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Qe,he,gt.width,gt.height,0,_t,St,gt.data)}}}else{we=Q.mipmaps,Ue&&nt&&(we.length>0&&de++,n.texStorage2D(t.TEXTURE_CUBE_MAP,de,he,ze[0].width,ze[0].height));for(let Me=0;Me<6;Me++)if(ft){Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,ze[Me].width,ze[Me].height,_t,St,ze[Me].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,he,ze[Me].width,ze[Me].height,0,_t,St,ze[Me].data);for(let Qe=0;Qe<we.length;Qe++){const un=we[Qe].image[Me].image;Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Qe+1,0,0,un.width,un.height,_t,St,un.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Qe+1,he,un.width,un.height,0,_t,St,un.data)}}else{Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,_t,St,ze[Me]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,he,_t,St,ze[Me]);for(let Qe=0;Qe<we.length;Qe++){const gt=we[Qe];Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Qe+1,0,0,_t,St,gt.image[Me]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Qe+1,he,_t,St,gt.image[Me])}}}C(Q,Ot)&&L(t.TEXTURE_CUBE_MAP),st.__version=Ke.version,Q.onUpdate&&Q.onUpdate(Q)}le.__version=Q.version}function Fe(le,Q,Le,tt,Ke){const st=a.convert(Le.format,Le.colorSpace),Et=a.convert(Le.type),ft=D(Le.internalFormat,st,Et,Le.colorSpace);r.get(Q).__hasExternalTextures||(Ke===t.TEXTURE_3D||Ke===t.TEXTURE_2D_ARRAY?n.texImage3D(Ke,0,ft,Q.width,Q.height,Q.depth,0,st,Et,null):n.texImage2D(Ke,0,ft,Q.width,Q.height,0,st,Et,null)),n.bindFramebuffer(t.FRAMEBUFFER,le),Tt(Q)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,tt,Ke,r.get(Le).__webglTexture,0,dt(Q)):(Ke===t.TEXTURE_2D||Ke>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ke<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,tt,Ke,r.get(Le).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Z(le,Q,Le){if(t.bindRenderbuffer(t.RENDERBUFFER,le),Q.depthBuffer&&!Q.stencilBuffer){let tt=t.DEPTH_COMPONENT16;if(Le||Tt(Q)){const Ke=Q.depthTexture;Ke&&Ke.isDepthTexture&&(Ke.type===hi?tt=t.DEPTH_COMPONENT32F:Ke.type===el&&(tt=t.DEPTH_COMPONENT24));const st=dt(Q);Tt(Q)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,st,tt,Q.width,Q.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,st,tt,Q.width,Q.height)}else t.renderbufferStorage(t.RENDERBUFFER,tt,Q.width,Q.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,le)}else if(Q.depthBuffer&&Q.stencilBuffer){const tt=dt(Q);Le&&Tt(Q)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,tt,t.DEPTH24_STENCIL8,Q.width,Q.height):Tt(Q)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,tt,t.DEPTH24_STENCIL8,Q.width,Q.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,le)}else{const tt=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Ke=0;Ke<tt.length;Ke++){const st=tt[Ke],Et=a.convert(st.format,st.colorSpace),ft=a.convert(st.type),ze=D(st.internalFormat,Et,ft,st.colorSpace),zt=dt(Q);Le&&Tt(Q)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,zt,ze,Q.width,Q.height):Tt(Q)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,zt,ze,Q.width,Q.height):t.renderbufferStorage(t.RENDERBUFFER,ze,Q.width,Q.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ne(le,Q){if(Q&&Q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,le),!(Q.depthTexture&&Q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Q.depthTexture).__webglTexture||Q.depthTexture.image.width!==Q.width||Q.depthTexture.image.height!==Q.height)&&(Q.depthTexture.image.width=Q.width,Q.depthTexture.image.height=Q.height,Q.depthTexture.needsUpdate=!0),J(Q.depthTexture,0);const tt=r.get(Q.depthTexture).__webglTexture,Ke=dt(Q);if(Q.depthTexture.format===wc)Tt(Q)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,tt,0,Ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,tt,0);else if(Q.depthTexture.format===yh)Tt(Q)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,tt,0,Ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,tt,0);else throw new Error("Unknown depthTexture format")}function be(le){const Q=r.get(le),Le=le.isWebGLCubeRenderTarget===!0;if(le.depthTexture&&!Q.__autoAllocateDepthBuffer){if(Le)throw new Error("target.depthTexture not supported in Cube render targets");Ne(Q.__webglFramebuffer,le)}else if(Le){Q.__webglDepthbuffer=[];for(let tt=0;tt<6;tt++)n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglFramebuffer[tt]),Q.__webglDepthbuffer[tt]=t.createRenderbuffer(),Z(Q.__webglDepthbuffer[tt],le,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglFramebuffer),Q.__webglDepthbuffer=t.createRenderbuffer(),Z(Q.__webglDepthbuffer,le,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function qe(le,Q,Le){const tt=r.get(le);Q!==void 0&&Fe(tt.__webglFramebuffer,le,le.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),Le!==void 0&&be(le)}function Be(le){const Q=le.texture,Le=r.get(le),tt=r.get(Q);le.addEventListener("dispose",Y),le.isWebGLMultipleRenderTargets!==!0&&(tt.__webglTexture===void 0&&(tt.__webglTexture=t.createTexture()),tt.__version=Q.version,o.memory.textures++);const Ke=le.isWebGLCubeRenderTarget===!0,st=le.isWebGLMultipleRenderTargets===!0,Et=T(le)||s;if(Ke){Le.__webglFramebuffer=[];for(let ft=0;ft<6;ft++)Le.__webglFramebuffer[ft]=t.createFramebuffer()}else{if(Le.__webglFramebuffer=t.createFramebuffer(),st)if(i.drawBuffers){const ft=le.texture;for(let ze=0,zt=ft.length;ze<zt;ze++){const Ot=r.get(ft[ze]);Ot.__webglTexture===void 0&&(Ot.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&le.samples>0&&Tt(le)===!1){const ft=st?Q:[Q];Le.__webglMultisampledFramebuffer=t.createFramebuffer(),Le.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglMultisampledFramebuffer);for(let ze=0;ze<ft.length;ze++){const zt=ft[ze];Le.__webglColorRenderbuffer[ze]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Le.__webglColorRenderbuffer[ze]);const Ot=a.convert(zt.format,zt.colorSpace),_t=a.convert(zt.type),St=D(zt.internalFormat,Ot,_t,zt.colorSpace,le.isXRRenderTarget===!0),he=dt(le);t.renderbufferStorageMultisample(t.RENDERBUFFER,he,St,le.width,le.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,Le.__webglColorRenderbuffer[ze])}t.bindRenderbuffer(t.RENDERBUFFER,null),le.depthBuffer&&(Le.__webglDepthRenderbuffer=t.createRenderbuffer(),Z(Le.__webglDepthRenderbuffer,le,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ke){n.bindTexture(t.TEXTURE_CUBE_MAP,tt.__webglTexture),Ye(t.TEXTURE_CUBE_MAP,Q,Et);for(let ft=0;ft<6;ft++)Fe(Le.__webglFramebuffer[ft],le,Q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ft);C(Q,Et)&&L(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(st){const ft=le.texture;for(let ze=0,zt=ft.length;ze<zt;ze++){const Ot=ft[ze],_t=r.get(Ot);n.bindTexture(t.TEXTURE_2D,_t.__webglTexture),Ye(t.TEXTURE_2D,Ot,Et),Fe(Le.__webglFramebuffer,le,Ot,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D),C(Ot,Et)&&L(t.TEXTURE_2D)}n.unbindTexture()}else{let ft=t.TEXTURE_2D;(le.isWebGL3DRenderTarget||le.isWebGLArrayRenderTarget)&&(s?ft=le.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(ft,tt.__webglTexture),Ye(ft,Q,Et),Fe(Le.__webglFramebuffer,le,Q,t.COLOR_ATTACHMENT0,ft),C(Q,Et)&&L(ft),n.unbindTexture()}le.depthBuffer&&be(le)}function ot(le){const Q=T(le)||s,Le=le.isWebGLMultipleRenderTargets===!0?le.texture:[le.texture];for(let tt=0,Ke=Le.length;tt<Ke;tt++){const st=Le[tt];if(C(st,Q)){const Et=le.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,ft=r.get(st).__webglTexture;n.bindTexture(Et,ft),L(Et),n.unbindTexture()}}}function lt(le){if(s&&le.samples>0&&Tt(le)===!1){const Q=le.isWebGLMultipleRenderTargets?le.texture:[le.texture],Le=le.width,tt=le.height;let Ke=t.COLOR_BUFFER_BIT;const st=[],Et=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ft=r.get(le),ze=le.isWebGLMultipleRenderTargets===!0;if(ze)for(let zt=0;zt<Q.length;zt++)n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+zt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+zt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ft.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglFramebuffer);for(let zt=0;zt<Q.length;zt++){st.push(t.COLOR_ATTACHMENT0+zt),le.depthBuffer&&st.push(Et);const Ot=ft.__ignoreDepthValues!==void 0?ft.__ignoreDepthValues:!1;if(Ot===!1&&(le.depthBuffer&&(Ke|=t.DEPTH_BUFFER_BIT),le.stencilBuffer&&(Ke|=t.STENCIL_BUFFER_BIT)),ze&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ft.__webglColorRenderbuffer[zt]),Ot===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Et]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Et])),ze){const _t=r.get(Q[zt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,_t,0)}t.blitFramebuffer(0,0,Le,tt,0,0,Le,tt,Ke,t.NEAREST),v&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,st)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ze)for(let zt=0;zt<Q.length;zt++){n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+zt,t.RENDERBUFFER,ft.__webglColorRenderbuffer[zt]);const Ot=r.get(Q[zt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+zt,t.TEXTURE_2D,Ot,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglMultisampledFramebuffer)}}function dt(le){return Math.min(h,le.samples)}function Tt(le){const Q=r.get(le);return s&&le.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Q.__useRenderToTexture!==!1}function Bt(le){const Q=o.render.frame;_.get(le)!==Q&&(_.set(le,Q),le.update())}function ln(le,Q){const Le=le.colorSpace,tt=le.format,Ke=le.type;return le.isCompressedTexture===!0||le.format===F_||Le!==Ha&&Le!==bc&&(Le===fn?s===!1?e.has("EXT_sRGB")===!0&&tt===fi?(le.format=F_,le.minFilter=zn,le.generateMipmaps=!1):Q=HR.sRGBToLinear(Q):(tt!==fi||Ke!==co)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Le)),Q}this.allocateTextureUnit=$,this.resetTextureUnits=ae,this.setTexture2D=J,this.setTexture2DArray=j,this.setTexture3D=q,this.setTextureCube=pe,this.rebindTextures=qe,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=ot,this.updateMultisampleRenderTarget=lt,this.setupDepthRenderbuffer=be,this.setupFrameBufferTexture=Fe,this.useMultisampledRTT=Tt}function r8(t,e,n){const r=n.isWebGL2;function i(a,o=bc){let s;if(a===co)return t.UNSIGNED_BYTE;if(a===LR)return t.UNSIGNED_SHORT_4_4_4_4;if(a===NR)return t.UNSIGNED_SHORT_5_5_5_1;if(a===OR)return t.BYTE;if(a===IR)return t.SHORT;if(a===K1)return t.UNSIGNED_SHORT;if(a===Z1)return t.INT;if(a===el)return t.UNSIGNED_INT;if(a===hi)return t.FLOAT;if(a===Ai)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===EH)return t.ALPHA;if(a===fi)return t.RGBA;if(a===AH)return t.LUMINANCE;if(a===TH)return t.LUMINANCE_ALPHA;if(a===wc)return t.DEPTH_COMPONENT;if(a===yh)return t.DEPTH_STENCIL;if(a===F_)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(a===DR)return t.RED;if(a===kR)return t.RED_INTEGER;if(a===PH)return t.RG;if(a===UR)return t.RG_INTEGER;if(a===FR)return t.RGBA_INTEGER;if(a===y_||a===x_||a===__||a===w_)if(o===fn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(a===y_)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===x_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===__)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===w_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===y_)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===x_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===__)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===w_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===DP||a===kP||a===UP||a===FP)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===DP)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===kP)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===UP)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===FP)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===CH)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===BP||a===zP)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(a===BP)return o===fn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(a===zP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===jP||a===VP||a===HP||a===WP||a===GP||a===$P||a===qP||a===XP||a===YP||a===KP||a===ZP||a===JP||a===QP||a===eC)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(a===jP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===VP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===HP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===WP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===GP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===$P)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===qP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===XP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===YP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===KP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===ZP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===JP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===QP)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===eC)return o===fn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===S_)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(a===S_)return o===fn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(a===RH||a===tC||a===nC||a===rC)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(a===S_)return s.COMPRESSED_RED_RGTC1_EXT;if(a===tC)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===nC)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===rC)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===_c?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[a]!==void 0?t[a]:null}return{convert:i}}class i8 extends Tr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class _p extends Fn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ure={type:"move"};class Cb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new _p,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new _p,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new _p,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const S of e.hand.values()){const x=n.getJointPose(S,r),w=this._getHandJoint(u,S);x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=x.radius),w.visible=x!==null}const f=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=f.position.distanceTo(h.position),v=.02,_=.005;u.inputState.pinching&&p>v+_?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=v-_&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(ure)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new _p;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class a8 extends ir{constructor(e,n,r,i,a,o,s,l,u,f){if(f=f!==void 0?f:wc,f!==wc&&f!==yh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===wc&&(r=el),r===void 0&&f===yh&&(r=_c),super(null,i,a,o,s,l,f,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Wr,this.minFilter=l!==void 0?l:Wr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class cre extends xu{constructor(e,n){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,u=null,f=null,h=null,p=null,v=null,_=null;const S=n.getContextAttributes();let x=null,w=null;const E=[],b=[],T=new Tr;T.layers.enable(1),T.viewport=new Pn;const P=new Tr;P.layers.enable(2),P.viewport=new Pn;const C=[T,P],L=new i8;L.layers.enable(1),L.layers.enable(2);let D=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let q=E[j];return q===void 0&&(q=new Cb,E[j]=q),q.getTargetRaySpace()},this.getControllerGrip=function(j){let q=E[j];return q===void 0&&(q=new Cb,E[j]=q),q.getGripSpace()},this.getHand=function(j){let q=E[j];return q===void 0&&(q=new Cb,E[j]=q),q.getHandSpace()};function F(j){const q=b.indexOf(j.inputSource);if(q===-1)return;const pe=E[q];pe!==void 0&&(pe.update(j.inputSource,j.frame,u||o),pe.dispatchEvent({type:j.type,data:j.inputSource}))}function z(){i.removeEventListener("select",F),i.removeEventListener("selectstart",F),i.removeEventListener("selectend",F),i.removeEventListener("squeeze",F),i.removeEventListener("squeezestart",F),i.removeEventListener("squeezeend",F),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",Y);for(let j=0;j<E.length;j++){const q=b[j];q!==null&&(b[j]=null,E[j].disconnect(q))}D=null,I=null,e.setRenderTarget(x),v=null,p=null,h=null,i=null,w=null,J.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(j){a=j,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){s=j,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(j){u=j},this.getBaseLayer=function(){return p!==null?p:v},this.getBinding=function(){return h},this.getFrame=function(){return _},this.getSession=function(){return i},this.setSession=async function(j){if(i=j,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",z),i.addEventListener("inputsourceschange",Y),S.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:i.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:a};v=new XRWebGLLayer(i,n,q),i.updateRenderState({baseLayer:v}),w=new mo(v.framebufferWidth,v.framebufferHeight,{format:fi,type:co,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let q=null,pe=null,_e=null;S.depth&&(_e=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,q=S.stencil?yh:wc,pe=S.stencil?_c:el);const Re={colorFormat:n.RGBA8,depthFormat:_e,scaleFactor:a};h=new XRWebGLBinding(i,n),p=h.createProjectionLayer(Re),i.updateRenderState({layers:[p]}),w=new mo(p.textureWidth,p.textureHeight,{format:fi,type:co,depthTexture:new a8(p.textureWidth,p.textureHeight,pe,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const Ie=e.properties.get(w);Ie.__ignoreDepthValues=p.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(s),J.setContext(i),J.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function Y(j){for(let q=0;q<j.removed.length;q++){const pe=j.removed[q],_e=b.indexOf(pe);_e>=0&&(b[_e]=null,E[_e].disconnect(pe))}for(let q=0;q<j.added.length;q++){const pe=j.added[q];let _e=b.indexOf(pe);if(_e===-1){for(let Ie=0;Ie<E.length;Ie++)if(Ie>=b.length){b.push(pe),_e=Ie;break}else if(b[Ie]===null){b[Ie]=pe,_e=Ie;break}if(_e===-1)break}const Re=E[_e];Re&&Re.connect(pe)}}const H=new ne,K=new ne;function ee(j,q,pe){H.setFromMatrixPosition(q.matrixWorld),K.setFromMatrixPosition(pe.matrixWorld);const _e=H.distanceTo(K),Re=q.projectionMatrix.elements,Ie=pe.projectionMatrix.elements,Ye=Re[14]/(Re[10]-1),Xe=Re[14]/(Re[10]+1),ke=(Re[9]+1)/Re[5],Ze=(Re[9]-1)/Re[5],Fe=(Re[8]-1)/Re[0],Z=(Ie[8]+1)/Ie[0],Ne=Ye*Fe,be=Ye*Z,qe=_e/(-Fe+Z),Be=qe*-Fe;q.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(Be),j.translateZ(qe),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert();const ot=Ye+qe,lt=Xe+qe,dt=Ne-Be,Tt=be+(_e-Be),Bt=ke*Xe/lt*ot,ln=Ze*Xe/lt*ot;j.projectionMatrix.makePerspective(dt,Tt,Bt,ln,ot,lt),j.projectionMatrixInverse.copy(j.projectionMatrix).invert()}function oe(j,q){q===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(q.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(i===null)return;L.near=P.near=T.near=j.near,L.far=P.far=T.far=j.far,(D!==L.near||I!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),D=L.near,I=L.far);const q=j.parent,pe=L.cameras;oe(L,q);for(let _e=0;_e<pe.length;_e++)oe(pe[_e],q);pe.length===2?ee(L,T,P):L.projectionMatrix.copy(T.projectionMatrix),ae(j,L,q)};function ae(j,q,pe){pe===null?j.matrix.copy(q.matrixWorld):(j.matrix.copy(pe.matrixWorld),j.matrix.invert(),j.matrix.multiply(q.matrixWorld)),j.matrix.decompose(j.position,j.quaternion,j.scale),j.updateMatrixWorld(!0);const _e=j.children;for(let Re=0,Ie=_e.length;Re<Ie;Re++)_e[Re].updateMatrixWorld(!0);j.projectionMatrix.copy(q.projectionMatrix),j.projectionMatrixInverse.copy(q.projectionMatrixInverse),j.isPerspectiveCamera&&(j.fov=Up*2*Math.atan(1/j.projectionMatrix.elements[5]),j.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(p===null&&v===null))return l},this.setFoveation=function(j){l=j,p!==null&&(p.fixedFoveation=j),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=j)};let $=null;function re(j,q){if(f=q.getViewerPose(u||o),_=q,f!==null){const pe=f.views;v!==null&&(e.setRenderTargetFramebuffer(w,v.framebuffer),e.setRenderTarget(w));let _e=!1;pe.length!==L.cameras.length&&(L.cameras.length=0,_e=!0);for(let Re=0;Re<pe.length;Re++){const Ie=pe[Re];let Ye=null;if(v!==null)Ye=v.getViewport(Ie);else{const ke=h.getViewSubImage(p,Ie);Ye=ke.viewport,Re===0&&(e.setRenderTargetTextures(w,ke.colorTexture,p.ignoreDepthValues?void 0:ke.depthStencilTexture),e.setRenderTarget(w))}let Xe=C[Re];Xe===void 0&&(Xe=new Tr,Xe.layers.enable(Re),Xe.viewport=new Pn,C[Re]=Xe),Xe.matrix.fromArray(Ie.transform.matrix),Xe.matrix.decompose(Xe.position,Xe.quaternion,Xe.scale),Xe.projectionMatrix.fromArray(Ie.projectionMatrix),Xe.projectionMatrixInverse.copy(Xe.projectionMatrix).invert(),Xe.viewport.set(Ye.x,Ye.y,Ye.width,Ye.height),Re===0&&(L.matrix.copy(Xe.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),_e===!0&&L.cameras.push(Xe)}}for(let pe=0;pe<E.length;pe++){const _e=b[pe],Re=E[pe];_e!==null&&Re!==void 0&&Re.update(_e,q,u||o)}$&&$(j,q),q.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:q}),_=null}const J=new JH;J.setAnimationLoop(re),this.setAnimationLoop=function(j){$=j},this.dispose=function(){}}}function fre(t,e){function n(x,w){x.matrixAutoUpdate===!0&&x.updateMatrix(),w.value.copy(x.matrix)}function r(x,w){w.color.getRGB(x.fogColor.value,KH(t)),w.isFog?(x.fogNear.value=w.near,x.fogFar.value=w.far):w.isFogExp2&&(x.fogDensity.value=w.density)}function i(x,w,E,b,T){w.isMeshBasicMaterial||w.isMeshLambertMaterial?a(x,w):w.isMeshToonMaterial?(a(x,w),h(x,w)):w.isMeshPhongMaterial?(a(x,w),f(x,w)):w.isMeshStandardMaterial?(a(x,w),p(x,w),w.isMeshPhysicalMaterial&&v(x,w,T)):w.isMeshMatcapMaterial?(a(x,w),_(x,w)):w.isMeshDepthMaterial?a(x,w):w.isMeshDistanceMaterial?(a(x,w),S(x,w)):w.isMeshNormalMaterial?a(x,w):w.isLineBasicMaterial?(o(x,w),w.isLineDashedMaterial&&s(x,w)):w.isPointsMaterial?l(x,w,E,b):w.isSpriteMaterial?u(x,w):w.isShadowMaterial?(x.color.value.copy(w.color),x.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function a(x,w){x.opacity.value=w.opacity,w.color&&x.diffuse.value.copy(w.color),w.emissive&&x.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(x.map.value=w.map,n(w.map,x.mapTransform)),w.alphaMap&&(x.alphaMap.value=w.alphaMap,n(w.alphaMap,x.alphaMapTransform)),w.bumpMap&&(x.bumpMap.value=w.bumpMap,n(w.bumpMap,x.bumpMapTransform),x.bumpScale.value=w.bumpScale,w.side===Sa&&(x.bumpScale.value*=-1)),w.normalMap&&(x.normalMap.value=w.normalMap,n(w.normalMap,x.normalMapTransform),x.normalScale.value.copy(w.normalScale),w.side===Sa&&x.normalScale.value.negate()),w.displacementMap&&(x.displacementMap.value=w.displacementMap,n(w.displacementMap,x.displacementMapTransform),x.displacementScale.value=w.displacementScale,x.displacementBias.value=w.displacementBias),w.emissiveMap&&(x.emissiveMap.value=w.emissiveMap,n(w.emissiveMap,x.emissiveMapTransform)),w.specularMap&&(x.specularMap.value=w.specularMap,n(w.specularMap,x.specularMapTransform)),w.alphaTest>0&&(x.alphaTest.value=w.alphaTest);const E=e.get(w).envMap;if(E&&(x.envMap.value=E,x.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=w.reflectivity,x.ior.value=w.ior,x.refractionRatio.value=w.refractionRatio),w.lightMap){x.lightMap.value=w.lightMap;const b=t.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=w.lightMapIntensity*b,n(w.lightMap,x.lightMapTransform)}w.aoMap&&(x.aoMap.value=w.aoMap,x.aoMapIntensity.value=w.aoMapIntensity,n(w.aoMap,x.aoMapTransform))}function o(x,w){x.diffuse.value.copy(w.color),x.opacity.value=w.opacity,w.map&&(x.map.value=w.map,n(w.map,x.mapTransform))}function s(x,w){x.dashSize.value=w.dashSize,x.totalSize.value=w.dashSize+w.gapSize,x.scale.value=w.scale}function l(x,w,E,b){x.diffuse.value.copy(w.color),x.opacity.value=w.opacity,x.size.value=w.size*E,x.scale.value=b*.5,w.map&&(x.map.value=w.map,n(w.map,x.uvTransform)),w.alphaMap&&(x.alphaMap.value=w.alphaMap,n(w.alphaMap,x.alphaMapTransform)),w.alphaTest>0&&(x.alphaTest.value=w.alphaTest)}function u(x,w){x.diffuse.value.copy(w.color),x.opacity.value=w.opacity,x.rotation.value=w.rotation,w.map&&(x.map.value=w.map,n(w.map,x.mapTransform)),w.alphaMap&&(x.alphaMap.value=w.alphaMap,n(w.alphaMap,x.alphaMapTransform)),w.alphaTest>0&&(x.alphaTest.value=w.alphaTest)}function f(x,w){x.specular.value.copy(w.specular),x.shininess.value=Math.max(w.shininess,1e-4)}function h(x,w){w.gradientMap&&(x.gradientMap.value=w.gradientMap)}function p(x,w){x.metalness.value=w.metalness,w.metalnessMap&&(x.metalnessMap.value=w.metalnessMap,n(w.metalnessMap,x.metalnessMapTransform)),x.roughness.value=w.roughness,w.roughnessMap&&(x.roughnessMap.value=w.roughnessMap,n(w.roughnessMap,x.roughnessMapTransform)),e.get(w).envMap&&(x.envMapIntensity.value=w.envMapIntensity)}function v(x,w,E){x.ior.value=w.ior,w.sheen>0&&(x.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),x.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(x.sheenColorMap.value=w.sheenColorMap,n(w.sheenColorMap,x.sheenColorMapTransform)),w.sheenRoughnessMap&&(x.sheenRoughnessMap.value=w.sheenRoughnessMap,n(w.sheenRoughnessMap,x.sheenRoughnessMapTransform))),w.clearcoat>0&&(x.clearcoat.value=w.clearcoat,x.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(x.clearcoatMap.value=w.clearcoatMap,n(w.clearcoatMap,x.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,n(w.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(x.clearcoatNormalMap.value=w.clearcoatNormalMap,n(w.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===Sa&&x.clearcoatNormalScale.value.negate())),w.iridescence>0&&(x.iridescence.value=w.iridescence,x.iridescenceIOR.value=w.iridescenceIOR,x.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(x.iridescenceMap.value=w.iridescenceMap,n(w.iridescenceMap,x.iridescenceMapTransform)),w.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=w.iridescenceThicknessMap,n(w.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),w.transmission>0&&(x.transmission.value=w.transmission,x.transmissionSamplerMap.value=E.texture,x.transmissionSamplerSize.value.set(E.width,E.height),w.transmissionMap&&(x.transmissionMap.value=w.transmissionMap,n(w.transmissionMap,x.transmissionMapTransform)),x.thickness.value=w.thickness,w.thicknessMap&&(x.thicknessMap.value=w.thicknessMap,n(w.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=w.attenuationDistance,x.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(x.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(x.anisotropyMap.value=w.anisotropyMap,n(w.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=w.specularIntensity,x.specularColor.value.copy(w.specularColor),w.specularColorMap&&(x.specularColorMap.value=w.specularColorMap,n(w.specularColorMap,x.specularColorMapTransform)),w.specularIntensityMap&&(x.specularIntensityMap.value=w.specularIntensityMap,n(w.specularIntensityMap,x.specularIntensityMapTransform))}function _(x,w){w.matcap&&(x.matcap.value=w.matcap)}function S(x,w){const E=e.get(w).light;x.referencePosition.value.setFromMatrixPosition(E.matrixWorld),x.nearDistance.value=E.shadow.camera.near,x.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function hre(t,e,n,r){let i={},a={},o=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(E,b){const T=b.program;r.uniformBlockBinding(E,T)}function u(E,b){let T=i[E.id];T===void 0&&(_(E),T=f(E),i[E.id]=T,E.addEventListener("dispose",x));const P=b.program;r.updateUBOMapping(E,P);const C=e.render.frame;a[E.id]!==C&&(p(E),a[E.id]=C)}function f(E){const b=h();E.__bindingPointIndex=b;const T=t.createBuffer(),P=E.__size,C=E.usage;return t.bindBuffer(t.UNIFORM_BUFFER,T),t.bufferData(t.UNIFORM_BUFFER,P,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,T),T}function h(){for(let E=0;E<s;E++)if(o.indexOf(E)===-1)return o.push(E),E;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(E){const b=i[E.id],T=E.uniforms,P=E.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let C=0,L=T.length;C<L;C++){const D=T[C];if(v(D,C,P)===!0){const I=D.__offset,F=Array.isArray(D.value)?D.value:[D.value];let z=0;for(let Y=0;Y<F.length;Y++){const H=F[Y],K=S(H);typeof H=="number"?(D.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,I+z,D.__data)):H.isMatrix3?(D.__data[0]=H.elements[0],D.__data[1]=H.elements[1],D.__data[2]=H.elements[2],D.__data[3]=H.elements[0],D.__data[4]=H.elements[3],D.__data[5]=H.elements[4],D.__data[6]=H.elements[5],D.__data[7]=H.elements[0],D.__data[8]=H.elements[6],D.__data[9]=H.elements[7],D.__data[10]=H.elements[8],D.__data[11]=H.elements[0]):(H.toArray(D.__data,z),z+=K.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,I,D.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(E,b,T){const P=E.value;if(T[b]===void 0){if(typeof P=="number")T[b]=P;else{const C=Array.isArray(P)?P:[P],L=[];for(let D=0;D<C.length;D++)L.push(C[D].clone());T[b]=L}return!0}else if(typeof P=="number"){if(T[b]!==P)return T[b]=P,!0}else{const C=Array.isArray(T[b])?T[b]:[T[b]],L=Array.isArray(P)?P:[P];for(let D=0;D<C.length;D++){const I=C[D];if(I.equals(L[D])===!1)return I.copy(L[D]),!0}}return!1}function _(E){const b=E.uniforms;let T=0;const P=16;let C=0;for(let L=0,D=b.length;L<D;L++){const I=b[L],F={boundary:0,storage:0},z=Array.isArray(I.value)?I.value:[I.value];for(let Y=0,H=z.length;Y<H;Y++){const K=z[Y],ee=S(K);F.boundary+=ee.boundary,F.storage+=ee.storage}if(I.__data=new Float32Array(F.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=T,L>0){C=T%P;const Y=P-C;C!==0&&Y-F.boundary<0&&(T+=P-C,I.__offset=T)}T+=F.storage}return C=T%P,C>0&&(T+=P-C),E.__size=T,E.__cache={},this}function S(E){const b={boundary:0,storage:0};return typeof E=="number"?(b.boundary=4,b.storage=4):E.isVector2?(b.boundary=8,b.storage=8):E.isVector3||E.isColor?(b.boundary=16,b.storage=12):E.isVector4?(b.boundary=16,b.storage=16):E.isMatrix3?(b.boundary=48,b.storage=48):E.isMatrix4?(b.boundary=64,b.storage=64):E.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",E),b}function x(E){const b=E.target;b.removeEventListener("dispose",x);const T=o.indexOf(b.__bindingPointIndex);o.splice(T,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function w(){for(const E in i)t.deleteBuffer(i[E]);o=[],i={},a={}}return{bind:l,update:u,dispose:w}}function dre(){const t=zv("canvas");return t.style.display="block",t}class nw{constructor(e={}){const{canvas:n=dre(),context:r=null,depth:i=!0,stencil:a=!0,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const v=new Uint32Array(4),_=new Int32Array(4);let S=null,x=null;const w=[],E=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=fn,this.useLegacyLights=!0,this.toneMapping=Ps,this.toneMappingExposure=1;const b=this;let T=!1,P=0,C=0,L=null,D=-1,I=null;const F=new Pn,z=new Pn;let Y=null;const H=new Mt(0);let K=0,ee=n.width,oe=n.height,ae=1,$=null,re=null;const J=new Pn(0,0,ee,oe),j=new Pn(0,0,ee,oe);let q=!1;const pe=new ew;let _e=!1,Re=!1,Ie=null;const Ye=new sn,Xe=new Ge,ke=new ne,Ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Fe(){return L===null?ae:1}let Z=r;function Ne(U,X){for(let se=0;se<U.length;se++){const ie=U[se],ce=n.getContext(ie,X);if(ce!==null)return ce}return null}try{const U={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${ky}`),n.addEventListener("webglcontextlost",we,!1),n.addEventListener("webglcontextrestored",Me,!1),n.addEventListener("webglcontextcreationerror",Qe,!1),Z===null){const X=["webgl2","webgl","experimental-webgl"];if(b.isWebGL1Renderer===!0&&X.shift(),Z=Ne(X,U),Z===null)throw Ne(X)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let be,qe,Be,ot,lt,dt,Tt,Bt,ln,le,Q,Le,tt,Ke,st,Et,ft,ze,zt,Ot,_t,St,he,Ue;function nt(){be=new Pte(Z),qe=new Ste(Z,be,e),be.init(qe),St=new r8(Z,be,qe),Be=new sre(Z,be,qe),ot=new Ote(Z),lt=new Yne,dt=new lre(Z,be,Be,lt,qe,St,ot),Tt=new Mte(b),Bt=new Tte(b),ln=new jJ(Z,qe),he=new _te(Z,be,ln,qe),le=new Cte(Z,ln,ot,he),Q=new Dte(Z,le,ln,ot),zt=new Nte(Z,qe,dt),Et=new bte(lt),Le=new Xne(b,Tt,Bt,be,qe,he,Et),tt=new fre(b,lt),Ke=new Zne,st=new rre(be,qe),ze=new xte(b,Tt,Bt,Be,Q,p,l),ft=new ore(b,Q,qe),Ue=new hre(Z,ot,qe,Be),Ot=new wte(Z,be,ot,qe),_t=new Rte(Z,be,ot,qe),ot.programs=Le.programs,b.capabilities=qe,b.extensions=be,b.properties=lt,b.renderLists=Ke,b.shadowMap=ft,b.state=Be,b.info=ot}nt();const de=new cre(b,Z);this.xr=de,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const U=be.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=be.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return ae},this.setPixelRatio=function(U){U!==void 0&&(ae=U,this.setSize(ee,oe,!1))},this.getSize=function(U){return U.set(ee,oe)},this.setSize=function(U,X,se=!0){if(de.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ee=U,oe=X,n.width=Math.floor(U*ae),n.height=Math.floor(X*ae),se===!0&&(n.style.width=U+"px",n.style.height=X+"px"),this.setViewport(0,0,U,X)},this.getDrawingBufferSize=function(U){return U.set(ee*ae,oe*ae).floor()},this.setDrawingBufferSize=function(U,X,se){ee=U,oe=X,ae=se,n.width=Math.floor(U*se),n.height=Math.floor(X*se),this.setViewport(0,0,U,X)},this.getCurrentViewport=function(U){return U.copy(F)},this.getViewport=function(U){return U.copy(J)},this.setViewport=function(U,X,se,ie){U.isVector4?J.set(U.x,U.y,U.z,U.w):J.set(U,X,se,ie),Be.viewport(F.copy(J).multiplyScalar(ae).floor())},this.getScissor=function(U){return U.copy(j)},this.setScissor=function(U,X,se,ie){U.isVector4?j.set(U.x,U.y,U.z,U.w):j.set(U,X,se,ie),Be.scissor(z.copy(j).multiplyScalar(ae).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function(U){Be.setScissorTest(q=U)},this.setOpaqueSort=function(U){$=U},this.setTransparentSort=function(U){re=U},this.getClearColor=function(U){return U.copy(ze.getClearColor())},this.setClearColor=function(){ze.setClearColor.apply(ze,arguments)},this.getClearAlpha=function(){return ze.getClearAlpha()},this.setClearAlpha=function(){ze.setClearAlpha.apply(ze,arguments)},this.clear=function(U=!0,X=!0,se=!0){let ie=0;if(U){let ce=!1;if(L!==null){const Ee=L.texture.format;ce=Ee===FR||Ee===UR||Ee===kR}if(ce){const Ee=L.texture.type,Pe=Ee===co||Ee===el||Ee===K1||Ee===_c||Ee===LR||Ee===NR,Ve=ze.getClearColor(),He=ze.getClearAlpha(),$e=Ve.r,Ce=Ve.g,wt=Ve.b;Pe?(v[0]=$e,v[1]=Ce,v[2]=wt,v[3]=He,Z.clearBufferuiv(Z.COLOR,0,v)):(_[0]=$e,_[1]=Ce,_[2]=wt,_[3]=He,Z.clearBufferiv(Z.COLOR,0,_))}else ie|=Z.COLOR_BUFFER_BIT}X&&(ie|=Z.DEPTH_BUFFER_BIT),se&&(ie|=Z.STENCIL_BUFFER_BIT),Z.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",we,!1),n.removeEventListener("webglcontextrestored",Me,!1),n.removeEventListener("webglcontextcreationerror",Qe,!1),Ke.dispose(),st.dispose(),lt.dispose(),Tt.dispose(),Bt.dispose(),Q.dispose(),he.dispose(),Ue.dispose(),Le.dispose(),de.dispose(),de.removeEventListener("sessionstart",bn),de.removeEventListener("sessionend",xr),Ie&&(Ie.dispose(),Ie=null),jn.stop()};function we(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function Me(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const U=ot.autoReset,X=ft.enabled,se=ft.autoUpdate,ie=ft.needsUpdate,ce=ft.type;nt(),ot.autoReset=U,ft.enabled=X,ft.autoUpdate=se,ft.needsUpdate=ie,ft.type=ce}function Qe(U){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function gt(U){const X=U.target;X.removeEventListener("dispose",gt),un(X)}function un(U){dn(U),lt.remove(U)}function dn(U){const X=lt.get(U).programs;X!==void 0&&(X.forEach(function(se){Le.releaseProgram(se)}),U.isShaderMaterial&&Le.releaseShaderCache(U))}this.renderBufferDirect=function(U,X,se,ie,ce,Ee){X===null&&(X=Ze);const Pe=ce.isMesh&&ce.matrixWorld.determinant()<0,Ve=Eu(U,X,se,ie,ce);Be.setMaterial(ie,Pe);let He=se.index,$e=1;ie.wireframe===!0&&(He=le.getWireframeAttribute(se),$e=2);const Ce=se.drawRange,wt=se.attributes.position;let ut=Ce.start*$e,pt=(Ce.start+Ce.count)*$e;Ee!==null&&(ut=Math.max(ut,Ee.start*$e),pt=Math.min(pt,(Ee.start+Ee.count)*$e)),He!==null?(ut=Math.max(ut,0),pt=Math.min(pt,He.count)):wt!=null&&(ut=Math.max(ut,0),pt=Math.min(pt,wt.count));const Dt=pt-ut;if(Dt<0||Dt===1/0)return;he.setup(ce,ie,Ve,se,He);let Ht,jt=Ot;if(He!==null&&(Ht=ln.get(He),jt=_t,jt.setIndex(Ht)),ce.isMesh)ie.wireframe===!0?(Be.setLineWidth(ie.wireframeLinewidth*Fe()),jt.setMode(Z.LINES)):jt.setMode(Z.TRIANGLES);else if(ce.isLine){let yt=ie.linewidth;yt===void 0&&(yt=1),Be.setLineWidth(yt*Fe()),ce.isLineSegments?jt.setMode(Z.LINES):ce.isLineLoop?jt.setMode(Z.LINE_LOOP):jt.setMode(Z.LINE_STRIP)}else ce.isPoints?jt.setMode(Z.POINTS):ce.isSprite&&jt.setMode(Z.TRIANGLES);if(ce.isInstancedMesh)jt.renderInstances(ut,Dt,ce.count);else if(se.isInstancedBufferGeometry){const yt=se._maxInstanceCount!==void 0?se._maxInstanceCount:1/0,Ut=Math.min(se.instanceCount,yt);jt.renderInstances(ut,Dt,Ut)}else jt.render(ut,Dt)},this.compile=function(U,X){function se(ie,ce,Ee){ie.transparent===!0&&ie.side===Fo&&ie.forceSinglePass===!1?(ie.side=Sa,ie.needsUpdate=!0,Ur(ie,ce,Ee),ie.side=hu,ie.needsUpdate=!0,Ur(ie,ce,Ee),ie.side=Fo):Ur(ie,ce,Ee)}x=st.get(U),x.init(),E.push(x),U.traverseVisible(function(ie){ie.isLight&&ie.layers.test(X.layers)&&(x.pushLight(ie),ie.castShadow&&x.pushShadow(ie))}),x.setupLights(b.useLegacyLights),U.traverse(function(ie){const ce=ie.material;if(ce)if(Array.isArray(ce))for(let Ee=0;Ee<ce.length;Ee++){const Pe=ce[Ee];se(Pe,U,ie)}else se(ce,U,ie)}),E.pop(),x=null};let An=null;function yr(U){An&&An(U)}function bn(){jn.stop()}function xr(){jn.start()}const jn=new JH;jn.setAnimationLoop(yr),typeof self<"u"&&jn.setContext(self),this.setAnimationLoop=function(U){An=U,de.setAnimationLoop(U),U===null?jn.stop():jn.start()},de.addEventListener("sessionstart",bn),de.addEventListener("sessionend",xr),this.render=function(U,X){if(X!==void 0&&X.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),X.parent===null&&X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),de.enabled===!0&&de.isPresenting===!0&&(de.cameraAutoUpdate===!0&&de.updateCamera(X),X=de.getCamera()),U.isScene===!0&&U.onBeforeRender(b,U,X,L),x=st.get(U,E.length),x.init(),E.push(x),Ye.multiplyMatrices(X.projectionMatrix,X.matrixWorldInverse),pe.setFromProjectionMatrix(Ye),Re=this.localClippingEnabled,_e=Et.init(this.clippingPlanes,Re),S=Ke.get(U,w.length),S.init(),w.push(S),Us(U,X,0,b.sortObjects),S.finish(),b.sortObjects===!0&&S.sort($,re),this.info.render.frame++,_e===!0&&Et.beginShadows();const se=x.state.shadowsArray;if(ft.render(se,U,X),_e===!0&&Et.endShadows(),this.info.autoReset===!0&&this.info.reset(),ze.render(S,U),x.setupLights(b.useLegacyLights),X.isArrayCamera){const ie=X.cameras;for(let ce=0,Ee=ie.length;ce<Ee;ce++){const Pe=ie[ce];yo(S,U,Pe,Pe.viewport)}}else yo(S,U,X);L!==null&&(dt.updateMultisampleRenderTarget(L),dt.updateRenderTargetMipmap(L)),U.isScene===!0&&U.onAfterRender(b,U,X),he.resetDefaultState(),D=-1,I=null,E.pop(),E.length>0?x=E[E.length-1]:x=null,w.pop(),w.length>0?S=w[w.length-1]:S=null};function Us(U,X,se,ie){if(U.visible===!1)return;if(U.layers.test(X.layers)){if(U.isGroup)se=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(X);else if(U.isLight)x.pushLight(U),U.castShadow&&x.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||pe.intersectsSprite(U)){ie&&ke.setFromMatrixPosition(U.matrixWorld).applyMatrix4(Ye);const Pe=Q.update(U),Ve=U.material;Ve.visible&&S.push(U,Pe,Ve,se,ke.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(!U.frustumCulled||pe.intersectsObject(U))){const Pe=Q.update(U),Ve=U.material;if(ie&&(U.boundingSphere!==void 0?(U.boundingSphere===null&&U.computeBoundingSphere(),ke.copy(U.boundingSphere.center)):(Pe.boundingSphere===null&&Pe.computeBoundingSphere(),ke.copy(Pe.boundingSphere.center)),ke.applyMatrix4(U.matrixWorld).applyMatrix4(Ye)),Array.isArray(Ve)){const He=Pe.groups;for(let $e=0,Ce=He.length;$e<Ce;$e++){const wt=He[$e],ut=Ve[wt.materialIndex];ut&&ut.visible&&S.push(U,Pe,ut,se,ke.z,wt)}}else Ve.visible&&S.push(U,Pe,Ve,se,ke.z,null)}}const Ee=U.children;for(let Pe=0,Ve=Ee.length;Pe<Ve;Pe++)Us(Ee[Pe],X,se,ie)}function yo(U,X,se,ie){const ce=U.opaque,Ee=U.transmissive,Pe=U.transparent;x.setupLightsView(se),_e===!0&&Et.setGlobalState(b.clippingPlanes,se),Ee.length>0&&Go(ce,Ee,X,se),ie&&Be.viewport(F.copy(ie)),ce.length>0&&ji(ce,X,se),Ee.length>0&&ji(Ee,X,se),Pe.length>0&&ji(Pe,X,se),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function Go(U,X,se,ie){const ce=qe.isWebGL2;Ie===null&&(Ie=new mo(1,1,{generateMipmaps:!0,type:be.has("EXT_color_buffer_half_float")?Ai:co,minFilter:Cc,samples:ce?4:0})),b.getDrawingBufferSize(Xe),ce?Ie.setSize(Xe.x,Xe.y):Ie.setSize(B_(Xe.x),B_(Xe.y));const Ee=b.getRenderTarget();b.setRenderTarget(Ie),b.getClearColor(H),K=b.getClearAlpha(),K<1&&b.setClearColor(16777215,.5),b.clear();const Pe=b.toneMapping;b.toneMapping=Ps,ji(U,se,ie),dt.updateMultisampleRenderTarget(Ie),dt.updateRenderTargetMipmap(Ie);let Ve=!1;for(let He=0,$e=X.length;He<$e;He++){const Ce=X[He],wt=Ce.object,ut=Ce.geometry,pt=Ce.material,Dt=Ce.group;if(pt.side===Fo&&wt.layers.test(ie.layers)){const Ht=pt.side;pt.side=Sa,pt.needsUpdate=!0,ra(wt,se,ie,ut,pt,Dt),pt.side=Ht,pt.needsUpdate=!0,Ve=!0}}Ve===!0&&(dt.updateMultisampleRenderTarget(Ie),dt.updateRenderTargetMipmap(Ie)),b.setRenderTarget(Ee),b.setClearColor(H,K),b.toneMapping=Pe}function ji(U,X,se){const ie=X.isScene===!0?X.overrideMaterial:null;for(let ce=0,Ee=U.length;ce<Ee;ce++){const Pe=U[ce],Ve=Pe.object,He=Pe.geometry,$e=ie===null?Pe.material:ie,Ce=Pe.group;Ve.layers.test(se.layers)&&ra(Ve,X,se,He,$e,Ce)}}function ra(U,X,se,ie,ce,Ee){U.onBeforeRender(b,X,se,ie,ce,Ee),U.modelViewMatrix.multiplyMatrices(se.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),ce.onBeforeRender(b,X,se,ie,U,Ee),ce.transparent===!0&&ce.side===Fo&&ce.forceSinglePass===!1?(ce.side=Sa,ce.needsUpdate=!0,b.renderBufferDirect(se,X,ie,ce,U,Ee),ce.side=hu,ce.needsUpdate=!0,b.renderBufferDirect(se,X,ie,ce,U,Ee),ce.side=Fo):b.renderBufferDirect(se,X,ie,ce,U,Ee),U.onAfterRender(b,X,se,ie,ce,Ee)}function Ur(U,X,se){X.isScene!==!0&&(X=Ze);const ie=lt.get(U),ce=x.state.lights,Ee=x.state.shadowsArray,Pe=ce.state.version,Ve=Le.getParameters(U,ce.state,Ee,X,se),He=Le.getProgramCacheKey(Ve);let $e=ie.programs;ie.environment=U.isMeshStandardMaterial?X.environment:null,ie.fog=X.fog,ie.envMap=(U.isMeshStandardMaterial?Bt:Tt).get(U.envMap||ie.environment),$e===void 0&&(U.addEventListener("dispose",gt),$e=new Map,ie.programs=$e);let Ce=$e.get(He);if(Ce!==void 0){if(ie.currentProgram===Ce&&ie.lightsStateVersion===Pe)return an(U,Ve),Ce}else Ve.uniforms=Le.getUniforms(U),U.onBuild(se,Ve,b),U.onBeforeCompile(Ve,b),Ce=Le.acquireProgram(Ve,He),$e.set(He,Ce),ie.uniforms=Ve.uniforms;const wt=ie.uniforms;(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(wt.clippingPlanes=Et.uniform),an(U,Ve),ie.needsLights=V(U),ie.lightsStateVersion=Pe,ie.needsLights&&(wt.ambientLightColor.value=ce.state.ambient,wt.lightProbe.value=ce.state.probe,wt.directionalLights.value=ce.state.directional,wt.directionalLightShadows.value=ce.state.directionalShadow,wt.spotLights.value=ce.state.spot,wt.spotLightShadows.value=ce.state.spotShadow,wt.rectAreaLights.value=ce.state.rectArea,wt.ltc_1.value=ce.state.rectAreaLTC1,wt.ltc_2.value=ce.state.rectAreaLTC2,wt.pointLights.value=ce.state.point,wt.pointLightShadows.value=ce.state.pointShadow,wt.hemisphereLights.value=ce.state.hemi,wt.directionalShadowMap.value=ce.state.directionalShadowMap,wt.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,wt.spotShadowMap.value=ce.state.spotShadowMap,wt.spotLightMatrix.value=ce.state.spotLightMatrix,wt.spotLightMap.value=ce.state.spotLightMap,wt.pointShadowMap.value=ce.state.pointShadowMap,wt.pointShadowMatrix.value=ce.state.pointShadowMatrix);const ut=Ce.getUniforms(),pt=E_.seqWithValue(ut.seq,wt);return ie.currentProgram=Ce,ie.uniformsList=pt,Ce}function an(U,X){const se=lt.get(U);se.outputColorSpace=X.outputColorSpace,se.instancing=X.instancing,se.skinning=X.skinning,se.morphTargets=X.morphTargets,se.morphNormals=X.morphNormals,se.morphColors=X.morphColors,se.morphTargetsCount=X.morphTargetsCount,se.numClippingPlanes=X.numClippingPlanes,se.numIntersection=X.numClipIntersection,se.vertexAlphas=X.vertexAlphas,se.vertexTangents=X.vertexTangents,se.toneMapping=X.toneMapping}function Eu(U,X,se,ie,ce){X.isScene!==!0&&(X=Ze),dt.resetTextureUnits();const Ee=X.fog,Pe=ie.isMeshStandardMaterial?X.environment:null,Ve=L===null?b.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:Ha,He=(ie.isMeshStandardMaterial?Bt:Tt).get(ie.envMap||Pe),$e=ie.vertexColors===!0&&!!se.attributes.color&&se.attributes.color.itemSize===4,Ce=!!se.attributes.tangent&&(!!ie.normalMap||ie.anisotropy>0),wt=!!se.morphAttributes.position,ut=!!se.morphAttributes.normal,pt=!!se.morphAttributes.color,Dt=ie.toneMapped?b.toneMapping:Ps,Ht=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,jt=Ht!==void 0?Ht.length:0,yt=lt.get(ie),Ut=x.state.lights;if(_e===!0&&(Re===!0||U!==I)){const Kt=U===I&&ie.id===D;Et.setState(ie,U,Kt)}let It=!1;ie.version===yt.__version?(yt.needsLights&&yt.lightsStateVersion!==Ut.state.version||yt.outputColorSpace!==Ve||ce.isInstancedMesh&&yt.instancing===!1||!ce.isInstancedMesh&&yt.instancing===!0||ce.isSkinnedMesh&&yt.skinning===!1||!ce.isSkinnedMesh&&yt.skinning===!0||yt.envMap!==He||ie.fog===!0&&yt.fog!==Ee||yt.numClippingPlanes!==void 0&&(yt.numClippingPlanes!==Et.numPlanes||yt.numIntersection!==Et.numIntersection)||yt.vertexAlphas!==$e||yt.vertexTangents!==Ce||yt.morphTargets!==wt||yt.morphNormals!==ut||yt.morphColors!==pt||yt.toneMapping!==Dt||qe.isWebGL2===!0&&yt.morphTargetsCount!==jt)&&(It=!0):(It=!0,yt.__version=ie.version);let Vt=yt.currentProgram;It===!0&&(Vt=Ur(ie,X,ce));let Dn=!1,Zt=!1,kn=!1;const Mn=Vt.getUniforms(),On=yt.uniforms;if(Be.useProgram(Vt.program)&&(Dn=!0,Zt=!0,kn=!0),ie.id!==D&&(D=ie.id,Zt=!0),Dn||I!==U){if(Mn.setValue(Z,"projectionMatrix",U.projectionMatrix),qe.logarithmicDepthBuffer&&Mn.setValue(Z,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),I!==U&&(I=U,Zt=!0,kn=!0),ie.isShaderMaterial||ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshStandardMaterial||ie.envMap){const Kt=Mn.map.cameraPosition;Kt!==void 0&&Kt.setValue(Z,ke.setFromMatrixPosition(U.matrixWorld))}(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial)&&Mn.setValue(Z,"isOrthographic",U.isOrthographicCamera===!0),(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial||ie.isShadowMaterial||ce.isSkinnedMesh)&&Mn.setValue(Z,"viewMatrix",U.matrixWorldInverse)}if(ce.isSkinnedMesh){Mn.setOptional(Z,ce,"bindMatrix"),Mn.setOptional(Z,ce,"bindMatrixInverse");const Kt=ce.skeleton;Kt&&(qe.floatVertexTextures?(Kt.boneTexture===null&&Kt.computeBoneTexture(),Mn.setValue(Z,"boneTexture",Kt.boneTexture,dt),Mn.setValue(Z,"boneTextureSize",Kt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const er=se.morphAttributes;if((er.position!==void 0||er.normal!==void 0||er.color!==void 0&&qe.isWebGL2===!0)&&zt.update(ce,se,Vt),(Zt||yt.receiveShadow!==ce.receiveShadow)&&(yt.receiveShadow=ce.receiveShadow,Mn.setValue(Z,"receiveShadow",ce.receiveShadow)),ie.isMeshGouraudMaterial&&ie.envMap!==null&&(On.envMap.value=He,On.flipEnvMap.value=He.isCubeTexture&&He.isRenderTargetTexture===!1?-1:1),Zt&&(Mn.setValue(Z,"toneMappingExposure",b.toneMappingExposure),yt.needsLights&&zc(On,kn),Ee&&ie.fog===!0&&tt.refreshFogUniforms(On,Ee),tt.refreshMaterialUniforms(On,ie,ae,oe,Ie),E_.upload(Z,yt.uniformsList,On,dt)),ie.isShaderMaterial&&ie.uniformsNeedUpdate===!0&&(E_.upload(Z,yt.uniformsList,On,dt),ie.uniformsNeedUpdate=!1),ie.isSpriteMaterial&&Mn.setValue(Z,"center",ce.center),Mn.setValue(Z,"modelViewMatrix",ce.modelViewMatrix),Mn.setValue(Z,"normalMatrix",ce.normalMatrix),Mn.setValue(Z,"modelMatrix",ce.matrixWorld),ie.isShaderMaterial||ie.isRawShaderMaterial){const Kt=ie.uniformsGroups;for(let dr=0,In=Kt.length;dr<In;dr++)if(qe.isWebGL2){const xn=Kt[dr];Ue.update(xn,Vt),Ue.bind(xn,Vt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Vt}function zc(U,X){U.ambientLightColor.needsUpdate=X,U.lightProbe.needsUpdate=X,U.directionalLights.needsUpdate=X,U.directionalLightShadows.needsUpdate=X,U.pointLights.needsUpdate=X,U.pointLightShadows.needsUpdate=X,U.spotLights.needsUpdate=X,U.spotLightShadows.needsUpdate=X,U.rectAreaLights.needsUpdate=X,U.hemisphereLights.needsUpdate=X}function V(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(U,X,se){lt.get(U.texture).__webglTexture=X,lt.get(U.depthTexture).__webglTexture=se;const ie=lt.get(U);ie.__hasExternalTextures=!0,ie.__hasExternalTextures&&(ie.__autoAllocateDepthBuffer=se===void 0,ie.__autoAllocateDepthBuffer||be.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(U,X){const se=lt.get(U);se.__webglFramebuffer=X,se.__useDefaultFramebuffer=X===void 0},this.setRenderTarget=function(U,X=0,se=0){L=U,P=X,C=se;let ie=!0,ce=null,Ee=!1,Pe=!1;if(U){const He=lt.get(U);He.__useDefaultFramebuffer!==void 0?(Be.bindFramebuffer(Z.FRAMEBUFFER,null),ie=!1):He.__webglFramebuffer===void 0?dt.setupRenderTarget(U):He.__hasExternalTextures&&dt.rebindTextures(U,lt.get(U.texture).__webglTexture,lt.get(U.depthTexture).__webglTexture);const $e=U.texture;($e.isData3DTexture||$e.isDataArrayTexture||$e.isCompressedArrayTexture)&&(Pe=!0);const Ce=lt.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(ce=Ce[X],Ee=!0):qe.isWebGL2&&U.samples>0&&dt.useMultisampledRTT(U)===!1?ce=lt.get(U).__webglMultisampledFramebuffer:ce=Ce,F.copy(U.viewport),z.copy(U.scissor),Y=U.scissorTest}else F.copy(J).multiplyScalar(ae).floor(),z.copy(j).multiplyScalar(ae).floor(),Y=q;if(Be.bindFramebuffer(Z.FRAMEBUFFER,ce)&&qe.drawBuffers&&ie&&Be.drawBuffers(U,ce),Be.viewport(F),Be.scissor(z),Be.setScissorTest(Y),Ee){const He=lt.get(U.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+X,He.__webglTexture,se)}else if(Pe){const He=lt.get(U.texture),$e=X||0;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,He.__webglTexture,se||0,$e)}D=-1},this.readRenderTargetPixels=function(U,X,se,ie,ce,Ee,Pe){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ve=lt.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&Pe!==void 0&&(Ve=Ve[Pe]),Ve){Be.bindFramebuffer(Z.FRAMEBUFFER,Ve);try{const He=U.texture,$e=He.format,Ce=He.type;if($e!==fi&&St.convert($e)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wt=Ce===Ai&&(be.has("EXT_color_buffer_half_float")||qe.isWebGL2&&be.has("EXT_color_buffer_float"));if(Ce!==co&&St.convert(Ce)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ce===hi&&(qe.isWebGL2||be.has("OES_texture_float")||be.has("WEBGL_color_buffer_float")))&&!wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}X>=0&&X<=U.width-ie&&se>=0&&se<=U.height-ce&&Z.readPixels(X,se,ie,ce,St.convert($e),St.convert(Ce),Ee)}finally{const He=L!==null?lt.get(L).__webglFramebuffer:null;Be.bindFramebuffer(Z.FRAMEBUFFER,He)}}},this.copyFramebufferToTexture=function(U,X,se=0){const ie=Math.pow(2,-se),ce=Math.floor(X.image.width*ie),Ee=Math.floor(X.image.height*ie);dt.setTexture2D(X,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,se,0,0,U.x,U.y,ce,Ee),Be.unbindTexture()},this.copyTextureToTexture=function(U,X,se,ie=0){const ce=X.image.width,Ee=X.image.height,Pe=St.convert(se.format),Ve=St.convert(se.type);dt.setTexture2D(se,0),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,se.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,se.unpackAlignment),X.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,ie,U.x,U.y,ce,Ee,Pe,Ve,X.image.data):X.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,ie,U.x,U.y,X.mipmaps[0].width,X.mipmaps[0].height,Pe,X.mipmaps[0].data):Z.texSubImage2D(Z.TEXTURE_2D,ie,U.x,U.y,Pe,Ve,X.image),ie===0&&se.generateMipmaps&&Z.generateMipmap(Z.TEXTURE_2D),Be.unbindTexture()},this.copyTextureToTexture3D=function(U,X,se,ie,ce=0){if(b.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ee=U.max.x-U.min.x+1,Pe=U.max.y-U.min.y+1,Ve=U.max.z-U.min.z+1,He=St.convert(ie.format),$e=St.convert(ie.type);let Ce;if(ie.isData3DTexture)dt.setTexture3D(ie,0),Ce=Z.TEXTURE_3D;else if(ie.isDataArrayTexture)dt.setTexture2DArray(ie,0),Ce=Z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,ie.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,ie.unpackAlignment);const wt=Z.getParameter(Z.UNPACK_ROW_LENGTH),ut=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),pt=Z.getParameter(Z.UNPACK_SKIP_PIXELS),Dt=Z.getParameter(Z.UNPACK_SKIP_ROWS),Ht=Z.getParameter(Z.UNPACK_SKIP_IMAGES),jt=se.isCompressedTexture?se.mipmaps[0]:se.image;Z.pixelStorei(Z.UNPACK_ROW_LENGTH,jt.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,jt.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,U.min.x),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,U.min.y),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,U.min.z),se.isDataTexture||se.isData3DTexture?Z.texSubImage3D(Ce,ce,X.x,X.y,X.z,Ee,Pe,Ve,He,$e,jt.data):se.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(Ce,ce,X.x,X.y,X.z,Ee,Pe,Ve,He,jt.data)):Z.texSubImage3D(Ce,ce,X.x,X.y,X.z,Ee,Pe,Ve,He,$e,jt),Z.pixelStorei(Z.UNPACK_ROW_LENGTH,wt),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,ut),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,pt),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Dt),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Ht),ce===0&&ie.generateMipmaps&&Z.generateMipmap(Ce),Be.unbindTexture()},this.initTexture=function(U){U.isCubeTexture?dt.setTextureCube(U,0):U.isData3DTexture?dt.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?dt.setTexture2DArray(U,0):dt.setTexture2D(U,0),Be.unbindTexture()},this.resetState=function(){P=0,C=0,L=null,Be.reset(),he.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return tl}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===fn?Sc:zR}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Sc?fn:Ha}}class o8 extends nw{}o8.prototype.isWebGL1Renderer=!0;class rw{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Mt(e),this.density=n}clone(){return new rw(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class iw{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Mt(e),this.near=n,this.far=r}clone(){return new iw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class jy extends Fn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class aw{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Fv,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=fo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const pa=new ne;class uo{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)pa.fromBufferAttribute(this,n),pa.applyMatrix4(e),this.setXYZ(n,pa.x,pa.y,pa.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)pa.fromBufferAttribute(this,n),pa.applyNormalMatrix(e),this.setXYZ(n,pa.x,pa.y,pa.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)pa.fromBufferAttribute(this,n),pa.transformDirection(e),this.setXYZ(n,pa.x,pa.y,pa.z);return this}setX(e,n){return this.normalized&&(n=vn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=vn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=vn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=vn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=lo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=lo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=lo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=lo(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=vn(n,this.array),r=vn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=vn(n,this.array),r=vn(r,this.array),i=vn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=vn(n,this.array),r=vn(r,this.array),i=vn(i,this.array),a=vn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new or(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new uo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ZR extends na{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Qd;const Ig=new ne,ep=new ne,tp=new ne,np=new Ge,Lg=new Ge,s8=new sn,bx=new ne,Ng=new ne,Mx=new ne,jD=new Ge,Rb=new Ge,VD=new Ge;class l8 extends Fn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Qd===void 0){Qd=new yn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new aw(n,5);Qd.setIndex([0,1,2,0,2,3]),Qd.setAttribute("position",new uo(r,3,0,!1)),Qd.setAttribute("uv",new uo(r,2,3,!1))}this.geometry=Qd,this.material=e!==void 0?e:new ZR,this.center=new Ge(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ep.setFromMatrixScale(this.matrixWorld),s8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),tp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ep.multiplyScalar(-tp.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;Ex(bx.set(-.5,-.5,0),tp,o,ep,i,a),Ex(Ng.set(.5,-.5,0),tp,o,ep,i,a),Ex(Mx.set(.5,.5,0),tp,o,ep,i,a),jD.set(0,0),Rb.set(1,0),VD.set(1,1);let s=e.ray.intersectTriangle(bx,Ng,Mx,!1,Ig);if(s===null&&(Ex(Ng.set(-.5,.5,0),tp,o,ep,i,a),Rb.set(0,1),s=e.ray.intersectTriangle(bx,Mx,Ng,!1,Ig),s===null))return;const l=e.ray.origin.distanceTo(Ig);l<e.near||l>e.far||n.push({distance:l,point:Ig.clone(),uv:Ba.getInterpolation(Ig,bx,Ng,Mx,jD,Rb,VD,new Ge),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ex(t,e,n,r,i,a){np.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Lg.x=a*np.x-i*np.y,Lg.y=i*np.x+a*np.y):Lg.copy(np),t.copy(e),t.x+=Lg.x,t.y+=Lg.y,t.applyMatrix4(s8)}const Ax=new ne,HD=new ne;class u8 extends Fn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let a;for(a=0;a<i.length&&!(n<i[a].distance);a++);return i.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Ax.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ax);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Ax.setFromMatrixPosition(e.matrixWorld),HD.setFromMatrixPosition(this.matrixWorld);const r=Ax.distanceTo(HD)/e.zoom;n[0].object.visible=!0;let i,a;for(i=1,a=n.length;i<a;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const WD=new ne,GD=new Pn,$D=new Pn,pre=new ne,qD=new sn,rp=new ne,Ob=new vo,XD=new sn,Ib=new Rh;class c8 extends Gr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new sn,this.bindMatrixInverse=new sn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new go),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)rp.fromBufferAttribute(n,r),this.applyBoneTransform(r,rp),this.boundingBox.expandByPoint(rp)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new vo),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)rp.fromBufferAttribute(n,r),this.applyBoneTransform(r,rp),this.boundingSphere.expandByPoint(rp)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ob.copy(this.boundingSphere),Ob.applyMatrix4(i),e.ray.intersectsSphere(Ob)!==!1&&(XD.copy(i).invert(),Ib.copy(e.ray).applyMatrix4(XD),!(this.boundingBox!==null&&Ib.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,Ib)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Pn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;GD.fromBufferAttribute(i.attributes.skinIndex,e),$D.fromBufferAttribute(i.attributes.skinWeight,e),WD.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=$D.getComponent(a);if(o!==0){const s=GD.getComponent(a);qD.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(pre.copy(WD).applyMatrix4(qD),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class JR extends Fn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hh extends ir{constructor(e=null,n=1,r=1,i,a,o,s,l,u=Wr,f=Wr,h,p){super(null,o,s,l,u,f,i,a,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const YD=new sn,mre=new sn;class ow{constructor(e=[],n=[]){this.uuid=fo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new sn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new sn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:mre;YD.multiplyMatrices(s,n[a]),YD.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new ow(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=$H(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new hh(n,e,e,fi,hi);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=n[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new JR),this.bones.push(o),this.boneInverses.push(new sn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const o=n[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Bp extends or{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ip=new sn,KD=new sn,Tx=[],ZD=new go,gre=new sn,Dg=new Gr,kg=new vo;class f8 extends Gr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Bp(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,gre)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new go),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ip),ZD.copy(e.boundingBox).applyMatrix4(ip),this.boundingBox.union(ZD)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new vo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ip),kg.copy(e.boundingSphere).applyMatrix4(ip),this.boundingSphere.union(kg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Dg.geometry=this.geometry,Dg.material=this.material,Dg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),kg.copy(this.boundingSphere),kg.applyMatrix4(r),e.ray.intersectsSphere(kg)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,ip),KD.multiplyMatrices(r,ip),Dg.matrixWorld=KD,Dg.raycast(e,Tx);for(let o=0,s=Tx.length;o<s;o++){const l=Tx[o];l.instanceId=a,l.object=this,n.push(l)}Tx.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Bp(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ba extends na{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const JD=new ne,QD=new ne,e3=new sn,Lb=new Rh,Px=new vo;let Rc=class extends Fn{constructor(e=new yn,n=new ba){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)JD.fromBufferAttribute(n,i-1),QD.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=JD.distanceTo(QD);e.setAttribute("lineDistance",new Lt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Px.copy(r.boundingSphere),Px.applyMatrix4(i),Px.radius+=a,e.ray.intersectsSphere(Px)===!1)return;e3.copy(i).invert(),Lb.copy(e.ray).applyMatrix4(e3);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=new ne,f=new ne,h=new ne,p=new ne,v=this.isLineSegments?2:1,_=r.index,x=r.attributes.position;if(_!==null){const w=Math.max(0,o.start),E=Math.min(_.count,o.start+o.count);for(let b=w,T=E-1;b<T;b+=v){const P=_.getX(b),C=_.getX(b+1);if(u.fromBufferAttribute(x,P),f.fromBufferAttribute(x,C),Lb.distanceSqToSegment(u,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(p);D<e.near||D>e.far||n.push({distance:D,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),E=Math.min(x.count,o.start+o.count);for(let b=w,T=E-1;b<T;b+=v){if(u.fromBufferAttribute(x,b),f.fromBufferAttribute(x,b+1),Lb.distanceSqToSegment(u,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||n.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}};const t3=new ne,n3=new ne;class hl extends Rc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)t3.fromBufferAttribute(n,i),n3.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+t3.distanceTo(n3);e.setAttribute("lineDistance",new Lt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class h8 extends Rc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class QR extends na{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const r3=new sn,lC=new Rh,Cx=new vo,Rx=new ne;class d8 extends Fn{constructor(e=new yn,n=new QR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Cx.copy(r.boundingSphere),Cx.applyMatrix4(i),Cx.radius+=a,e.ray.intersectsSphere(Cx)===!1)return;r3.copy(i).invert(),lC.copy(e.ray).applyMatrix4(r3);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,h=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let _=p,S=v;_<S;_++){const x=u.getX(_);Rx.fromBufferAttribute(h,x),i3(Rx,x,l,i,e,n,this)}}else{const p=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let _=p,S=v;_<S;_++)Rx.fromBufferAttribute(h,_),i3(Rx,_,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function i3(t,e,n,r,i,a,o){const s=lC.distanceSqToPoint(t);if(s<n){const l=new ne;lC.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}class vre extends ir{constructor(e,n,r,i,a,o,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:zn,this.magFilter=a!==void 0?a:zn,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class yre extends ir{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Wr,this.minFilter=Wr,this.generateMipmaps=!1,this.needsUpdate=!0}}class eO extends ir{constructor(e,n,r,i,a,o,s,l,u,f,h,p){super(null,o,s,l,u,f,i,a,h,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xre extends eO{constructor(e,n,r,i,a,o){super(e,n,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=br}}class _re extends ir{constructor(e,n,r,i,a,o,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}let Ls=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const a=r.length;let o;n?o=n:o=e*r[a-1];let s=0,l=a-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-o,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const f=r[i],p=r[i+1]-f,v=(o-f)/p;return(i+v)/(a-1)}getTangent(e,n){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=n||(o.isVector2?new Ge:new ne);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ne,i=[],a=[],o=[],s=new ne,l=new sn;for(let v=0;v<=e;v++){const _=v/e;i[v]=this.getTangentAt(_,new ne)}a[0]=new ne,o[0]=new ne;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),p<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let v=1;v<=e;v++){if(a[v]=a[v-1].clone(),o[v]=o[v-1].clone(),s.crossVectors(i[v-1],i[v]),s.length()>Number.EPSILON){s.normalize();const _=Math.acos(kr(i[v-1].dot(i[v]),-1,1));a[v].applyMatrix4(l.makeRotationAxis(s,_))}o[v].crossVectors(i[v],a[v])}if(n===!0){let v=Math.acos(kr(a[0].dot(a[e]),-1,1));v/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(v=-v);for(let _=1;_<=e;_++)a[_].applyMatrix4(l.makeRotationAxis(i[_],v*_)),o[_].crossVectors(i[_],a[_])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class sw extends Ls{constructor(e=0,n=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,n){const r=n||new Ge,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,v=u-this.aY;l=p*f-v*h+this.aX,u=p*h+v*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class p8 extends sw{constructor(e,n,r,i,a,o){super(e,n,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function tO(){let t=0,e=0,n=0,r=0;function i(a,o,s,l){t=a,e=s,n=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){i(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,f,h){let p=(o-a)/u-(s-a)/(u+f)+(s-o)/f,v=(s-o)/f-(l-o)/(f+h)+(l-s)/h;p*=f,v*=f,i(o,s,p,v)},calc:function(a){const o=a*a,s=o*a;return t+e*a+n*o+r*s}}}const Ox=new ne,Nb=new tO,Db=new tO,kb=new tO;class m8 extends Ls{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ne){const r=n,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,f;this.closed||s>0?u=i[(s-1)%a]:(Ox.subVectors(i[0],i[1]).add(i[0]),u=Ox);const h=i[s%a],p=i[(s+1)%a];if(this.closed||s+2<a?f=i[(s+2)%a]:(Ox.subVectors(i[a-1],i[a-2]).add(i[a-1]),f=Ox),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(u.distanceToSquared(h),v),S=Math.pow(h.distanceToSquared(p),v),x=Math.pow(p.distanceToSquared(f),v);S<1e-4&&(S=1),_<1e-4&&(_=S),x<1e-4&&(x=S),Nb.initNonuniformCatmullRom(u.x,h.x,p.x,f.x,_,S,x),Db.initNonuniformCatmullRom(u.y,h.y,p.y,f.y,_,S,x),kb.initNonuniformCatmullRom(u.z,h.z,p.z,f.z,_,S,x)}else this.curveType==="catmullrom"&&(Nb.initCatmullRom(u.x,h.x,p.x,f.x,this.tension),Db.initCatmullRom(u.y,h.y,p.y,f.y,this.tension),kb.initCatmullRom(u.z,h.z,p.z,f.z,this.tension));return r.set(Nb.calc(l),Db.calc(l),kb.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ne().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function a3(t,e,n,r,i){const a=(r-e)*.5,o=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+a+o)*l+(-3*n+3*r-2*a-o)*s+a*t+n}function wre(t,e){const n=1-t;return n*n*e}function Sre(t,e){return 2*(1-t)*t*e}function bre(t,e){return t*t*e}function vv(t,e,n,r){return wre(t,e)+Sre(t,n)+bre(t,r)}function Mre(t,e){const n=1-t;return n*n*n*e}function Ere(t,e){const n=1-t;return 3*n*n*t*e}function Are(t,e){return 3*(1-t)*t*t*e}function Tre(t,e){return t*t*t*e}function yv(t,e,n,r,i){return Mre(t,e)+Ere(t,n)+Are(t,r)+Tre(t,i)}class nO extends Ls{constructor(e=new Ge,n=new Ge,r=new Ge,i=new Ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ge){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(yv(e,i.x,a.x,o.x,s.x),yv(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class g8 extends Ls{constructor(e=new ne,n=new ne,r=new ne,i=new ne){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ne){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(yv(e,i.x,a.x,o.x,s.x),yv(e,i.y,a.y,o.y,s.y),yv(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lw extends Ls{constructor(e=new Ge,n=new Ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ge){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ge){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class v8 extends Ls{constructor(e=new ne,n=new ne){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ne){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ne){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rO extends Ls{constructor(e=new Ge,n=new Ge,r=new Ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ge){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(vv(e,i.x,a.x,o.x),vv(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iO extends Ls{constructor(e=new ne,n=new ne,r=new ne){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ne){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(vv(e,i.x,a.x,o.x),vv(e,i.y,a.y,o.y),vv(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aO extends Ls{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ge){const r=n,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(a3(s,l.x,u.x,f.x,h.x),a3(s,l.y,u.y,f.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ge().fromArray(i))}return this}}var oO=Object.freeze({__proto__:null,ArcCurve:p8,CatmullRomCurve3:m8,CubicBezierCurve:nO,CubicBezierCurve3:g8,EllipseCurve:sw,LineCurve:lw,LineCurve3:v8,QuadraticBezierCurve:rO,QuadraticBezierCurve3:iO,SplineCurve:aO});class y8 extends Ls{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new lw(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new oO[i.type]().fromJSON(i))}return this}}let jv=class extends y8{constructor(e){super(),this.type="Path",this.currentPoint=new Ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new lw(this.currentPoint.clone(),new Ge(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const a=new rO(this.currentPoint.clone(),new Ge(e,n),new Ge(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,a,o){const s=new nO(this.currentPoint.clone(),new Ge(e,n),new Ge(r,i),new Ge(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new aO(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,a,o),this}absarc(e,n,r,i,a,o){return this.absellipse(e,n,r,r,i,a,o),this}ellipse(e,n,r,i,a,o,s,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,n+f,r,i,a,o,s,l),this}absellipse(e,n,r,i,a,o,s,l){const u=new sw(e,n,r,i,a,o,s,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Vy extends yn{constructor(e=[new Ge(0,-.5),new Ge(.5,0),new Ge(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=kr(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],f=1/n,h=new ne,p=new Ge,v=new ne,_=new ne,S=new ne;let x=0,w=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:x=e[E+1].x-e[E].x,w=e[E+1].y-e[E].y,v.x=w*1,v.y=-x,v.z=w*0,S.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:x=e[E+1].x-e[E].x,w=e[E+1].y-e[E].y,v.x=w*1,v.y=-x,v.z=w*0,_.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),l.push(v.x,v.y,v.z),S.copy(_)}for(let E=0;E<=n;E++){const b=r+E*f*i,T=Math.sin(b),P=Math.cos(b);for(let C=0;C<=e.length-1;C++){h.x=e[C].x*T,h.y=e[C].y,h.z=e[C].x*P,o.push(h.x,h.y,h.z),p.x=E/n,p.y=C/(e.length-1),s.push(p.x,p.y);const L=l[3*C+0]*T,D=l[3*C+1],I=l[3*C+0]*P;u.push(L,D,I)}}for(let E=0;E<n;E++)for(let b=0;b<e.length-1;b++){const T=b+E*e.length,P=T,C=T+e.length,L=T+e.length+1,D=T+1;a.push(P,C,D),a.push(L,D,C)}this.setIndex(a),this.setAttribute("position",new Lt(o,3)),this.setAttribute("uv",new Lt(s,2)),this.setAttribute("normal",new Lt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vy(e.points,e.segments,e.phiStart,e.phiLength)}}class uw extends Vy{constructor(e=1,n=1,r=4,i=8){const a=new jv;a.absarc(0,-n/2,e,Math.PI*1.5,0),a.absarc(0,n/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new uw(e.radius,e.length,e.capSegments,e.radialSegments)}}class cw extends yn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const a=[],o=[],s=[],l=[],u=new ne,f=new Ge;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const v=r+h/n*i;u.x=e*Math.cos(v),u.y=e*Math.sin(v),o.push(u.x,u.y,u.z),s.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=n;h++)a.push(h,h+1,0);this.setIndex(a),this.setAttribute("position",new Lt(o,3)),this.setAttribute("normal",new Lt(s,3)),this.setAttribute("uv",new Lt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class _m extends yn{constructor(e=1,n=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const f=[],h=[],p=[],v=[];let _=0;const S=[],x=r/2;let w=0;E(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(f),this.setAttribute("position",new Lt(h,3)),this.setAttribute("normal",new Lt(p,3)),this.setAttribute("uv",new Lt(v,2));function E(){const T=new ne,P=new ne;let C=0;const L=(n-e)/r;for(let D=0;D<=a;D++){const I=[],F=D/a,z=F*(n-e)+e;for(let Y=0;Y<=i;Y++){const H=Y/i,K=H*l+s,ee=Math.sin(K),oe=Math.cos(K);P.x=z*ee,P.y=-F*r+x,P.z=z*oe,h.push(P.x,P.y,P.z),T.set(ee,L,oe).normalize(),p.push(T.x,T.y,T.z),v.push(H,1-F),I.push(_++)}S.push(I)}for(let D=0;D<i;D++)for(let I=0;I<a;I++){const F=S[I][D],z=S[I+1][D],Y=S[I+1][D+1],H=S[I][D+1];f.push(F,z,H),f.push(z,Y,H),C+=6}u.addGroup(w,C,0),w+=C}function b(T){const P=_,C=new Ge,L=new ne;let D=0;const I=T===!0?e:n,F=T===!0?1:-1;for(let Y=1;Y<=i;Y++)h.push(0,x*F,0),p.push(0,F,0),v.push(.5,.5),_++;const z=_;for(let Y=0;Y<=i;Y++){const K=Y/i*l+s,ee=Math.cos(K),oe=Math.sin(K);L.x=I*oe,L.y=x*F,L.z=I*ee,h.push(L.x,L.y,L.z),p.push(0,F,0),C.x=ee*.5+.5,C.y=oe*.5*F+.5,v.push(C.x,C.y),_++}for(let Y=0;Y<i;Y++){const H=P+Y,K=z+Y;T===!0?f.push(K,K+1,H):f.push(K+1,K,H),D+=3}u.addGroup(w,D,T===!0?1:2),w+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _m(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fw extends _m{constructor(e=1,n=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,n,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new fw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Nc extends yn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const a=[],o=[];s(i),u(r),f(),this.setAttribute("position",new Lt(a,3)),this.setAttribute("normal",new Lt(a.slice(),3)),this.setAttribute("uv",new Lt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(E){const b=new ne,T=new ne,P=new ne;for(let C=0;C<n.length;C+=3)v(n[C+0],b),v(n[C+1],T),v(n[C+2],P),l(b,T,P,E)}function l(E,b,T,P){const C=P+1,L=[];for(let D=0;D<=C;D++){L[D]=[];const I=E.clone().lerp(T,D/C),F=b.clone().lerp(T,D/C),z=C-D;for(let Y=0;Y<=z;Y++)Y===0&&D===C?L[D][Y]=I:L[D][Y]=I.clone().lerp(F,Y/z)}for(let D=0;D<C;D++)for(let I=0;I<2*(C-D)-1;I++){const F=Math.floor(I/2);I%2===0?(p(L[D][F+1]),p(L[D+1][F]),p(L[D][F])):(p(L[D][F+1]),p(L[D+1][F+1]),p(L[D+1][F]))}}function u(E){const b=new ne;for(let T=0;T<a.length;T+=3)b.x=a[T+0],b.y=a[T+1],b.z=a[T+2],b.normalize().multiplyScalar(E),a[T+0]=b.x,a[T+1]=b.y,a[T+2]=b.z}function f(){const E=new ne;for(let b=0;b<a.length;b+=3){E.x=a[b+0],E.y=a[b+1],E.z=a[b+2];const T=x(E)/2/Math.PI+.5,P=w(E)/Math.PI+.5;o.push(T,1-P)}_(),h()}function h(){for(let E=0;E<o.length;E+=6){const b=o[E+0],T=o[E+2],P=o[E+4],C=Math.max(b,T,P),L=Math.min(b,T,P);C>.9&&L<.1&&(b<.2&&(o[E+0]+=1),T<.2&&(o[E+2]+=1),P<.2&&(o[E+4]+=1))}}function p(E){a.push(E.x,E.y,E.z)}function v(E,b){const T=E*3;b.x=e[T+0],b.y=e[T+1],b.z=e[T+2]}function _(){const E=new ne,b=new ne,T=new ne,P=new ne,C=new Ge,L=new Ge,D=new Ge;for(let I=0,F=0;I<a.length;I+=9,F+=6){E.set(a[I+0],a[I+1],a[I+2]),b.set(a[I+3],a[I+4],a[I+5]),T.set(a[I+6],a[I+7],a[I+8]),C.set(o[F+0],o[F+1]),L.set(o[F+2],o[F+3]),D.set(o[F+4],o[F+5]),P.copy(E).add(b).add(T).divideScalar(3);const z=x(P);S(C,F+0,E,z),S(L,F+2,b,z),S(D,F+4,T,z)}}function S(E,b,T,P){P<0&&E.x===1&&(o[b]=E.x-1),T.x===0&&T.z===0&&(o[b]=P/2/Math.PI+.5)}function x(E){return Math.atan2(E.z,-E.x)}function w(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nc(e.vertices,e.indices,e.radius,e.details)}}class hw extends Nc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new hw(e.radius,e.detail)}}const Ix=new ne,Lx=new ne,Ub=new ne,Nx=new Ba;class x8 extends yn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),a=Math.cos(ch*n),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],f=["a","b","c"],h=new Array(3),p={},v=[];for(let _=0;_<l;_+=3){o?(u[0]=o.getX(_),u[1]=o.getX(_+1),u[2]=o.getX(_+2)):(u[0]=_,u[1]=_+1,u[2]=_+2);const{a:S,b:x,c:w}=Nx;if(S.fromBufferAttribute(s,u[0]),x.fromBufferAttribute(s,u[1]),w.fromBufferAttribute(s,u[2]),Nx.getNormal(Ub),h[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let E=0;E<3;E++){const b=(E+1)%3,T=h[E],P=h[b],C=Nx[f[E]],L=Nx[f[b]],D=`${T}_${P}`,I=`${P}_${T}`;I in p&&p[I]?(Ub.dot(p[I].normal)<=a&&(v.push(C.x,C.y,C.z),v.push(L.x,L.y,L.z)),p[I]=null):D in p||(p[D]={index0:u[E],index1:u[b],normal:Ub.clone()})}}for(const _ in p)if(p[_]){const{index0:S,index1:x}=p[_];Ix.fromBufferAttribute(s,S),Lx.fromBufferAttribute(s,x),v.push(Ix.x,Ix.y,Ix.z),v.push(Lx.x,Lx.y,Lx.z)}this.setAttribute("position",new Lt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let dh=class extends jv{constructor(e){super(e),this.uuid=fo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new jv().fromJSON(i))}return this}};const Pre={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let a=_8(t,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u,f,h,p,v;if(r&&(a=Lre(t,e,a,n)),t.length>80*n){s=u=t[0],l=f=t[1];for(let _=n;_<i;_+=n)h=t[_],p=t[_+1],h<s&&(s=h),p<l&&(l=p),h>u&&(u=h),p>f&&(f=p);v=Math.max(u-s,f-l),v=v!==0?32767/v:0}return Vv(a,o,n,s,l,v,0),o}};function _8(t,e,n,r,i){let a,o;if(i===Wre(t,e,n,r)>0)for(a=e;a<n;a+=r)o=o3(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=o3(a,t[a],t[a+1],o);return o&&dw(o,o.next)&&(Wv(o),o=o.next),o}function xh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(dw(n,n.next)||Cr(n.prev,n,n.next)===0)){if(Wv(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Vv(t,e,n,r,i,a,o){if(!t)return;!o&&a&&Fre(t,r,i,a);let s=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,a?Rre(t,r,i,a):Cre(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Wv(t),t=u.next,s=u.next;continue}if(t=u,t===s){o?o===1?(t=Ore(xh(t),e,n),Vv(t,e,n,r,i,a,2)):o===2&&Ire(t,e,n,r,i,a):Vv(xh(t),e,n,r,i,a,1);break}}}function Cre(t){const e=t.prev,n=t,r=t.next;if(Cr(e,n,r)>=0)return!1;const i=e.x,a=n.x,o=r.x,s=e.y,l=n.y,u=r.y,f=i<a?i<o?i:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,p=i>a?i>o?i:o:a>o?a:o,v=s>l?s>u?s:u:l>u?l:u;let _=r.next;for(;_!==e;){if(_.x>=f&&_.x<=p&&_.y>=h&&_.y<=v&&wp(i,s,a,l,o,u,_.x,_.y)&&Cr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Rre(t,e,n,r){const i=t.prev,a=t,o=t.next;if(Cr(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,f=i.y,h=a.y,p=o.y,v=s<l?s<u?s:u:l<u?l:u,_=f<h?f<p?f:p:h<p?h:p,S=s>l?s>u?s:u:l>u?l:u,x=f>h?f>p?f:p:h>p?h:p,w=uC(v,_,e,n,r),E=uC(S,x,e,n,r);let b=t.prevZ,T=t.nextZ;for(;b&&b.z>=w&&T&&T.z<=E;){if(b.x>=v&&b.x<=S&&b.y>=_&&b.y<=x&&b!==i&&b!==o&&wp(s,f,l,h,u,p,b.x,b.y)&&Cr(b.prev,b,b.next)>=0||(b=b.prevZ,T.x>=v&&T.x<=S&&T.y>=_&&T.y<=x&&T!==i&&T!==o&&wp(s,f,l,h,u,p,T.x,T.y)&&Cr(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;b&&b.z>=w;){if(b.x>=v&&b.x<=S&&b.y>=_&&b.y<=x&&b!==i&&b!==o&&wp(s,f,l,h,u,p,b.x,b.y)&&Cr(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;T&&T.z<=E;){if(T.x>=v&&T.x<=S&&T.y>=_&&T.y<=x&&T!==i&&T!==o&&wp(s,f,l,h,u,p,T.x,T.y)&&Cr(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function Ore(t,e,n){let r=t;do{const i=r.prev,a=r.next.next;!dw(i,a)&&w8(i,r,r.next,a)&&Hv(i,a)&&Hv(a,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(a.i/n|0),Wv(r),Wv(r.next),r=t=a),r=r.next}while(r!==t);return xh(r)}function Ire(t,e,n,r,i,a){let o=t;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&jre(o,s)){let l=S8(o,s);o=xh(o,o.next),l=xh(l,l.next),Vv(o,e,n,r,i,a,0),Vv(l,e,n,r,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function Lre(t,e,n,r){const i=[];let a,o,s,l,u;for(a=0,o=e.length;a<o;a++)s=e[a]*r,l=a<o-1?e[a+1]*r:t.length,u=_8(t,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(zre(u));for(i.sort(Nre),a=0;a<i.length;a++)n=Dre(i[a],n);return n}function Nre(t,e){return t.x-e.x}function Dre(t,e){const n=kre(t,e);if(!n)return e;const r=S8(n,t);return xh(r,r.next),xh(n,n.next)}function kre(t,e){let n=e,r=-1/0,i;const a=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=a&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===a))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,u=i.y;let f=1/0,h;n=i;do a>=n.x&&n.x>=l&&a!==n.x&&wp(o<u?a:r,o,l,u,o<u?r:a,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(a-n.x),Hv(n,t)&&(h<f||h===f&&(n.x>i.x||n.x===i.x&&Ure(i,n)))&&(i=n,f=h)),n=n.next;while(n!==s);return i}function Ure(t,e){return Cr(t.prev,t,e.prev)<0&&Cr(e.next,t,t.next)<0}function Fre(t,e,n,r){let i=t;do i.z===0&&(i.z=uC(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Bre(i)}function Bre(t){let e,n,r,i,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ,!!r);e++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1);return t}function uC(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function zre(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function wp(t,e,n,r,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(r-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function jre(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Vre(t,e)&&(Hv(t,e)&&Hv(e,t)&&Hre(t,e)&&(Cr(t.prev,t,e.prev)||Cr(t,e.prev,e))||dw(t,e)&&Cr(t.prev,t,t.next)>0&&Cr(e.prev,e,e.next)>0)}function Cr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function dw(t,e){return t.x===e.x&&t.y===e.y}function w8(t,e,n,r){const i=kx(Cr(t,e,n)),a=kx(Cr(t,e,r)),o=kx(Cr(n,r,t)),s=kx(Cr(n,r,e));return!!(i!==a&&o!==s||i===0&&Dx(t,n,e)||a===0&&Dx(t,r,e)||o===0&&Dx(n,t,r)||s===0&&Dx(n,e,r))}function Dx(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function kx(t){return t>0?1:t<0?-1:0}function Vre(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&w8(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Hv(t,e){return Cr(t.prev,t,t.next)<0?Cr(t,e,t.next)>=0&&Cr(t,t.prev,e)>=0:Cr(t,e,t.prev)<0||Cr(t,t.next,e)<0}function Hre(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function S8(t,e){const n=new cC(t.i,t.x,t.y),r=new cC(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function o3(t,e,n,r){const i=new cC(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Wv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function cC(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Wre(t,e,n,r){let i=0;for(let a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}class sl{static area(e){const n=e.length;let r=0;for(let i=n-1,a=0;a<n;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return sl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],a=[];s3(e),l3(r,e);let o=e.length;n.forEach(s3);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,l3(r,n[l]);const s=Pre.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function s3(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function l3(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class pw extends yn{constructor(e=new dh([new Ge(.5,.5),new Ge(-.5,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];o(u)}this.setAttribute("position",new Lt(i,3)),this.setAttribute("uv",new Lt(a,2)),this.computeVertexNormals();function o(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,_=n.bevelSize!==void 0?n.bevelSize:v-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,E=n.UVGenerator!==void 0?n.UVGenerator:Gre;let b,T=!1,P,C,L,D;w&&(b=w.getSpacedPoints(f),T=!0,p=!1,P=w.computeFrenetFrames(f,!1),C=new ne,L=new ne,D=new ne),p||(x=0,v=0,_=0,S=0);const I=s.extractPoints(u);let F=I.shape;const z=I.holes;if(!sl.isClockWise(F)){F=F.reverse();for(let Z=0,Ne=z.length;Z<Ne;Z++){const be=z[Z];sl.isClockWise(be)&&(z[Z]=be.reverse())}}const H=sl.triangulateShape(F,z),K=F;for(let Z=0,Ne=z.length;Z<Ne;Z++){const be=z[Z];F=F.concat(be)}function ee(Z,Ne,be){return Ne||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().addScaledVector(Ne,be)}const oe=F.length,ae=H.length;function $(Z,Ne,be){let qe,Be,ot;const lt=Z.x-Ne.x,dt=Z.y-Ne.y,Tt=be.x-Z.x,Bt=be.y-Z.y,ln=lt*lt+dt*dt,le=lt*Bt-dt*Tt;if(Math.abs(le)>Number.EPSILON){const Q=Math.sqrt(ln),Le=Math.sqrt(Tt*Tt+Bt*Bt),tt=Ne.x-dt/Q,Ke=Ne.y+lt/Q,st=be.x-Bt/Le,Et=be.y+Tt/Le,ft=((st-tt)*Bt-(Et-Ke)*Tt)/(lt*Bt-dt*Tt);qe=tt+lt*ft-Z.x,Be=Ke+dt*ft-Z.y;const ze=qe*qe+Be*Be;if(ze<=2)return new Ge(qe,Be);ot=Math.sqrt(ze/2)}else{let Q=!1;lt>Number.EPSILON?Tt>Number.EPSILON&&(Q=!0):lt<-Number.EPSILON?Tt<-Number.EPSILON&&(Q=!0):Math.sign(dt)===Math.sign(Bt)&&(Q=!0),Q?(qe=-dt,Be=lt,ot=Math.sqrt(ln)):(qe=lt,Be=dt,ot=Math.sqrt(ln/2))}return new Ge(qe/ot,Be/ot)}const re=[];for(let Z=0,Ne=K.length,be=Ne-1,qe=Z+1;Z<Ne;Z++,be++,qe++)be===Ne&&(be=0),qe===Ne&&(qe=0),re[Z]=$(K[Z],K[be],K[qe]);const J=[];let j,q=re.concat();for(let Z=0,Ne=z.length;Z<Ne;Z++){const be=z[Z];j=[];for(let qe=0,Be=be.length,ot=Be-1,lt=qe+1;qe<Be;qe++,ot++,lt++)ot===Be&&(ot=0),lt===Be&&(lt=0),j[qe]=$(be[qe],be[ot],be[lt]);J.push(j),q=q.concat(j)}for(let Z=0;Z<x;Z++){const Ne=Z/x,be=v*Math.cos(Ne*Math.PI/2),qe=_*Math.sin(Ne*Math.PI/2)+S;for(let Be=0,ot=K.length;Be<ot;Be++){const lt=ee(K[Be],re[Be],qe);Ye(lt.x,lt.y,-be)}for(let Be=0,ot=z.length;Be<ot;Be++){const lt=z[Be];j=J[Be];for(let dt=0,Tt=lt.length;dt<Tt;dt++){const Bt=ee(lt[dt],j[dt],qe);Ye(Bt.x,Bt.y,-be)}}}const pe=_+S;for(let Z=0;Z<oe;Z++){const Ne=p?ee(F[Z],q[Z],pe):F[Z];T?(L.copy(P.normals[0]).multiplyScalar(Ne.x),C.copy(P.binormals[0]).multiplyScalar(Ne.y),D.copy(b[0]).add(L).add(C),Ye(D.x,D.y,D.z)):Ye(Ne.x,Ne.y,0)}for(let Z=1;Z<=f;Z++)for(let Ne=0;Ne<oe;Ne++){const be=p?ee(F[Ne],q[Ne],pe):F[Ne];T?(L.copy(P.normals[Z]).multiplyScalar(be.x),C.copy(P.binormals[Z]).multiplyScalar(be.y),D.copy(b[Z]).add(L).add(C),Ye(D.x,D.y,D.z)):Ye(be.x,be.y,h/f*Z)}for(let Z=x-1;Z>=0;Z--){const Ne=Z/x,be=v*Math.cos(Ne*Math.PI/2),qe=_*Math.sin(Ne*Math.PI/2)+S;for(let Be=0,ot=K.length;Be<ot;Be++){const lt=ee(K[Be],re[Be],qe);Ye(lt.x,lt.y,h+be)}for(let Be=0,ot=z.length;Be<ot;Be++){const lt=z[Be];j=J[Be];for(let dt=0,Tt=lt.length;dt<Tt;dt++){const Bt=ee(lt[dt],j[dt],qe);T?Ye(Bt.x,Bt.y+b[f-1].y,b[f-1].x+be):Ye(Bt.x,Bt.y,h+be)}}}_e(),Re();function _e(){const Z=i.length/3;if(p){let Ne=0,be=oe*Ne;for(let qe=0;qe<ae;qe++){const Be=H[qe];Xe(Be[2]+be,Be[1]+be,Be[0]+be)}Ne=f+x*2,be=oe*Ne;for(let qe=0;qe<ae;qe++){const Be=H[qe];Xe(Be[0]+be,Be[1]+be,Be[2]+be)}}else{for(let Ne=0;Ne<ae;Ne++){const be=H[Ne];Xe(be[2],be[1],be[0])}for(let Ne=0;Ne<ae;Ne++){const be=H[Ne];Xe(be[0]+oe*f,be[1]+oe*f,be[2]+oe*f)}}r.addGroup(Z,i.length/3-Z,0)}function Re(){const Z=i.length/3;let Ne=0;Ie(K,Ne),Ne+=K.length;for(let be=0,qe=z.length;be<qe;be++){const Be=z[be];Ie(Be,Ne),Ne+=Be.length}r.addGroup(Z,i.length/3-Z,1)}function Ie(Z,Ne){let be=Z.length;for(;--be>=0;){const qe=be;let Be=be-1;Be<0&&(Be=Z.length-1);for(let ot=0,lt=f+x*2;ot<lt;ot++){const dt=oe*ot,Tt=oe*(ot+1),Bt=Ne+qe+dt,ln=Ne+Be+dt,le=Ne+Be+Tt,Q=Ne+qe+Tt;ke(Bt,ln,le,Q)}}}function Ye(Z,Ne,be){l.push(Z),l.push(Ne),l.push(be)}function Xe(Z,Ne,be){Ze(Z),Ze(Ne),Ze(be);const qe=i.length/3,Be=E.generateTopUV(r,i,qe-3,qe-2,qe-1);Fe(Be[0]),Fe(Be[1]),Fe(Be[2])}function ke(Z,Ne,be,qe){Ze(Z),Ze(Ne),Ze(qe),Ze(Ne),Ze(be),Ze(qe);const Be=i.length/3,ot=E.generateSideWallUV(r,i,Be-6,Be-3,Be-2,Be-1);Fe(ot[0]),Fe(ot[1]),Fe(ot[3]),Fe(ot[1]),Fe(ot[2]),Fe(ot[3])}function Ze(Z){i.push(l[Z*3+0]),i.push(l[Z*3+1]),i.push(l[Z*3+2])}function Fe(Z){a.push(Z.x),a.push(Z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return $re(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=n[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new oO[i.type]().fromJSON(i)),new pw(r,e.options)}}const Gre={generateTopUV:function(t,e,n,r,i){const a=e[n*3],o=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new Ge(a,o),new Ge(s,l),new Ge(u,f)]},generateSideWallUV:function(t,e,n,r,i,a){const o=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],f=e[r*3+1],h=e[r*3+2],p=e[i*3],v=e[i*3+1],_=e[i*3+2],S=e[a*3],x=e[a*3+1],w=e[a*3+2];return Math.abs(s-f)<Math.abs(o-u)?[new Ge(o,1-l),new Ge(u,1-h),new Ge(p,1-_),new Ge(S,1-w)]:[new Ge(s,1-l),new Ge(f,1-h),new Ge(v,1-_),new Ge(x,1-w)]}};function $re(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Hy extends Nc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Hy(e.radius,e.detail)}}class Wy extends Nc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Wy(e.radius,e.detail)}}class mw extends yn{constructor(e=.5,n=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],f=[];let h=e;const p=(n-e)/i,v=new ne,_=new Ge;for(let S=0;S<=i;S++){for(let x=0;x<=r;x++){const w=a+x/r*o;v.x=h*Math.cos(w),v.y=h*Math.sin(w),l.push(v.x,v.y,v.z),u.push(0,0,1),_.x=(v.x/n+1)/2,_.y=(v.y/n+1)/2,f.push(_.x,_.y)}h+=p}for(let S=0;S<i;S++){const x=S*(r+1);for(let w=0;w<r;w++){const E=w+x,b=E,T=E+r+1,P=E+r+2,C=E+1;s.push(b,T,C),s.push(T,P,C)}}this.setIndex(s),this.setAttribute("position",new Lt(l,3)),this.setAttribute("normal",new Lt(u,3)),this.setAttribute("uv",new Lt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class gw extends yn{constructor(e=new dh([new Ge(0,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(s,l,f),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Lt(i,3)),this.setAttribute("normal",new Lt(a,3)),this.setAttribute("uv",new Lt(o,2));function u(f){const h=i.length/3,p=f.extractPoints(n);let v=p.shape;const _=p.holes;sl.isClockWise(v)===!1&&(v=v.reverse());for(let x=0,w=_.length;x<w;x++){const E=_[x];sl.isClockWise(E)===!0&&(_[x]=E.reverse())}const S=sl.triangulateShape(v,_);for(let x=0,w=_.length;x<w;x++){const E=_[x];v=v.concat(E)}for(let x=0,w=v.length;x<w;x++){const E=v[x];i.push(E.x,E.y,0),a.push(0,0,1),o.push(E.x,E.y)}for(let x=0,w=S.length;x<w;x++){const E=S[x],b=E[0]+h,T=E[1]+h,P=E[2]+h;r.push(b,T,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return qre(n,e)}static fromJSON(e,n){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=n[e.shapes[i]];r.push(o)}return new gw(r,e.curveSegments)}}function qre(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Gy extends yn{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let u=0;const f=[],h=new ne,p=new ne,v=[],_=[],S=[],x=[];for(let w=0;w<=r;w++){const E=[],b=w/r;let T=0;w===0&&o===0?T=.5/n:w===r&&l===Math.PI&&(T=-.5/n);for(let P=0;P<=n;P++){const C=P/n;h.x=-e*Math.cos(i+C*a)*Math.sin(o+b*s),h.y=e*Math.cos(o+b*s),h.z=e*Math.sin(i+C*a)*Math.sin(o+b*s),_.push(h.x,h.y,h.z),p.copy(h).normalize(),S.push(p.x,p.y,p.z),x.push(C+T,1-b),E.push(u++)}f.push(E)}for(let w=0;w<r;w++)for(let E=0;E<n;E++){const b=f[w][E+1],T=f[w][E],P=f[w+1][E],C=f[w+1][E+1];(w!==0||o>0)&&v.push(b,T,C),(w!==r-1||l<Math.PI)&&v.push(T,P,C)}this.setIndex(v),this.setAttribute("position",new Lt(_,3)),this.setAttribute("normal",new Lt(S,3)),this.setAttribute("uv",new Lt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class vw extends Nc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new vw(e.radius,e.detail)}}class yw extends yn{constructor(e=1,n=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const o=[],s=[],l=[],u=[],f=new ne,h=new ne,p=new ne;for(let v=0;v<=r;v++)for(let _=0;_<=i;_++){const S=_/i*a,x=v/r*Math.PI*2;h.x=(e+n*Math.cos(x))*Math.cos(S),h.y=(e+n*Math.cos(x))*Math.sin(S),h.z=n*Math.sin(x),s.push(h.x,h.y,h.z),f.x=e*Math.cos(S),f.y=e*Math.sin(S),p.subVectors(h,f).normalize(),l.push(p.x,p.y,p.z),u.push(_/i),u.push(v/r)}for(let v=1;v<=r;v++)for(let _=1;_<=i;_++){const S=(i+1)*v+_-1,x=(i+1)*(v-1)+_-1,w=(i+1)*(v-1)+_,E=(i+1)*v+_;o.push(S,x,E),o.push(x,w,E)}this.setIndex(o),this.setAttribute("position",new Lt(s,3)),this.setAttribute("normal",new Lt(l,3)),this.setAttribute("uv",new Lt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class xw extends yn{constructor(e=1,n=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],f=[],h=new ne,p=new ne,v=new ne,_=new ne,S=new ne,x=new ne,w=new ne;for(let b=0;b<=r;++b){const T=b/r*a*Math.PI*2;E(T,a,o,e,v),E(T+.01,a,o,e,_),x.subVectors(_,v),w.addVectors(_,v),S.crossVectors(x,w),w.crossVectors(S,x),S.normalize(),w.normalize();for(let P=0;P<=i;++P){const C=P/i*Math.PI*2,L=-n*Math.cos(C),D=n*Math.sin(C);h.x=v.x+(L*w.x+D*S.x),h.y=v.y+(L*w.y+D*S.y),h.z=v.z+(L*w.z+D*S.z),l.push(h.x,h.y,h.z),p.subVectors(h,v).normalize(),u.push(p.x,p.y,p.z),f.push(b/r),f.push(P/i)}}for(let b=1;b<=r;b++)for(let T=1;T<=i;T++){const P=(i+1)*(b-1)+(T-1),C=(i+1)*b+(T-1),L=(i+1)*b+T,D=(i+1)*(b-1)+T;s.push(P,C,D),s.push(C,L,D)}this.setIndex(s),this.setAttribute("position",new Lt(l,3)),this.setAttribute("normal",new Lt(u,3)),this.setAttribute("uv",new Lt(f,2));function E(b,T,P,C,L){const D=Math.cos(b),I=Math.sin(b),F=P/T*b,z=Math.cos(F);L.x=C*(2+z)*.5*D,L.y=C*(2+z)*I*.5,L.z=C*Math.sin(F)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class _w extends yn{constructor(e=new iO(new ne(-1,-1,0),new ne(-1,1,0),new ne(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new ne,l=new ne,u=new Ge;let f=new ne;const h=[],p=[],v=[],_=[];S(),this.setIndex(_),this.setAttribute("position",new Lt(h,3)),this.setAttribute("normal",new Lt(p,3)),this.setAttribute("uv",new Lt(v,2));function S(){for(let b=0;b<n;b++)x(b);x(a===!1?n:0),E(),w()}function x(b){f=e.getPointAt(b/n,f);const T=o.normals[b],P=o.binormals[b];for(let C=0;C<=i;C++){const L=C/i*Math.PI*2,D=Math.sin(L),I=-Math.cos(L);l.x=I*T.x+D*P.x,l.y=I*T.y+D*P.y,l.z=I*T.z+D*P.z,l.normalize(),p.push(l.x,l.y,l.z),s.x=f.x+r*l.x,s.y=f.y+r*l.y,s.z=f.z+r*l.z,h.push(s.x,s.y,s.z)}}function w(){for(let b=1;b<=n;b++)for(let T=1;T<=i;T++){const P=(i+1)*(b-1)+(T-1),C=(i+1)*b+(T-1),L=(i+1)*b+T,D=(i+1)*(b-1)+T;_.push(P,C,D),_.push(C,L,D)}}function E(){for(let b=0;b<=n;b++)for(let T=0;T<=i;T++)u.x=b/n,u.y=T/i,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new _w(new oO[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class sO extends yn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ne,a=new ne;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const h=l[u],p=h.start,v=h.count;for(let _=p,S=p+v;_<S;_+=3)for(let x=0;x<3;x++){const w=s.getX(_+x),E=s.getX(_+(x+1)%3);i.fromBufferAttribute(o,w),a.fromBufferAttribute(o,E),u3(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const f=3*s+u,h=3*s+(u+1)%3;i.fromBufferAttribute(o,f),a.fromBufferAttribute(o,h),u3(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Lt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function u3(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var c3=Object.freeze({__proto__:null,BoxGeometry:Oh,CapsuleGeometry:uw,CircleGeometry:cw,ConeGeometry:fw,CylinderGeometry:_m,DodecahedronGeometry:hw,EdgesGeometry:x8,ExtrudeGeometry:pw,IcosahedronGeometry:Hy,LatheGeometry:Vy,OctahedronGeometry:Wy,PlaneGeometry:Ih,PolyhedronGeometry:Nc,RingGeometry:mw,ShapeGeometry:gw,SphereGeometry:Gy,TetrahedronGeometry:vw,TorusGeometry:yw,TorusKnotGeometry:xw,TubeGeometry:_w,WireframeGeometry:sO});class b8 extends na{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Mt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class M8 extends Wa{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class lO extends na{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class E8 extends lO{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return kr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Mt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class A8 extends na{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Mt(16777215),this.specular=new Mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class T8 extends na{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class P8 extends na{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class C8 extends na{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class R8 extends na{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class O8 extends ba{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Uo(t,e,n){return uO(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function th(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function uO(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function I8(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function fC(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,o=0;o!==r;++a){const s=n[a]*e;for(let l=0;l!==e;++l)i[o++]=t[s+l]}return i}function cO(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),n.push.apply(n,o)),a=t[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),n.push(o)),a=t[i++];while(a!==void 0)}function Xre(t,e,n,r,i=30){const a=t.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],f=u.getValueSize(),h=[],p=[];for(let v=0;v<u.times.length;++v){const _=u.times[v]*i;if(!(_<n||_>=r)){h.push(u.times[v]);for(let S=0;S<f;++S)p.push(u.values[v*f+S])}}h.length!==0&&(u.times=th(h,u.times.constructor),u.values=th(p,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function Yre(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=n.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(w){return w.name===s.name&&w.ValueTypeName===l});if(u===void 0)continue;let f=0;const h=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);const _=s.times.length-1;let S;if(a<=s.times[0]){const w=f,E=h-f;S=Uo(s.values,w,E)}else if(a>=s.times[_]){const w=_*h+f,E=w+h-f;S=Uo(s.values,w,E)}else{const w=s.createInterpolant(),E=f,b=h-f;w.evaluate(a),S=Uo(w.resultBuffer,E,b)}l==="quaternion"&&new ta().fromArray(S).normalize().conjugate().toArray(S);const x=u.times.length;for(let w=0;w<x;++w){const E=w*v+p;if(l==="quaternion")ta.multiplyQuaternionsFlat(u.values,E,S,0,u.values,E);else{const b=v-p*2;for(let T=0;T<b;++T)u.values[E+T]-=S[T]}}}return t.blendMode=BR,t}const Kre={arraySlice:Uo,convertArray:th,isTypedArray:uO,getKeyframeOrder:I8,sortedArray:fC,flattenJSON:cO,subclip:Xre,makeClipAdditive:Yre};class $y{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=a)){const s=n[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=n[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<n[s]?o=s:r=s+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)n[o]=r[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class L8 extends $y{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zf,endingEnd:Zf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case Jf:a=e,s=2*n-r;break;case Uv:a=i.length-2,s=n+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Jf:o=e,l=2*r-n;break;case Uv:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,f=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=a*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,v=this._weightNext,_=(r-n)/(i-n),S=_*_,x=S*_,w=-p*x+2*p*S-p*_,E=(1+p)*x+(-1.5-2*p)*S+(-.5+p)*_+1,b=(-1-v)*x+(1.5+v)*S+.5*_,T=v*x-v*S;for(let P=0;P!==s;++P)a[P]=w*o[f+P]+E*o[u+P]+b*o[l+P]+T*o[h+P];return a}}class fO extends $y{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,f=(r-n)/(i-n),h=1-f;for(let p=0;p!==s;++p)a[p]=o[u+p]*h+o[l+p]*f;return a}}class N8 extends $y{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ns{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=th(n,this.TimeBufferType),this.values=th(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:th(e.times,Array),values:th(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new N8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new fO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new L8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Dv:n=this.InterpolantFactoryMethodDiscrete;break;case kv:n=this.InterpolantFactoryMethodLinear;break;case b_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Dv;case this.InterpolantFactoryMethodLinear:return kv;case this.InterpolantFactoryMethodSmooth:return b_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>n;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=Uo(r,a,o),this.values=Uo(this.values,a*s,o*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&uO(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=Uo(this.times),n=Uo(this.values),r=this.getValueSize(),i=this.getInterpolation()===b_,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=e[s],f=e[s+1];if(u!==f&&(s!==1||u!==e[0]))if(i)l=!0;else{const h=s*r,p=h-r,v=h+r;for(let _=0;_!==r;++_){const S=n[h+_];if(S!==n[p+_]||S!==n[v+_]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const h=s*r,p=o*r;for(let v=0;v!==r;++v)n[p+v]=n[h+v]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[s+u];++o}return o!==e.length?(this.times=Uo(e,0,o),this.values=Uo(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Uo(this.times,0),n=Uo(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ns.prototype.TimeBufferType=Float32Array;Ns.prototype.ValueBufferType=Float32Array;Ns.prototype.DefaultInterpolation=kv;class Lh extends Ns{}Lh.prototype.ValueTypeName="bool";Lh.prototype.ValueBufferType=Array;Lh.prototype.DefaultInterpolation=Dv;Lh.prototype.InterpolantFactoryMethodLinear=void 0;Lh.prototype.InterpolantFactoryMethodSmooth=void 0;class hO extends Ns{}hO.prototype.ValueTypeName="color";class Gv extends Ns{}Gv.prototype.ValueTypeName="number";class D8 extends $y{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let f=u+s;u!==f;u+=4)ta.slerpFlat(a,0,o,u-s,o,u,l);return a}}class wm extends Ns{InterpolantFactoryMethodLinear(e){return new D8(this.times,this.values,this.getValueSize(),e)}}wm.prototype.ValueTypeName="quaternion";wm.prototype.DefaultInterpolation=kv;wm.prototype.InterpolantFactoryMethodSmooth=void 0;class Nh extends Ns{}Nh.prototype.ValueTypeName="string";Nh.prototype.ValueBufferType=Array;Nh.prototype.DefaultInterpolation=Dv;Nh.prototype.InterpolantFactoryMethodLinear=void 0;Nh.prototype.InterpolantFactoryMethodSmooth=void 0;class $v extends Ns{}$v.prototype.ValueTypeName="vector";class qv{constructor(e,n=-1,r,i=J1){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=fo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)n.push(Jre(r[o]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)n.push(Ns.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const f=I8(l);l=fC(l,1,f),u=fC(u,1,f),!i&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new Gv(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],f=u.name.match(a);if(f&&f.length>1){const h=f[1];let p=i[h];p||(i[h]=p=[]),p.push(u)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,v,_,S){if(v.length!==0){const x=[],w=[];cO(v,x,w,_),x.length!==0&&S.push(new h(p,x,w))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const v={};let _;for(_=0;_<p.length;_++)if(p[_].morphTargets)for(let S=0;S<p[_].morphTargets.length;S++)v[p[_].morphTargets[S]]=-1;for(const S in v){const x=[],w=[];for(let E=0;E!==p[_].morphTargets.length;++E){const b=p[_];x.push(b.time),w.push(b.morphTarget===S?1:0)}i.push(new Gv(".morphTargetInfluence["+S+"]",x,w))}l=v.length*o}else{const v=".bones["+n[h].name+"]";r($v,v+".position",p,"pos",i),r(wm,v+".quaternion",p,"rot",i),r($v,v+".scale",p,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Zre(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Gv;case"vector":case"vector2":case"vector3":case"vector4":return $v;case"color":return hO;case"quaternion":return wm;case"bool":case"boolean":return Lh;case"string":return Nh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Jre(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Zre(t.type);if(t.times===void 0){const n=[],r=[];cO(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const _h={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class ww{constructor(e,n,r){const i=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(f){s++,a===!1&&i.onStart!==void 0&&i.onStart(f,o,s),a=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return u.push(f,h),this},this.removeHandler=function(f){const h=u.indexOf(f);return h!==-1&&u.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=u.length;h<p;h+=2){const v=u[h],_=u[h+1];if(v.global&&(v.lastIndex=0),v.test(f))return _}return null}}}const k8=new ww;class Ma{constructor(e){this.manager=e!==void 0?e:k8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ma.DEFAULT_MATERIAL_NAME="__DEFAULT";const eu={};class Qre extends Error{constructor(e,n){super(e),this.response=n}}class ho extends Ma{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=_h.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(eu[e]!==void 0){eu[e].push({onLoad:n,onProgress:r,onError:i});return}eu[e]=[],eu[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=eu[e],h=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),v=p?parseInt(p):0,_=v!==0;let S=0;const x=new ReadableStream({start(w){E();function E(){h.read().then(({done:b,value:T})=>{if(b)w.close();else{S+=T.byteLength;const P=new ProgressEvent("progress",{lengthComputable:_,loaded:S,total:v});for(let C=0,L=f.length;C<L;C++){const D=f[C];D.onProgress&&D.onProgress(P)}w.enqueue(T),E()}})}}});return new Response(x)}else throw new Qre(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,s));case"json":return u.json();default:if(s===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(s),p=h&&h[1]?h[1].toLowerCase():void 0,v=new TextDecoder(p);return u.arrayBuffer().then(_=>v.decode(_))}}}).then(u=>{_h.add(e,u);const f=eu[e];delete eu[e];for(let h=0,p=f.length;h<p;h++){const v=f[h];v.onLoad&&v.onLoad(u)}}).catch(u=>{const f=eu[e];if(f===void 0)throw this.manager.itemError(e),u;delete eu[e];for(let h=0,p=f.length;h<p;h++){const v=f[h];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class eie extends Ma{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ho(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=qv.parse(e[r]);n.push(i)}return n}}class tie extends Ma{constructor(e){super(e)}load(e,n,r,i){const a=this,o=[],s=new eO,l=new ho(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function f(h){l.load(e[h],function(p){const v=a.parse(p,!0);o[h]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(s.minFilter=zn),s.image=o,s.format=v.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else l.load(e,function(h){const p=a.parse(h,!0);if(p.isCubemap){const v=p.mipmaps.length/p.mipmapCount;for(let _=0;_<v;_++){o[_]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[_].mipmaps.push(p.mipmaps[_*p.mipmapCount+S]),o[_].format=p.format,o[_].width=p.width,o[_].height=p.height}s.image=o}else s.image.width=p.width,s.image.height=p.height,s.mipmaps=p.mipmaps;p.mipmapCount===1&&(s.minFilter=zn),s.format=p.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class Xv extends Ma{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=_h.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o;const s=zv("img");function l(){f(),_h.add(e,this),n&&n(this),a.manager.itemEnd(e)}function u(h){f(),i&&i(h),a.manager.itemError(e),a.manager.itemEnd(e)}function f(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),a.manager.itemStart(e),s.src=e,s}}class U8 extends Ma{constructor(e){super(e)}load(e,n,r,i){const a=new zy;a.colorSpace=fn;const o=new Xv(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(e[u],function(f){a.images[u]=f,s++,s===6&&(a.needsUpdate=!0,n&&n(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class dO extends Ma{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new hh,s=new ho(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){const u=a.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:br,o.wrapT=u.wrapT!==void 0?u.wrapT:br,o.magFilter=u.magFilter!==void 0?u.magFilter:zn,o.minFilter=u.minFilter!==void 0?u.minFilter:zn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Cc),u.mipmapCount===1&&(o.minFilter=zn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class nie extends Ma{constructor(e){super(e)}load(e,n,r,i){const a=new ir,o=new Xv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}}class Dc extends Fn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Mt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class F8 extends Dc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Fn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Mt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Fb=new sn,f3=new ne,h3=new ne;class pO{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ge(512,512),this.map=null,this.mapPass=null,this.matrix=new sn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ew,this._frameExtents=new Ge(1,1),this._viewportCount=1,this._viewports=[new Pn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;f3.setFromMatrixPosition(e.matrixWorld),n.position.copy(f3),h3.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(h3),n.updateMatrixWorld(),Fb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Fb),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Fb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class rie extends pO{constructor(){super(new Tr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Up*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class B8 extends Dc{constructor(e,n,r=0,i=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Fn.DEFAULT_UP),this.updateMatrix(),this.target=new Fn,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new rie}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const d3=new sn,Ug=new ne,Bb=new ne;class iie extends pO{constructor(){super(new Tr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ge(4,2),this._viewportCount=6,this._viewports=[new Pn(2,1,1,1),new Pn(0,1,1,1),new Pn(3,1,1,1),new Pn(1,1,1,1),new Pn(3,0,1,1),new Pn(1,0,1,1)],this._cubeDirections=[new ne(1,0,0),new ne(-1,0,0),new ne(0,0,1),new ne(0,0,-1),new ne(0,1,0),new ne(0,-1,0)],this._cubeUps=[new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,0,1),new ne(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),Ug.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ug),Bb.copy(r.position),Bb.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(Bb),r.updateMatrixWorld(),i.makeTranslation(-Ug.x,-Ug.y,-Ug.z),d3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(d3)}}class z8 extends Dc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new iie}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class aie extends pO{constructor(){super(new Cs(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class j8 extends Dc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Fn.DEFAULT_UP),this.updateMatrix(),this.target=new Fn,this.shadow=new aie}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class V8 extends Dc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class H8 extends Dc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class W8{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ne)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(r*a)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*r*a),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,a=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-i*i)}}class Sw extends Dc{constructor(e=new W8,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class bw extends Ma{constructor(e){super(e),this.textures={}}load(e,n,r,i){const a=this,o=new ho(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const i=bw.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Mt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new Mt().setHex(o.value);break;case"v2":i.uniforms[a].value=new Ge().fromArray(o.value);break;case"v3":i.uniforms[a].value=new ne().fromArray(o.value);break;case"v4":i.uniforms[a].value=new Pn().fromArray(o.value);break;case"m3":i.uniforms[a].value=new gn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new sn().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Ge().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:b8,SpriteMaterial:ZR,RawShaderMaterial:M8,ShaderMaterial:Wa,PointsMaterial:QR,MeshPhysicalMaterial:E8,MeshStandardMaterial:lO,MeshPhongMaterial:A8,MeshToonMaterial:T8,MeshNormalMaterial:P8,MeshLambertMaterial:C8,MeshDepthMaterial:YR,MeshDistanceMaterial:KR,MeshBasicMaterial:_u,MeshMatcapMaterial:R8,LineDashedMaterial:O8,LineBasicMaterial:ba,Material:na};return new n[e]}}class hC{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class mO extends yn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class G8 extends Ma{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ho(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,_){if(n[_]!==void 0)return n[_];const x=v.interleavedBuffers[_],w=a(v,x.buffer),E=yp(x.type,w),b=new aw(E,x.stride);return b.uuid=x.uuid,n[_]=b,b}function a(v,_){if(r[_]!==void 0)return r[_];const x=v.arrayBuffers[_],w=new Uint32Array(x).buffer;return r[_]=w,w}const o=e.isInstancedBufferGeometry?new mO:new yn,s=e.data.index;if(s!==void 0){const v=yp(s.type,s.array);o.setIndex(new or(v,1))}const l=e.data.attributes;for(const v in l){const _=l[v];let S;if(_.isInterleavedBufferAttribute){const x=i(e.data,_.data);S=new uo(x,_.itemSize,_.offset,_.normalized)}else{const x=yp(_.type,_.array),w=_.isInstancedBufferAttribute?Bp:or;S=new w(x,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),_.usage!==void 0&&S.setUsage(_.usage),_.updateRange!==void 0&&(S.updateRange.offset=_.updateRange.offset,S.updateRange.count=_.updateRange.count),o.setAttribute(v,S)}const u=e.data.morphAttributes;if(u)for(const v in u){const _=u[v],S=[];for(let x=0,w=_.length;x<w;x++){const E=_[x];let b;if(E.isInterleavedBufferAttribute){const T=i(e.data,E.data);b=new uo(T,E.itemSize,E.offset,E.normalized)}else{const T=yp(E.type,E.array);b=new or(T,E.itemSize,E.normalized)}E.name!==void 0&&(b.name=E.name),S.push(b)}o.morphAttributes[v]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let v=0,_=h.length;v!==_;++v){const S=h[v];o.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const v=new ne;p.center!==void 0&&v.fromArray(p.center),o.boundingSphere=new vo(v,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class oie extends Ma{constructor(e){super(e)}load(e,n,r,i){const a=this,o=this.path===""?hC.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new ho(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?hC.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new ho(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,a,l,s,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),n!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new dh().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new ow().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new G8;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in c3?s=c3[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const a=new bw;a.setTextures(n);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=qv.parse(i);n[a.uuid]=a}return n}parseImages(e,n){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:yp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new ww(n);a=new Xv(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const v=[];for(let _=0,S=p.length;_<S;_++){const x=p[_],w=s(x);w!==null&&(w instanceof HTMLImageElement?v.push(w):v.push(new hh(w.data,w.width,w.height)))}i[h.uuid]=new Qf(v)}else{const v=s(h.url);i[h.uuid]=new Qf(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:yp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Xv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let h=0,p=u.length;h<p;h++){const v=u[h],_=await a(v);_!==null&&(_ instanceof HTMLImageElement?f.push(_):f.push(new hh(_.data,_.width,_.height)))}r[l.uuid]=new Qf(f)}else{const f=await a(l.url);r[l.uuid]=new Qf(f)}}}return r}parseTextures(e,n){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let f;Array.isArray(u)?(f=new zy,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new hh:f=new ir,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=s.uuid,s.name!==void 0&&(f.name=s.name),s.mapping!==void 0&&(f.mapping=r(s.mapping,sie)),s.channel!==void 0&&(f.channel=s.channel),s.offset!==void 0&&f.offset.fromArray(s.offset),s.repeat!==void 0&&f.repeat.fromArray(s.repeat),s.center!==void 0&&f.center.fromArray(s.center),s.rotation!==void 0&&(f.rotation=s.rotation),s.wrap!==void 0&&(f.wrapS=r(s.wrap[0],p3),f.wrapT=r(s.wrap[1],p3)),s.format!==void 0&&(f.format=s.format),s.internalFormat!==void 0&&(f.internalFormat=s.internalFormat),s.type!==void 0&&(f.type=s.type),s.colorSpace!==void 0&&(f.colorSpace=s.colorSpace),s.encoding!==void 0&&(f.encoding=s.encoding),s.minFilter!==void 0&&(f.minFilter=r(s.minFilter,m3)),s.magFilter!==void 0&&(f.magFilter=r(s.magFilter,m3)),s.anisotropy!==void 0&&(f.anisotropy=s.anisotropy),s.flipY!==void 0&&(f.flipY=s.flipY),s.generateMipmaps!==void 0&&(f.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(f.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(f.compareFunction=s.compareFunction),s.userData!==void 0&&(f.userData=s.userData),i[s.uuid]=f}return i}parseObject(e,n,r,i,a){let o;function s(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const v=[];for(let _=0,S=p.length;_<S;_++){const x=p[_];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),v.push(r[x])}return v}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,h;switch(e.type){case"Scene":o=new jy,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Mt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new iw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new rw(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Tr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Cs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new V8(e.color,e.intensity);break;case"DirectionalLight":o=new j8(e.color,e.intensity);break;case"PointLight":o=new z8(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new H8(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new B8(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new F8(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Sw().fromJSON(e);break;case"SkinnedMesh":f=s(e.geometry),h=l(e.material),o=new c8(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=s(e.geometry),h=l(e.material),o=new Gr(f,h);break;case"InstancedMesh":f=s(e.geometry),h=l(e.material);const p=e.count,v=e.instanceMatrix,_=e.instanceColor;o=new f8(f,h,p),o.instanceMatrix=new Bp(new Float32Array(v.array),16),_!==void 0&&(o.instanceColor=new Bp(new Float32Array(_.array),_.itemSize));break;case"LOD":o=new u8;break;case"Line":o=new Rc(s(e.geometry),l(e.material));break;case"LineLoop":o=new h8(s(e.geometry),l(e.material));break;case"LineSegments":o=new hl(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new d8(s(e.geometry),l(e.material));break;case"Sprite":o=new l8(l(e.material));break;case"Group":o=new _p;break;case"Bone":o=new JR;break;default:o=new Fn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let v=0;v<p.length;v++)o.add(this.parseObject(p[v],n,r,i,a))}if(e.animations!==void 0){const p=e.animations;for(let v=0;v<p.length;v++){const _=p[v];o.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let v=0;v<p.length;v++){const _=p[v],S=o.getObjectByProperty("uuid",_.object);S!==void 0&&o.addLevel(S,_.distance,_.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const sie={UVMapping:Tc,CubeReflectionMapping:du,CubeRefractionMapping:Pc,EquirectangularReflectionMapping:kp,EquirectangularRefractionMapping:Iv,CubeUVReflectionMapping:ym},p3={RepeatWrapping:Lv,ClampToEdgeWrapping:br,MirroredRepeatWrapping:Nv},m3={NearestFilter:Wr,NearestMipmapNearestFilter:U_,NearestMipmapLinearFilter:pv,LinearFilter:zn,LinearMipmapNearestFilter:RR,LinearMipmapLinearFilter:Cc};class lie extends Ma{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=_h.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o;const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(l){_h.add(e,l),n&&n(l),a.manager.itemEnd(e)}).catch(function(l){i&&i(l),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}}let Ux;class gO{static getContext(){return Ux===void 0&&(Ux=new(window.AudioContext||window.webkitAudioContext)),Ux}static setContext(e){Ux=e}}class uie extends Ma{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ho(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);gO.getContext().decodeAudioData(u,function(h){n(h)},s)}catch(u){s(u)}},r,i);function s(l){i?i(l):console.error(l),a.manager.itemError(e)}}}class cie extends Sw{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Mt().set(e),a=new Mt().set(n),o=new ne(i.r,i.g,i.b),s=new ne(a.r,a.g,a.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(u)}}class fie extends Sw{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Mt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const g3=new sn,v3=new sn,If=new sn;class hie{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Tr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Tr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,If.copy(e.projectionMatrix);const i=n.eyeSep/2,a=i*n.near/n.focus,o=n.near*Math.tan(ch*n.fov*.5)/n.zoom;let s,l;v3.elements[12]=-i,g3.elements[12]=i,s=-o*n.aspect+a,l=o*n.aspect+a,If.elements[0]=2*n.near/(l-s),If.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(If),s=-o*n.aspect-a,l=o*n.aspect-a,If.elements[0]=2*n.near/(l-s),If.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(If)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(v3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(g3)}}class vO{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=y3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=y3();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function y3(){return(typeof performance>"u"?Date:performance).now()}const Lf=new ne,x3=new ta,die=new ne,Nf=new ne;class pie extends Fn{constructor(){super(),this.type="AudioListener",this.context=gO.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vO}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lf,x3,die),Nf.set(0,0,-1).applyQuaternion(x3),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Lf.x,i),n.positionY.linearRampToValueAtTime(Lf.y,i),n.positionZ.linearRampToValueAtTime(Lf.z,i),n.forwardX.linearRampToValueAtTime(Nf.x,i),n.forwardY.linearRampToValueAtTime(Nf.y,i),n.forwardZ.linearRampToValueAtTime(Nf.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Lf.x,Lf.y,Lf.z),n.setOrientation(Nf.x,Nf.y,Nf.z,r.x,r.y,r.z)}}class $8 extends Fn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Df=new ne,_3=new ta,mie=new ne,kf=new ne;class gie extends $8{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Df,_3,mie),kf.set(0,0,1).applyQuaternion(_3);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Df.x,r),n.positionY.linearRampToValueAtTime(Df.y,r),n.positionZ.linearRampToValueAtTime(Df.z,r),n.orientationX.linearRampToValueAtTime(kf.x,r),n.orientationY.linearRampToValueAtTime(kf.y,r),n.orientationZ.linearRampToValueAtTime(kf.z,r)}else n.setPosition(Df.x,Df.y,Df.z),n.setOrientation(kf.x,kf.y,kf.z)}}class vie{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class q8{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,a,o;switch(n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=n}else{o+=n;const s=n/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-a,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let a=r,o=i;a!==o;++a)n[a]=n[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){ta.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,a){const o=this._workIndex*a;ta.multiplyQuaternionsFlat(e,o,e,n,e,r),ta.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=n+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,n,r,i,a){for(let o=0;o!==a;++o){const s=n+o;e[s]=e[s]+e[r+o]*i}}}const yO="\\[\\]\\.:\\/",yie=new RegExp("["+yO+"]","g"),xO="[^"+yO+"]",xie="[^"+yO.replace("\\.","")+"]",_ie=/((?:WC+[\/:])*)/.source.replace("WC",xO),wie=/(WCOD+)?/.source.replace("WCOD",xie),Sie=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xO),bie=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xO),Mie=new RegExp("^"+_ie+wie+Sie+bie+"$"),Eie=["material","materials","bones","map"];class Aie{constructor(e,n,r){const i=r||Nn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Nn{constructor(e,n,r){this.path=n,this.parsedPath=r||Nn.parseTrackName(n),this.node=Nn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Nn.Composite(e,n,r):new Nn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(yie,"")}static parseTrackName(e){const n=Mie.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);Eie.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=Nn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nn.Composite=Aie;Nn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nn.prototype.GetterByBindingType=[Nn.prototype._getValue_direct,Nn.prototype._getValue_array,Nn.prototype._getValue_arrayElement,Nn.prototype._getValue_toArray];Nn.prototype.SetterByBindingTypeAndVersioning=[[Nn.prototype._setValue_direct,Nn.prototype._setValue_direct_setNeedsUpdate,Nn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_array,Nn.prototype._setValue_array_setNeedsUpdate,Nn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_arrayElement,Nn.prototype._setValue_arrayElement_setNeedsUpdate,Nn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_fromArray,Nn.prototype._setValue_fromArray_setNeedsUpdate,Nn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Tie{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,u=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],v=p.uuid;let _=n[v];if(_===void 0){_=l++,n[v]=_,e.push(p);for(let S=0,x=o;S!==x;++S)a[S].push(new Nn(p,r[S],i[S]))}else if(_<u){s=e[_];const S=--u,x=e[S];n[x.uuid]=_,e[_]=x,n[v]=S,e[S]=p;for(let w=0,E=o;w!==E;++w){const b=a[w],T=b[S];let P=b[_];b[_]=T,P===void 0&&(P=new Nn(p,r[w],i[w])),b[S]=P}}else e[_]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,f=n[u];if(f!==void 0&&f>=a){const h=a++,p=e[h];n[p.uuid]=f,e[f]=p,n[u]=h,e[h]=l;for(let v=0,_=i;v!==_;++v){const S=r[v],x=S[h],w=S[f];S[f]=x,S[h]=w}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],f=u.uuid,h=n[f];if(h!==void 0)if(delete n[f],h<a){const p=--a,v=e[p],_=--o,S=e[_];n[v.uuid]=h,e[h]=v,n[S.uuid]=p,e[p]=S,e.pop();for(let x=0,w=i;x!==w;++x){const E=r[x],b=E[p],T=E[_];E[h]=b,E[p]=T,E.pop()}}else{const p=--o,v=e[p];p>0&&(n[v.uuid]=h),e[h]=v,e.pop();for(let _=0,S=i;_!==S;++_){const x=r[_];x[h]=x[p],x.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,h=new Array(u);i=a.length,r[e]=i,o.push(e),s.push(n),a.push(h);for(let p=f,v=l.length;p!==v;++p){const _=l[p];h[p]=new Nn(_,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=e[s];n[u]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class X8{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const a=n.tracks,o=a.length,s=new Array(o),l={endingStart:Zf,endingEnd:Zf};for(let u=0;u!==o;++u){const f=a[u].createInterpolant(null);s[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=IH,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case BR:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulateAdditive(s);break;case J1:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===LH;if(e===0)return a===-1?i:o&&(a&1)===1?n-i:i;if(r===OH){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Jf,i.endingEnd=Jf):(e?i.endingStart=this.zeroSlopeAtStart?Jf:Zf:i.endingStart=Uv,n?i.endingEnd=this.zeroSlopeAtEnd?Jf:Zf:i.endingEnd=Uv)}_scheduleFading(e,n,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=n,s[1]=a+e,l[1]=r,this}}const Pie=new Float32Array(1);class Cie extends xu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let h=0;h!==a;++h){const p=i[h],v=p.name;let _=f[v];if(_!==void 0)++_.referenceCount,o[h]=_;else{if(_=o[h],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,v));continue}const S=n&&n._propertyBindings[h].binding.parsedPath;_=new q8(Nn.create(r,v,S),p.ValueTypeName,p.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,v),o[h]=_}s[h].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const h=s.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new fO(new Float32Array(2),new Float32Array(2),1,Pie),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=n[i];e.__cacheIndex=i,n[i]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const i=n||this._root,a=i.uuid;let o=typeof e=="string"?qv.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=J1),l!==void 0){const h=l.actionByRoot[a];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new X8(this,o,n,r);return this._bindAction(f,u),this._addInactiveAction(f,s,a),f}existingAction(e,n){const r=n||this._root,i=r.uuid,a=typeof e=="string"?qv.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const f=u._cacheIndex,h=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=f,n[f]=h,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[n];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class _O{constructor(e){this.value=e}clone(){return new _O(this.value.clone===void 0?this.value:this.value.clone())}}let Rie=0;class Oie extends xu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Rie++}),this.name="",this.usage=Fv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class j_ extends aw{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Iie{constructor(e,n,r,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class wO{constructor(e,n,r=0,i=1/0){this.ray=new Rh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new fh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return dC(e,this,r,n),r.sort(w3),r}intersectObjects(e,n=!0,r=[]){for(let i=0,a=e.length;i<a;i++)dC(e[i],this,r,n);return r.sort(w3),r}}function w3(t,e){return t.distance-e.distance}function dC(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let a=0,o=i.length;a<o;a++)dC(i[a],e,n,!0)}}class pC{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(kr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Lie{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const S3=new Ge;class Nie{constructor(e=new Ge(1/0,1/0),n=new Ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=S3.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,S3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const b3=new ne,Fx=new ne;class Y8{constructor(e=new ne,n=new ne){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){b3.subVectors(e,this.start),Fx.subVectors(this.end,this.start);const r=Fx.dot(Fx);let a=Fx.dot(b3)/r;return n&&(a=kr(a,0,1)),a}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const M3=new ne;class Die extends Fn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new yn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,f=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Lt(i,3));const a=new ba({fog:!1,toneMapped:!1});this.cone=new hl(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),M3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(M3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const lc=new ne,Bx=new sn,zb=new sn;class kie extends hl{constructor(e){const n=K8(e),r=new yn,i=[],a=[],o=new Mt(0,0,1),s=new Mt(0,1,0);for(let u=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(o.r,o.g,o.b),a.push(s.r,s.g,s.b))}r.setAttribute("position",new Lt(i,3)),r.setAttribute("color",new Lt(a,3));const l=new ba({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");zb.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const s=n[a];s.parent&&s.parent.isBone&&(Bx.multiplyMatrices(zb,s.matrixWorld),lc.setFromMatrixPosition(Bx),i.setXYZ(o,lc.x,lc.y,lc.z),Bx.multiplyMatrices(zb,s.parent.matrixWorld),lc.setFromMatrixPosition(Bx),i.setXYZ(o+1,lc.x,lc.y,lc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function K8(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,K8(t.children[n]));return e}class Uie extends Gr{constructor(e,n,r){const i=new Gy(n,4,2),a=new _u({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Fie=new ne,E3=new Mt,A3=new Mt;class Bie extends Fn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Wy(n);i.rotateY(Math.PI*.5),this.material=new _u({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new or(o,3)),this.add(new Gr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");E3.copy(this.light.color),A3.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const a=r<i/2?E3:A3;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Fie.setFromMatrixPosition(this.light.matrixWorld).negate())}}class zie extends hl{constructor(e=10,n=10,r=4473924,i=8947848){r=new Mt(r),i=new Mt(i);const a=n/2,o=e/n,s=e/2,l=[],u=[];for(let p=0,v=0,_=-s;p<=n;p++,_+=o){l.push(-s,0,_,s,0,_),l.push(_,0,-s,_,0,s);const S=p===a?r:i;S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3}const f=new yn;f.setAttribute("position",new Lt(l,3)),f.setAttribute("color",new Lt(u,3));const h=new ba({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jie extends hl{constructor(e=10,n=16,r=8,i=64,a=4473924,o=8947848){a=new Mt(a),o=new Mt(o);const s=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),v=Math.sin(p)*e,_=Math.cos(p)*e;s.push(0,0,0),s.push(v,0,_);const S=h&1?a:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let h=0;h<r;h++){const p=h&1?a:o,v=e-e/r*h;for(let _=0;_<i;_++){let S=_/i*(Math.PI*2),x=Math.sin(S)*v,w=Math.cos(S)*v;s.push(x,0,w),l.push(p.r,p.g,p.b),S=(_+1)/i*(Math.PI*2),x=Math.sin(S)*v,w=Math.cos(S)*v,s.push(x,0,w),l.push(p.r,p.g,p.b)}}const u=new yn;u.setAttribute("position",new Lt(s,3)),u.setAttribute("color",new Lt(l,3));const f=new ba({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const T3=new ne,zx=new ne,P3=new ne;class Vie extends Fn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new yn;i.setAttribute("position",new Lt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new ba({fog:!1,toneMapped:!1});this.lightPlane=new Rc(i,a),this.add(this.lightPlane),i=new yn,i.setAttribute("position",new Lt([0,0,0,0,0,1],3)),this.targetLine=new Rc(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),T3.setFromMatrixPosition(this.light.matrixWorld),zx.setFromMatrixPosition(this.light.target.matrixWorld),P3.subVectors(zx,T3),this.lightPlane.lookAt(zx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zx),this.targetLine.scale.z=P3.length()}}const jx=new ne,Lr=new By;class Hie extends hl{constructor(e){const n=new yn,r=new ba({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(_,S){l(_),l(S)}function l(_){i.push(0,0,0),a.push(0,0,0),o[_]===void 0&&(o[_]=[]),o[_].push(i.length/3-1)}n.setAttribute("position",new Lt(i,3)),n.setAttribute("color",new Lt(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Mt(16755200),f=new Mt(16711680),h=new Mt(43775),p=new Mt(16777215),v=new Mt(3355443);this.setColors(u,f,h,p,v)}setColors(e,n,r,i,a){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Lr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Vr("c",n,e,Lr,0,0,-1),Vr("t",n,e,Lr,0,0,1),Vr("n1",n,e,Lr,-r,-i,-1),Vr("n2",n,e,Lr,r,-i,-1),Vr("n3",n,e,Lr,-r,i,-1),Vr("n4",n,e,Lr,r,i,-1),Vr("f1",n,e,Lr,-r,-i,1),Vr("f2",n,e,Lr,r,-i,1),Vr("f3",n,e,Lr,-r,i,1),Vr("f4",n,e,Lr,r,i,1),Vr("u1",n,e,Lr,r*.7,i*1.1,-1),Vr("u2",n,e,Lr,-r*.7,i*1.1,-1),Vr("u3",n,e,Lr,0,i*2,-1),Vr("cf1",n,e,Lr,-r,0,1),Vr("cf2",n,e,Lr,r,0,1),Vr("cf3",n,e,Lr,0,-i,1),Vr("cf4",n,e,Lr,0,i,1),Vr("cn1",n,e,Lr,-r,0,-1),Vr("cn2",n,e,Lr,r,0,-1),Vr("cn3",n,e,Lr,0,-i,-1),Vr("cn4",n,e,Lr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Vr(t,e,n,r,i,a,o){jx.set(i,a,o).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,f=s.length;u<f;u++)l.setXYZ(s[u],jx.x,jx.y,jx.z)}}const Vx=new go;class Wie extends hl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new yn;a.setIndex(new or(r,1)),a.setAttribute("position",new or(i,3)),super(a,new ba({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Vx.setFromObject(this.object),Vx.isEmpty())return;const n=Vx.min,r=Vx.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Gie extends hl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new yn;a.setIndex(new or(r,1)),a.setAttribute("position",new Lt(i,3)),super(a,new ba({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class $ie extends Rc{constructor(e,n=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new yn;o.setAttribute("position",new Lt(a,3)),o.computeBoundingSphere(),super(o,new ba({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new yn;l.setAttribute("position",new Lt(s,3)),l.computeBoundingSphere(),this.add(new Gr(l,new _u({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const C3=new ne;let Hx,jb;class qie extends Fn{constructor(e=new ne(0,0,1),n=new ne(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",Hx===void 0&&(Hx=new yn,Hx.setAttribute("position",new Lt([0,0,0,0,1,0],3)),jb=new _m(0,.5,1,5,1),jb.translate(0,-.5,0)),this.position.copy(n),this.line=new Rc(Hx,new ba({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Gr(jb,new _u({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{C3.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(C3,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Xie extends hl{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new yn;i.setAttribute("position",new Lt(n,3)),i.setAttribute("color",new Lt(r,3));const a=new ba({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,n,r){const i=new Mt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(n),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yie{constructor(){this.type="ShapePath",this.color=new Mt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new jv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,a,o){return this.currentPath.bezierCurveTo(e,n,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const E=[];for(let b=0,T=w.length;b<T;b++){const P=w[b],C=new dh;C.curves=P.curves,E.push(C)}return E}function r(w,E){const b=E.length;let T=!1;for(let P=b-1,C=0;C<b;P=C++){let L=E[P],D=E[C],I=D.x-L.x,F=D.y-L.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(L=E[C],I=-I,D=E[P],F=-F),w.y<L.y||w.y>D.y)continue;if(w.y===L.y){if(w.x===L.x)return!0}else{const z=F*(w.x-L.x)-I*(w.y-L.y);if(z===0)return!0;if(z<0)continue;T=!T}}else{if(w.y!==L.y)continue;if(D.x<=w.x&&w.x<=L.x||L.x<=w.x&&w.x<=D.x)return!0}}return T}const i=sl.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new dh,l.curves=s.curves,u.push(l),u;let f=!i(a[0].getPoints());f=e?!f:f;const h=[],p=[];let v=[],_=0,S;p[_]=void 0,v[_]=[];for(let w=0,E=a.length;w<E;w++)s=a[w],S=s.getPoints(),o=i(S),o=e?!o:o,o?(!f&&p[_]&&_++,p[_]={s:new dh,p:S},p[_].s.curves=s.curves,f&&_++,v[_]=[]):v[_].push({h:s,p:S[0]});if(!p[0])return n(a);if(p.length>1){let w=!1,E=0;for(let b=0,T=p.length;b<T;b++)h[b]=[];for(let b=0,T=p.length;b<T;b++){const P=v[b];for(let C=0;C<P.length;C++){const L=P[C];let D=!0;for(let I=0;I<p.length;I++)r(L.p,p[I].p)&&(b!==I&&E++,D?(D=!1,h[I].push(L)):w=!0);D&&h[b].push(L)}}E>0&&w===!1&&(v=h)}let x;for(let w=0,E=p.length;w<E;w++){l=p[w].s,u.push(l),x=v[w];for(let b=0,T=x.length;b<T;b++)l.holes.push(x[b].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ky}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ky);const Kie=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:CR,AddEquation:$f,AddOperation:_H,AdditiveAnimationBlendMode:BR,AdditiveBlending:CP,AlphaFormat:EH,AlwaysCompare:GH,AlwaysDepth:dH,AlwaysStencilFunc:UH,AmbientLight:V8,AmbientLightProbe:fie,AnimationAction:X8,AnimationClip:qv,AnimationLoader:eie,AnimationMixer:Cie,AnimationObjectGroup:Tie,AnimationUtils:Kre,ArcCurve:p8,ArrayCamera:i8,ArrowHelper:qie,Audio:$8,AudioAnalyser:vie,AudioContext:gO,AudioListener:pie,AudioLoader:uie,AxesHelper:Xie,BackSide:Sa,BasicDepthPacking:NH,BasicShadowMap:QV,Bone:JR,BooleanKeyframeTrack:Lh,Box2:Nie,Box3:go,Box3Helper:Gie,BoxGeometry:Oh,BoxHelper:Wie,BufferAttribute:or,BufferGeometry:yn,BufferGeometryLoader:G8,ByteType:OR,Cache:_h,Camera:By,CameraHelper:Hie,CanvasTexture:_re,CapsuleGeometry:uw,CatmullRomCurve3:m8,CineonToneMapping:bH,CircleGeometry:cw,ClampToEdgeWrapping:br,Clock:vO,Color:Mt,ColorKeyframeTrack:hO,ColorManagement:Do,CompressedArrayTexture:xre,CompressedTexture:eO,CompressedTextureLoader:tie,ConeGeometry:fw,CubeCamera:ZH,CubeReflectionMapping:du,CubeRefractionMapping:Pc,CubeTexture:zy,CubeTextureLoader:U8,CubeUVReflectionMapping:ym,CubicBezierCurve:nO,CubicBezierCurve3:g8,CubicInterpolant:L8,CullFaceBack:PP,CullFaceFront:JV,CullFaceFrontBack:gZ,CullFaceNone:ZV,Curve:Ls,CurvePath:y8,CustomBlending:eH,CustomToneMapping:MH,CylinderGeometry:_m,Cylindrical:Lie,Data3DTexture:WR,DataArrayTexture:Q1,DataTexture:hh,DataTextureLoader:dO,DataUtils:eh,DecrementStencilOp:TZ,DecrementWrapStencilOp:CZ,DefaultLoadingManager:k8,DepthFormat:wc,DepthStencilFormat:yh,DepthTexture:a8,DirectionalLight:j8,DirectionalLightHelper:Vie,DiscreteInterpolant:N8,DisplayP3ColorSpace:jR,DodecahedronGeometry:hw,DoubleSide:Fo,DstAlphaFactor:sH,DstColorFactor:uH,DynamicCopyUsage:WZ,DynamicDrawUsage:FZ,DynamicReadUsage:jZ,EdgesGeometry:x8,EllipseCurve:sw,EqualCompare:zH,EqualDepth:mH,EqualStencilFunc:LZ,EquirectangularReflectionMapping:kp,EquirectangularRefractionMapping:Iv,Euler:Fy,EventDispatcher:xu,ExtrudeGeometry:pw,FileLoader:ho,Float16BufferAttribute:IJ,Float32BufferAttribute:Lt,Float64BufferAttribute:LJ,FloatType:hi,Fog:iw,FogExp2:rw,FramebufferTexture:yre,FrontSide:hu,Frustum:ew,GLBufferAttribute:Iie,GLSL1:$Z,GLSL3:iC,GreaterCompare:VH,GreaterDepth:vH,GreaterEqualCompare:WH,GreaterEqualDepth:gH,GreaterEqualStencilFunc:UZ,GreaterStencilFunc:DZ,GridHelper:zie,Group:_p,HalfFloatType:Ai,HemisphereLight:F8,HemisphereLightHelper:Bie,HemisphereLightProbe:cie,IcosahedronGeometry:Hy,ImageBitmapLoader:lie,ImageLoader:Xv,ImageUtils:HR,IncrementStencilOp:AZ,IncrementWrapStencilOp:PZ,InstancedBufferAttribute:Bp,InstancedBufferGeometry:mO,InstancedInterleavedBuffer:j_,InstancedMesh:f8,Int16BufferAttribute:RJ,Int32BufferAttribute:OJ,Int8BufferAttribute:TJ,IntType:Z1,InterleavedBuffer:aw,InterleavedBufferAttribute:uo,Interpolant:$y,InterpolateDiscrete:Dv,InterpolateLinear:kv,InterpolateSmooth:b_,InvertStencilOp:RZ,KeepStencilOp:M_,KeyframeTrack:Ns,LOD:u8,LatheGeometry:Vy,Layers:fh,LessCompare:BH,LessDepth:pH,LessEqualCompare:jH,LessEqualDepth:k_,LessEqualStencilFunc:NZ,LessStencilFunc:IZ,Light:Dc,LightProbe:Sw,Line:Rc,Line3:Y8,LineBasicMaterial:ba,LineCurve:lw,LineCurve3:v8,LineDashedMaterial:O8,LineLoop:h8,LineSegments:hl,LinearEncoding:zR,LinearFilter:zn,LinearInterpolant:fO,LinearMipMapLinearFilter:NP,LinearMipMapNearestFilter:_Z,LinearMipmapLinearFilter:Cc,LinearMipmapNearestFilter:RR,LinearSRGBColorSpace:Ha,LinearToneMapping:wH,Loader:Ma,LoaderUtils:hC,LoadingManager:ww,LoopOnce:OH,LoopPingPong:LH,LoopRepeat:IH,LuminanceAlphaFormat:TH,LuminanceFormat:AH,MOUSE:jf,Material:na,MaterialLoader:bw,MathUtils:qH,Matrix3:gn,Matrix4:sn,MaxEquation:LP,Mesh:Gr,MeshBasicMaterial:_u,MeshDepthMaterial:YR,MeshDistanceMaterial:KR,MeshLambertMaterial:C8,MeshMatcapMaterial:R8,MeshNormalMaterial:P8,MeshPhongMaterial:A8,MeshPhysicalMaterial:E8,MeshStandardMaterial:lO,MeshToonMaterial:T8,MinEquation:IP,MirroredRepeatWrapping:Nv,MixOperation:xH,MultiplyBlending:OP,MultiplyOperation:Uy,NearestFilter:Wr,NearestMipMapLinearFilter:xZ,NearestMipMapNearestFilter:yZ,NearestMipmapLinearFilter:pv,NearestMipmapNearestFilter:U_,NeverCompare:FH,NeverDepth:hH,NeverStencilFunc:OZ,NoBlending:ol,NoColorSpace:bc,NoToneMapping:Ps,NormalAnimationBlendMode:J1,NormalBlending:uh,NotEqualCompare:HH,NotEqualDepth:yH,NotEqualStencilFunc:kZ,NumberKeyframeTrack:Gv,Object3D:Fn,ObjectLoader:oie,ObjectSpaceNormalMap:kH,OctahedronGeometry:Wy,OneFactor:iH,OneMinusDstAlphaFactor:lH,OneMinusDstColorFactor:cH,OneMinusSrcAlphaFactor:PR,OneMinusSrcColorFactor:oH,OrthographicCamera:Cs,PCFShadowMap:Y1,PCFSoftShadowMap:dv,PMREMGenerator:oC,Path:jv,PerspectiveCamera:Tr,Plane:iu,PlaneGeometry:Ih,PlaneHelper:$ie,PointLight:z8,PointLightHelper:Uie,Points:d8,PointsMaterial:QR,PolarGridHelper:jie,PolyhedronGeometry:Nc,PositionalAudio:gie,PropertyBinding:Nn,PropertyMixer:q8,QuadraticBezierCurve:rO,QuadraticBezierCurve3:iO,Quaternion:ta,QuaternionKeyframeTrack:wm,QuaternionLinearInterpolant:D8,RED_GREEN_RGTC2_Format:nC,RED_RGTC1_Format:RH,REVISION:ky,RGBADepthPacking:DH,RGBAFormat:fi,RGBAIntegerFormat:FR,RGBA_ASTC_10x10_Format:JP,RGBA_ASTC_10x5_Format:YP,RGBA_ASTC_10x6_Format:KP,RGBA_ASTC_10x8_Format:ZP,RGBA_ASTC_12x10_Format:QP,RGBA_ASTC_12x12_Format:eC,RGBA_ASTC_4x4_Format:jP,RGBA_ASTC_5x4_Format:VP,RGBA_ASTC_5x5_Format:HP,RGBA_ASTC_6x5_Format:WP,RGBA_ASTC_6x6_Format:GP,RGBA_ASTC_8x5_Format:$P,RGBA_ASTC_8x6_Format:qP,RGBA_ASTC_8x8_Format:XP,RGBA_BPTC_Format:S_,RGBA_ETC2_EAC_Format:zP,RGBA_PVRTC_2BPPV1_Format:FP,RGBA_PVRTC_4BPPV1_Format:UP,RGBA_S3TC_DXT1_Format:x_,RGBA_S3TC_DXT3_Format:__,RGBA_S3TC_DXT5_Format:w_,RGB_ETC1_Format:CH,RGB_ETC2_Format:BP,RGB_PVRTC_2BPPV1_Format:kP,RGB_PVRTC_4BPPV1_Format:DP,RGB_S3TC_DXT1_Format:y_,RGFormat:PH,RGIntegerFormat:UR,RawShaderMaterial:M8,Ray:Rh,Raycaster:wO,RectAreaLight:H8,RedFormat:DR,RedIntegerFormat:kR,ReinhardToneMapping:SH,RepeatWrapping:Lv,ReplaceStencilOp:EZ,ReverseSubtractEquation:nH,RingGeometry:mw,SIGNED_RED_GREEN_RGTC2_Format:rC,SIGNED_RED_RGTC1_Format:tC,SRGBColorSpace:fn,Scene:jy,ShaderChunk:mn,ShaderLib:Ms,ShaderMaterial:Wa,ShadowMaterial:b8,Shape:dh,ShapeGeometry:gw,ShapePath:Yie,ShapeUtils:sl,ShortType:IR,Skeleton:ow,SkeletonHelper:kie,SkinnedMesh:c8,Source:Qf,Sphere:vo,SphereGeometry:Gy,Spherical:pC,SphericalHarmonics3:W8,SplineCurve:aO,SpotLight:B8,SpotLightHelper:Die,Sprite:l8,SpriteMaterial:ZR,SrcAlphaFactor:TR,SrcAlphaSaturateFactor:fH,SrcColorFactor:aH,StaticCopyUsage:HZ,StaticDrawUsage:Fv,StaticReadUsage:zZ,StereoCamera:hie,StreamCopyUsage:GZ,StreamDrawUsage:BZ,StreamReadUsage:VZ,StringKeyframeTrack:Nh,SubtractEquation:tH,SubtractiveBlending:RP,TOUCH:Vf,TangentSpaceNormalMap:Lc,TetrahedronGeometry:vw,Texture:ir,TextureLoader:nie,TorusGeometry:yw,TorusKnotGeometry:xw,Triangle:Ba,TriangleFanDrawMode:bZ,TriangleStripDrawMode:SZ,TrianglesDrawMode:wZ,TubeGeometry:_w,TwoPassDoubleSide:vZ,UVMapping:Tc,Uint16BufferAttribute:GR,Uint32BufferAttribute:$R,Uint8BufferAttribute:PJ,Uint8ClampedBufferAttribute:CJ,Uniform:_O,UniformsGroup:Oie,UniformsLib:mt,UniformsUtils:z_,UnsignedByteType:co,UnsignedInt248Type:_c,UnsignedIntType:el,UnsignedShort4444Type:LR,UnsignedShort5551Type:NR,UnsignedShortType:K1,VSMShadowMap:ws,Vector2:Ge,Vector3:ne,Vector4:Pn,VectorKeyframeTrack:$v,VideoTexture:vre,WebGL1Renderer:o8,WebGL3DRenderTarget:gJ,WebGLArrayRenderTarget:mJ,WebGLCoordinateSystem:tl,WebGLCubeRenderTarget:qR,WebGLMultipleRenderTargets:vJ,WebGLRenderTarget:mo,WebGLRenderer:nw,WebGLUtils:r8,WebGPUCoordinateSystem:Bv,WireframeGeometry:sO,WrapAroundEnding:Uv,ZeroCurvatureEnding:Zf,ZeroFactor:rH,ZeroSlopeEnding:Jf,ZeroStencilOp:MZ,_SRGBAFormat:F_,sRGBEncoding:Sc},Symbol.toStringTag,{value:"Module"}));var Vb={exports:{}},uc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3;function Zie(){return R3||(R3=1,uc.ConcurrentRoot=1,uc.ContinuousEventPriority=4,uc.DefaultEventPriority=16,uc.DiscreteEventPriority=1,uc.IdleEventPriority=536870912,uc.LegacyRoot=0),uc}var O3;function Jie(){return O3||(O3=1,Vb.exports=Zie()),Vb.exports}var Sp=Jie();function Qie(t){let e;const n=new Set,r=(u,f)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),n.forEach(v=>v(e,p))}},i=()=>e,a=(u,f=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function v(){const _=f(e);if(!h(p,_)){const S=p;u(p=_,S)}}return n.add(v),()=>n.delete(v)},l={setState:r,getState:i,subscribe:(u,f,h)=>f||h?a(u,f,h):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const eae=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),I3=eae?te.useEffect:te.useLayoutEffect;function Z8(t){const e=typeof t=="function"?Qie(t):t,n=(r=e.getState,i=Object.is)=>{const[,a]=te.useReducer(x=>x+1,0),o=e.getState(),s=te.useRef(o),l=te.useRef(r),u=te.useRef(i),f=te.useRef(!1),h=te.useRef();h.current===void 0&&(h.current=r(o));let p,v=!1;(s.current!==o||l.current!==r||u.current!==i||f.current)&&(p=r(o),v=!i(h.current,p)),I3(()=>{v&&(h.current=p),s.current=o,l.current=r,u.current=i,f.current=!1});const _=te.useRef(o);I3(()=>{const x=()=>{try{const E=e.getState(),b=l.current(E);u.current(h.current,b)||(s.current=E,h.current=b,a())}catch{f.current=!0,a()}},w=e.subscribe(x);return e.getState()!==_.current&&x(),w},[]);const S=v?p:h.current;return te.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const tae=t=>typeof t=="object"&&typeof t.then=="function",nh=[];function J8(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Q8(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const a of nh)if(J8(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=nh.indexOf(i);a!==-1&&nh.splice(a,1)},promise:(tae(t)?t:t(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(nh.push(i),!n)throw i.promise}const nae=(t,e,n)=>Q8(t,e,!1,n),rae=(t,e,n)=>void Q8(t,e,!0,n),iae=t=>{if(t===void 0||t.length===0)nh.splice(0,nh.length);else{const e=nh.find(n=>J8(t,n.keys,n.equal));e&&e.remove()}};var Hb={exports:{}},Wb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3;function aae(){return L3||(L3=1,function(t){function e($,re){var J=$.length;$.push(re);e:for(;0<J;){var j=J-1>>>1,q=$[j];if(0<i(q,re))$[j]=re,$[J]=q,J=j;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var re=$[0],J=$.pop();if(J!==re){$[0]=J;e:for(var j=0,q=$.length,pe=q>>>1;j<pe;){var _e=2*(j+1)-1,Re=$[_e],Ie=_e+1,Ye=$[Ie];if(0>i(Re,J))Ie<q&&0>i(Ye,Re)?($[j]=Ye,$[Ie]=J,j=Ie):($[j]=Re,$[_e]=J,j=_e);else if(Ie<q&&0>i(Ye,J))$[j]=Ye,$[Ie]=J,j=Ie;else break e}}return re}function i($,re){var J=$.sortIndex-re.sortIndex;return J!==0?J:$.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,h=null,p=3,v=!1,_=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var re=n(u);re!==null;){if(re.callback===null)r(u);else if(re.startTime<=$)r(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(u)}}function T($){if(S=!1,b($),!_)if(n(l)!==null)_=!0,oe(P);else{var re=n(u);re!==null&&ae(T,re.startTime-$)}}function P($,re){_=!1,S&&(S=!1,w(D),D=-1),v=!0;var J=p;try{for(b(re),h=n(l);h!==null&&(!(h.expirationTime>re)||$&&!z());){var j=h.callback;if(typeof j=="function"){h.callback=null,p=h.priorityLevel;var q=j(h.expirationTime<=re);re=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&r(l),b(re)}else r(l);h=n(l)}if(h!==null)var pe=!0;else{var _e=n(u);_e!==null&&ae(T,_e.startTime-re),pe=!1}return pe}finally{h=null,p=J,v=!1}}var C=!1,L=null,D=-1,I=5,F=-1;function z(){return!(t.unstable_now()-F<I)}function Y(){if(L!==null){var $=t.unstable_now();F=$;var re=!0;try{re=L(!0,$)}finally{re?H():(C=!1,L=null)}}else C=!1}var H;if(typeof E=="function")H=function(){E(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ee=K.port2;K.port1.onmessage=Y,H=function(){ee.postMessage(null)}}else H=function(){x(Y,0)};function oe($){L=$,C||(C=!0,H())}function ae($,re){D=x(function(){$(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,oe(P))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var J=p;p=re;try{return $()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=p;p=$;try{return re()}finally{p=J}},t.unstable_scheduleCallback=function($,re,J){var j=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?j+J:j):J=j,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=J+q,$={id:f++,callback:re,priorityLevel:$,startTime:J,expirationTime:q,sortIndex:-1},J>j?($.sortIndex=J,e(u,$),n(l)===null&&$===n(u)&&(S?(w(D),D=-1):S=!0,ae(T,J-j))):($.sortIndex=q,e(l,$),_||v||(_=!0,oe(P))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var re=p;return function(){var J=p;p=re;try{return $.apply(this,arguments)}finally{p=J}}}}(Gb)),Gb}var N3;function eW(){return N3||(N3=1,Wb.exports=aae()),Wb.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b,D3;function oae(){return D3||(D3=1,$b=function(e){var n={},r=j1(),i=eW(),a=Object.assign;function o(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,M=1;M<arguments.length;M++)g+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),P=Symbol.iterator;function C(m){return m===null||typeof m!="object"?null:(m=P&&m[P]||m["@@iterator"],typeof m=="function"?m:null)}function L(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case _:return(m.displayName||"Context")+".Consumer";case v:return(m._context.displayName||"Context")+".Provider";case S:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case E:return g=m.displayName||null,g!==null?g:L(m.type)||"Memo";case b:g=m._payload,m=m._init;try{return L(m(g))}catch{}}return null}function D(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(g);case 8:return g===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function I(m){var g=m,M=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(M=g.return),m=g.return;while(m)}return g.tag===3?M:null}function F(m){if(I(m)!==m)throw Error(o(188))}function z(m){var g=m.alternate;if(!g){if(g=I(m),g===null)throw Error(o(188));return g!==m?null:m}for(var M=m,R=g;;){var N=M.return;if(N===null)break;var B=N.alternate;if(B===null){if(R=N.return,R!==null){M=R;continue}break}if(N.child===B.child){for(B=N.child;B;){if(B===M)return F(N),m;if(B===R)return F(N),g;B=B.sibling}throw Error(o(188))}if(M.return!==R.return)M=N,R=B;else{for(var ue=!1,ye=N.child;ye;){if(ye===M){ue=!0,M=N,R=B;break}if(ye===R){ue=!0,R=N,M=B;break}ye=ye.sibling}if(!ue){for(ye=B.child;ye;){if(ye===M){ue=!0,M=B,R=N;break}if(ye===R){ue=!0,R=B,M=N;break}ye=ye.sibling}if(!ue)throw Error(o(189))}}if(M.alternate!==R)throw Error(o(190))}if(M.tag!==3)throw Error(o(188));return M.stateNode.current===M?m:g}function Y(m){return m=z(m),m!==null?H(m):null}function H(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=H(m);if(g!==null)return g;m=m.sibling}return null}function K(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var g=K(m);if(g!==null)return g}m=m.sibling}return null}var ee=Array.isArray,oe=e.getPublicInstance,ae=e.getRootHostContext,$=e.getChildHostContext,re=e.prepareForCommit,J=e.resetAfterCommit,j=e.createInstance,q=e.appendInitialChild,pe=e.finalizeInitialChildren,_e=e.prepareUpdate,Re=e.shouldSetTextContent,Ie=e.createTextInstance,Ye=e.scheduleTimeout,Xe=e.cancelTimeout,ke=e.noTimeout,Ze=e.isPrimaryRenderer,Fe=e.supportsMutation,Z=e.supportsPersistence,Ne=e.supportsHydration,be=e.getInstanceFromNode,qe=e.preparePortalMount,Be=e.getCurrentEventPriority,ot=e.detachDeletedInstance,lt=e.supportsMicrotasks,dt=e.scheduleMicrotask,Tt=e.supportsTestSelectors,Bt=e.findFiberRoot,ln=e.getBoundingRect,le=e.getTextContent,Q=e.isHiddenSubtree,Le=e.matchAccessibilityRole,tt=e.setFocusIfFocusable,Ke=e.setupIntersectionObserver,st=e.appendChild,Et=e.appendChildToContainer,ft=e.commitTextUpdate,ze=e.commitMount,zt=e.commitUpdate,Ot=e.insertBefore,_t=e.insertInContainerBefore,St=e.removeChild,he=e.removeChildFromContainer,Ue=e.resetTextContent,nt=e.hideInstance,de=e.hideTextInstance,we=e.unhideInstance,Me=e.unhideTextInstance,Qe=e.clearContainer,gt=e.cloneInstance,un=e.createContainerChildSet,dn=e.appendChildToContainerChildSet,An=e.finalizeContainerChildren,yr=e.replaceContainerChildren,bn=e.cloneHiddenInstance,xr=e.cloneHiddenTextInstance,jn=e.canHydrateInstance,Us=e.canHydrateTextInstance,yo=e.canHydrateSuspenseInstance,Go=e.isSuspenseInstancePending,ji=e.isSuspenseInstanceFallback,ra=e.registerSuspenseInstanceRetry,Ur=e.getNextHydratableSibling,an=e.getFirstHydratableChild,Eu=e.getFirstHydratableChildWithinContainer,zc=e.getFirstHydratableChildWithinSuspenseInstance,V=e.hydrateInstance,U=e.hydrateTextInstance,X=e.hydrateSuspenseInstance,se=e.getNextHydratableInstanceAfterSuspenseInstance,ie=e.commitHydratedContainer,ce=e.commitHydratedSuspenseInstance,Ee=e.clearSuspenseBoundary,Pe=e.clearSuspenseBoundaryFromContainer,Ve=e.shouldDeleteUnhydratedTailInstances,He=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance,Ce;function wt(m){if(Ce===void 0)try{throw Error()}catch(M){var g=M.stack.trim().match(/\n( *(at )?)/);Ce=g&&g[1]||""}return`
`+Ce+m}var ut=!1;function pt(m,g){if(!m||ut)return"";ut=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(it){var R=it}Reflect.construct(m,[],g)}else{try{g.call()}catch(it){R=it}m.call(g.prototype)}else{try{throw Error()}catch(it){R=it}m()}}catch(it){if(it&&R&&typeof it.stack=="string"){for(var N=it.stack.split(`
`),B=R.stack.split(`
`),ue=N.length-1,ye=B.length-1;1<=ue&&0<=ye&&N[ue]!==B[ye];)ye--;for(;1<=ue&&0<=ye;ue--,ye--)if(N[ue]!==B[ye]){if(ue!==1||ye!==1)do if(ue--,ye--,0>ye||N[ue]!==B[ye]){var je=`
`+N[ue].replace(" at new "," at ");return m.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",m.displayName)),je}while(1<=ue&&0<=ye);break}}}finally{ut=!1,Error.prepareStackTrace=M}return(m=m?m.displayName||m.name:"")?wt(m):""}var Dt=Object.prototype.hasOwnProperty,Ht=[],jt=-1;function yt(m){return{current:m}}function Ut(m){0>jt||(m.current=Ht[jt],Ht[jt]=null,jt--)}function It(m,g){jt++,Ht[jt]=m.current,m.current=g}var Vt={},Dn=yt(Vt),Zt=yt(!1),kn=Vt;function Mn(m,g){var M=m.type.contextTypes;if(!M)return Vt;var R=m.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===g)return R.__reactInternalMemoizedMaskedChildContext;var N={},B;for(B in M)N[B]=g[B];return R&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=N),N}function On(m){return m=m.childContextTypes,m!=null}function er(){Ut(Zt),Ut(Dn)}function Kt(m,g,M){if(Dn.current!==Vt)throw Error(o(168));It(Dn,g),It(Zt,M)}function dr(m,g,M){var R=m.stateNode;if(g=g.childContextTypes,typeof R.getChildContext!="function")return M;R=R.getChildContext();for(var N in R)if(!(N in g))throw Error(o(108,D(m)||"Unknown",N));return a({},M,R)}function In(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Vt,kn=Dn.current,It(Dn,m),It(Zt,Zt.current),!0}function xn(m,g,M){var R=m.stateNode;if(!R)throw Error(o(169));M?(m=dr(m,g,kn),R.__reactInternalMemoizedMergedChildContext=m,Ut(Zt),Ut(Dn),It(Dn,m)):Ut(Zt),It(Zt,M)}var tr=Math.clz32?Math.clz32:xo,$a=Math.log,Fr=Math.LN2;function xo(m){return m>>>=0,m===0?32:31-($a(m)/Fr|0)|0}var Au=64,Cn=4194304;function Tu(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function jc(m,g){var M=m.pendingLanes;if(M===0)return 0;var R=0,N=m.suspendedLanes,B=m.pingedLanes,ue=M&268435455;if(ue!==0){var ye=ue&~N;ye!==0?R=Tu(ye):(B&=ue,B!==0&&(R=Tu(B)))}else ue=M&~N,ue!==0?R=Tu(ue):B!==0&&(R=Tu(B));if(R===0)return 0;if(g!==0&&g!==R&&(g&N)===0&&(N=R&-R,B=g&-g,N>=B||N===16&&(B&4194240)!==0))return g;if((R&4)!==0&&(R|=M&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=R;0<g;)M=31-tr(g),N=1<<M,R|=m[M],g&=~N;return R}function Rm(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a0(m,g){for(var M=m.suspendedLanes,R=m.pingedLanes,N=m.expirationTimes,B=m.pendingLanes;0<B;){var ue=31-tr(B),ye=1<<ue,je=N[ue];je===-1?((ye&M)===0||(ye&R)!==0)&&(N[ue]=Rm(ye,g)):je<=g&&(m.expiredLanes|=ye),B&=~ye}}function zh(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function jh(m){for(var g=[],M=0;31>M;M++)g.push(m);return g}function gl(m,g,M){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-tr(g),m[g]=M}function Vh(m,g){var M=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var R=m.eventTimes;for(m=m.expirationTimes;0<M;){var N=31-tr(M),B=1<<N;g[N]=0,R[N]=-1,m[N]=-1,M&=~B}}function _o(m,g){var M=m.entangledLanes|=g;for(m=m.entanglements;M;){var R=31-tr(M),N=1<<R;N&g|m[R]&g&&(m[R]|=g),M&=~N}}var pn=0;function $o(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var vl=i.unstable_scheduleCallback,Pu=i.unstable_cancelCallback,Fs=i.unstable_shouldYield,mS=i.unstable_requestPaint,Br=i.unstable_now,yl=i.unstable_ImmediatePriority,gS=i.unstable_UserBlockingPriority,Hh=i.unstable_NormalPriority,Wh=i.unstable_IdlePriority,Vc=null,wo=null;function Hc(m){if(wo&&typeof wo.onCommitFiberRoot=="function")try{wo.onCommitFiberRoot(Vc,m,void 0,(m.current.flags&128)===128)}catch{}}function Wc(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var Pi=typeof Object.is=="function"?Object.is:Wc,Aa=null,Gh=!1,Om=!1;function $h(m){Aa===null?Aa=[m]:Aa.push(m)}function qh(m){Gh=!0,$h(m)}function Ta(){if(!Om&&Aa!==null){Om=!0;var m=0,g=pn;try{var M=Aa;for(pn=1;m<M.length;m++){var R=M[m];do R=R(!0);while(R!==null)}Aa=null,Gh=!1}catch(N){throw Aa!==null&&(Aa=Aa.slice(m+1)),vl(yl,Ta),N}finally{pn=g,Om=!1}}return null}var o0=s.ReactCurrentBatchConfig;function qa(m,g){if(Pi(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var M=Object.keys(m),R=Object.keys(g);if(M.length!==R.length)return!1;for(R=0;R<M.length;R++){var N=M[R];if(!Dt.call(g,N)||!Pi(m[N],g[N]))return!1}return!0}function Im(m){switch(m.tag){case 5:return wt(m.type);case 16:return wt("Lazy");case 13:return wt("Suspense");case 19:return wt("SuspenseList");case 0:case 2:case 15:return m=pt(m.type,!1),m;case 11:return m=pt(m.type.render,!1),m;case 1:return m=pt(m.type,!0),m;default:return""}}function Vi(m,g){if(m&&m.defaultProps){g=a({},g),m=m.defaultProps;for(var M in m)g[M]===void 0&&(g[M]=m[M]);return g}return g}var Gc=yt(null),xl=null,qo=null,Xh=null;function Ci(){Xh=qo=xl=null}function _l(m,g,M){Ze?(It(Gc,g._currentValue),g._currentValue=M):(It(Gc,g._currentValue2),g._currentValue2=M)}function $c(m){var g=Gc.current;Ut(Gc),Ze?m._currentValue=g:m._currentValue2=g}function wl(m,g,M){for(;m!==null;){var R=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,R!==null&&(R.childLanes|=g)):R!==null&&(R.childLanes&g)!==g&&(R.childLanes|=g),m===M)break;m=m.return}}function Cu(m,g){xl=m,Xh=qo=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&g)!==0&&(Yr=!0),m.firstContext=null)}function Hi(m){var g=Ze?m._currentValue:m._currentValue2;if(Xh!==m)if(m={context:m,memoizedValue:g,next:null},qo===null){if(xl===null)throw Error(o(308));qo=m,xl.dependencies={lanes:0,firstContext:m}}else qo=qo.next=m;return g}var Pa=null,Ca=!1;function Ru(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lm(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Xo(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function Bs(m,g){var M=m.updateQueue;M!==null&&(M=M.shared,Ar!==null&&(m.mode&1)!==0&&(cn&2)===0?(m=M.interleaved,m===null?(g.next=g,Pa===null?Pa=[M]:Pa.push(M)):(g.next=m.next,m.next=g),M.interleaved=g):(m=M.pending,m===null?g.next=g:(g.next=m.next,m.next=g),M.pending=g))}function Yh(m,g,M){if(g=g.updateQueue,g!==null&&(g=g.shared,(M&4194240)!==0)){var R=g.lanes;R&=m.pendingLanes,M|=R,g.lanes=M,_o(m,M)}}function Kh(m,g){var M=m.updateQueue,R=m.alternate;if(R!==null&&(R=R.updateQueue,M===R)){var N=null,B=null;if(M=M.firstBaseUpdate,M!==null){do{var ue={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};B===null?N=B=ue:B=B.next=ue,M=M.next}while(M!==null);B===null?N=B=g:B=B.next=g}else N=B=g;M={baseState:R.baseState,firstBaseUpdate:N,lastBaseUpdate:B,shared:R.shared,effects:R.effects},m.updateQueue=M;return}m=M.lastBaseUpdate,m===null?M.firstBaseUpdate=g:m.next=g,M.lastBaseUpdate=g}function Zh(m,g,M,R){var N=m.updateQueue;Ca=!1;var B=N.firstBaseUpdate,ue=N.lastBaseUpdate,ye=N.shared.pending;if(ye!==null){N.shared.pending=null;var je=ye,it=je.next;je.next=null,ue===null?B=it:ue.next=it,ue=je;var At=m.alternate;At!==null&&(At=At.updateQueue,ye=At.lastBaseUpdate,ye!==ue&&(ye===null?At.firstBaseUpdate=it:ye.next=it,At.lastBaseUpdate=je))}if(B!==null){var tn=N.baseState;ue=0,At=it=je=null,ye=B;do{var Wt=ye.lane,hn=ye.eventTime;if((R&Wt)===Wt){At!==null&&(At=At.next={eventTime:hn,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var xt=m,si=ye;switch(Wt=g,hn=M,si.tag){case 1:if(xt=si.payload,typeof xt=="function"){tn=xt.call(hn,tn,Wt);break e}tn=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=si.payload,Wt=typeof xt=="function"?xt.call(hn,tn,Wt):xt,Wt==null)break e;tn=a({},tn,Wt);break e;case 2:Ca=!0}}ye.callback!==null&&ye.lane!==0&&(m.flags|=64,Wt=N.effects,Wt===null?N.effects=[ye]:Wt.push(ye))}else hn={eventTime:hn,lane:Wt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},At===null?(it=At=hn,je=tn):At=At.next=hn,ue|=Wt;if(ye=ye.next,ye===null){if(ye=N.shared.pending,ye===null)break;Wt=ye,ye=Wt.next,Wt.next=null,N.lastBaseUpdate=Wt,N.shared.pending=null}}while(!0);if(At===null&&(je=tn),N.baseState=je,N.firstBaseUpdate=it,N.lastBaseUpdate=At,g=N.shared.interleaved,g!==null){N=g;do ue|=N.lane,N=N.next;while(N!==g)}else B===null&&(N.shared.lanes=0);Eo|=ue,m.lanes=ue,m.memoizedState=tn}}function s0(m,g,M){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var R=m[g],N=R.callback;if(N!==null){if(R.callback=null,R=M,typeof N!="function")throw Error(o(191,N));N.call(R)}}}var l0=new r.Component().refs;function Nm(m,g,M,R){g=m.memoizedState,M=M(R,g),M=M==null?g:a({},g,M),m.memoizedState=M,m.lanes===0&&(m.updateQueue.baseState=M)}var Jh={isMounted:function(m){return(m=m._reactInternals)?I(m)===m:!1},enqueueSetState:function(m,g,M){m=m._reactInternals;var R=Rn(),N=eo(m),B=Xo(R,N);B.payload=g,M!=null&&(B.callback=M),Bs(m,B),g=xi(m,N,R),g!==null&&Yh(g,m,N)},enqueueReplaceState:function(m,g,M){m=m._reactInternals;var R=Rn(),N=eo(m),B=Xo(R,N);B.tag=1,B.payload=g,M!=null&&(B.callback=M),Bs(m,B),g=xi(m,N,R),g!==null&&Yh(g,m,N)},enqueueForceUpdate:function(m,g){m=m._reactInternals;var M=Rn(),R=eo(m),N=Xo(M,R);N.tag=2,g!=null&&(N.callback=g),Bs(m,N),g=xi(m,R,M),g!==null&&Yh(g,m,R)}};function Dm(m,g,M,R,N,B,ue){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(R,B,ue):g.prototype&&g.prototype.isPureReactComponent?!qa(M,R)||!qa(N,B):!0}function u0(m,g,M){var R=!1,N=Vt,B=g.contextType;return typeof B=="object"&&B!==null?B=Hi(B):(N=On(g)?kn:Dn.current,R=g.contextTypes,B=(R=R!=null)?Mn(m,N):Vt),g=new g(M,B),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jh,m.stateNode=g,g._reactInternals=m,R&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=N,m.__reactInternalMemoizedMaskedChildContext=B),g}function c0(m,g,M,R){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(M,R),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(M,R),g.state!==m&&Jh.enqueueReplaceState(g,g.state,null)}function km(m,g,M,R){var N=m.stateNode;N.props=M,N.state=m.memoizedState,N.refs=l0,Ru(m);var B=g.contextType;typeof B=="object"&&B!==null?N.context=Hi(B):(B=On(g)?kn:Dn.current,N.context=Mn(m,B)),N.state=m.memoizedState,B=g.getDerivedStateFromProps,typeof B=="function"&&(Nm(m,g,B,M),N.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(g=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),g!==N.state&&Jh.enqueueReplaceState(N,N.state,null),Zh(m,M,N,R),N.state=m.memoizedState),typeof N.componentDidMount=="function"&&(m.flags|=4194308)}var Ou=[],zs=0,Qh=null,ed=0,Ra=[],ia=0,Sl=null,Yo=1,Ko="";function bl(m,g){Ou[zs++]=ed,Ou[zs++]=Qh,Qh=m,ed=g}function f0(m,g,M){Ra[ia++]=Yo,Ra[ia++]=Ko,Ra[ia++]=Sl,Sl=m;var R=Yo;m=Ko;var N=32-tr(R)-1;R&=~(1<<N),M+=1;var B=32-tr(g)+N;if(30<B){var ue=N-N%5;B=(R&(1<<ue)-1).toString(32),R>>=ue,N-=ue,Yo=1<<32-tr(g)+N|M<<N|R,Ko=B+m}else Yo=1<<B|M<<N|R,Ko=m}function Um(m){m.return!==null&&(bl(m,1),f0(m,1,0))}function Fm(m){for(;m===Qh;)Qh=Ou[--zs],Ou[zs]=null,ed=Ou[--zs],Ou[zs]=null;for(;m===Sl;)Sl=Ra[--ia],Ra[ia]=null,Ko=Ra[--ia],Ra[ia]=null,Yo=Ra[--ia],Ra[ia]=null}var Ri=null,ni=null,sr=!1,Iu=!1,Oa=null;function Bm(m,g){var M=fa(5,null,null,0);M.elementType="DELETED",M.stateNode=g,M.return=m,g=m.deletions,g===null?(m.deletions=[M],m.flags|=16):g.push(M)}function zm(m,g){switch(m.tag){case 5:return g=jn(g,m.type,m.pendingProps),g!==null?(m.stateNode=g,Ri=m,ni=an(g),!0):!1;case 6:return g=Us(g,m.pendingProps),g!==null?(m.stateNode=g,Ri=m,ni=null,!0):!1;case 13:if(g=yo(g),g!==null){var M=Sl!==null?{id:Yo,overflow:Ko}:null;return m.memoizedState={dehydrated:g,treeContext:M,retryLane:1073741824},M=fa(18,null,null,0),M.stateNode=g,M.return=m,m.child=M,Ri=m,ni=null,!0}return!1;default:return!1}}function td(m){return(m.mode&1)!==0&&(m.flags&128)===0}function js(m){if(sr){var g=ni;if(g){var M=g;if(!zm(m,g)){if(td(m))throw Error(o(418));g=Ur(M);var R=Ri;g&&zm(m,g)?Bm(R,M):(m.flags=m.flags&-4097|2,sr=!1,Ri=m)}}else{if(td(m))throw Error(o(418));m.flags=m.flags&-4097|2,sr=!1,Ri=m}}}function h0(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Ri=m}function qc(m){if(!Ne||m!==Ri)return!1;if(!sr)return h0(m),sr=!0,!1;if(m.tag!==3&&(m.tag!==5||Ve(m.type)&&!Re(m.type,m.memoizedProps))){var g=ni;if(g){if(td(m)){for(m=ni;m;)m=Ur(m);throw Error(o(418))}for(;g;)Bm(m,g),g=Ur(g)}}if(h0(m),m.tag===13){if(!Ne)throw Error(o(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));ni=se(m)}else ni=Ri?Ur(m.stateNode):null;return!0}function Lu(){Ne&&(ni=Ri=null,Iu=sr=!1)}function nd(m){Oa===null?Oa=[m]:Oa.push(m)}function Nu(m,g,M){if(m=M.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(o(309));var R=M.stateNode}if(!R)throw Error(o(147,m));var N=R,B=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===B?g.ref:(g=function(ue){var ye=N.refs;ye===l0&&(ye=N.refs={}),ue===null?delete ye[B]:ye[B]=ue},g._stringRef=B,g)}if(typeof m!="string")throw Error(o(284));if(!M._owner)throw Error(o(290,m))}return m}function Vs(m,g){throw m=Object.prototype.toString.call(g),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function Du(m){var g=m._init;return g(m._payload)}function d0(m){function g(Te,xe){if(m){var De=Te.deletions;De===null?(Te.deletions=[xe],Te.flags|=16):De.push(xe)}}function M(Te,xe){if(!m)return null;for(;xe!==null;)g(Te,xe),xe=xe.sibling;return null}function R(Te,xe){for(Te=new Map;xe!==null;)xe.key!==null?Te.set(xe.key,xe):Te.set(xe.index,xe),xe=xe.sibling;return Te}function N(Te,xe){return Te=cs(Te,xe),Te.index=0,Te.sibling=null,Te}function B(Te,xe,De){return Te.index=De,m?(De=Te.alternate,De!==null?(De=De.index,De<xe?(Te.flags|=2,xe):De):(Te.flags|=2,xe)):(Te.flags|=1048576,xe)}function ue(Te){return m&&Te.alternate===null&&(Te.flags|=2),Te}function ye(Te,xe,De,vt){return xe===null||xe.tag!==6?(xe=Cd(De,Te.mode,vt),xe.return=Te,xe):(xe=N(xe,De),xe.return=Te,xe)}function je(Te,xe,De,vt){var kt=De.type;return kt===f?At(Te,xe,De.props.children,vt,De.key):xe!==null&&(xe.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===b&&Du(kt)===xe.type)?(vt=N(xe,De.props),vt.ref=Nu(Te,xe,De),vt.return=Te,vt):(vt=Pd(De.type,De.key,De.props,null,Te.mode,vt),vt.ref=Nu(Te,xe,De),vt.return=Te,vt)}function it(Te,xe,De,vt){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==De.containerInfo||xe.stateNode.implementation!==De.implementation?(xe=Rd(De,Te.mode,vt),xe.return=Te,xe):(xe=N(xe,De.children||[]),xe.return=Te,xe)}function At(Te,xe,De,vt,kt){return xe===null||xe.tag!==7?(xe=Gl(De,Te.mode,vt,kt),xe.return=Te,xe):(xe=N(xe,De),xe.return=Te,xe)}function tn(Te,xe,De){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=Cd(""+xe,Te.mode,De),xe.return=Te,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return De=Pd(xe.type,xe.key,xe.props,null,Te.mode,De),De.ref=Nu(Te,null,xe),De.return=Te,De;case u:return xe=Rd(xe,Te.mode,De),xe.return=Te,xe;case b:var vt=xe._init;return tn(Te,vt(xe._payload),De)}if(ee(xe)||C(xe))return xe=Gl(xe,Te.mode,De,null),xe.return=Te,xe;Vs(Te,xe)}return null}function Wt(Te,xe,De,vt){var kt=xe!==null?xe.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return kt!==null?null:ye(Te,xe,""+De,vt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case l:return De.key===kt?je(Te,xe,De,vt):null;case u:return De.key===kt?it(Te,xe,De,vt):null;case b:return kt=De._init,Wt(Te,xe,kt(De._payload),vt)}if(ee(De)||C(De))return kt!==null?null:At(Te,xe,De,vt,null);Vs(Te,De)}return null}function hn(Te,xe,De,vt,kt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Te=Te.get(De)||null,ye(xe,Te,""+vt,kt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case l:return Te=Te.get(vt.key===null?De:vt.key)||null,je(xe,Te,vt,kt);case u:return Te=Te.get(vt.key===null?De:vt.key)||null,it(xe,Te,vt,kt);case b:var on=vt._init;return hn(Te,xe,De,on(vt._payload),kt)}if(ee(vt)||C(vt))return Te=Te.get(De)||null,At(xe,Te,vt,kt,null);Vs(xe,vt)}return null}function xt(Te,xe,De,vt){for(var kt=null,on=null,nn=xe,Tn=xe=0,Or=null;nn!==null&&Tn<De.length;Tn++){nn.index>Tn?(Or=nn,nn=null):Or=nn.sibling;var En=Wt(Te,nn,De[Tn],vt);if(En===null){nn===null&&(nn=Or);break}m&&nn&&En.alternate===null&&g(Te,nn),xe=B(En,xe,Tn),on===null?kt=En:on.sibling=En,on=En,nn=Or}if(Tn===De.length)return M(Te,nn),sr&&bl(Te,Tn),kt;if(nn===null){for(;Tn<De.length;Tn++)nn=tn(Te,De[Tn],vt),nn!==null&&(xe=B(nn,xe,Tn),on===null?kt=nn:on.sibling=nn,on=nn);return sr&&bl(Te,Tn),kt}for(nn=R(Te,nn);Tn<De.length;Tn++)Or=hn(nn,Te,Tn,De[Tn],vt),Or!==null&&(m&&Or.alternate!==null&&nn.delete(Or.key===null?Tn:Or.key),xe=B(Or,xe,Tn),on===null?kt=Or:on.sibling=Or,on=Or);return m&&nn.forEach(function(fs){return g(Te,fs)}),sr&&bl(Te,Tn),kt}function si(Te,xe,De,vt){var kt=C(De);if(typeof kt!="function")throw Error(o(150));if(De=kt.call(De),De==null)throw Error(o(151));for(var on=kt=null,nn=xe,Tn=xe=0,Or=null,En=De.next();nn!==null&&!En.done;Tn++,En=De.next()){nn.index>Tn?(Or=nn,nn=null):Or=nn.sibling;var fs=Wt(Te,nn,En.value,vt);if(fs===null){nn===null&&(nn=Or);break}m&&nn&&fs.alternate===null&&g(Te,nn),xe=B(fs,xe,Tn),on===null?kt=fs:on.sibling=fs,on=fs,nn=Or}if(En.done)return M(Te,nn),sr&&bl(Te,Tn),kt;if(nn===null){for(;!En.done;Tn++,En=De.next())En=tn(Te,En.value,vt),En!==null&&(xe=B(En,xe,Tn),on===null?kt=En:on.sibling=En,on=En);return sr&&bl(Te,Tn),kt}for(nn=R(Te,nn);!En.done;Tn++,En=De.next())En=hn(nn,Te,Tn,En.value,vt),En!==null&&(m&&En.alternate!==null&&nn.delete(En.key===null?Tn:En.key),xe=B(En,xe,Tn),on===null?kt=En:on.sibling=En,on=En);return m&&nn.forEach(function(vg){return g(Te,vg)}),sr&&bl(Te,Tn),kt}function ha(Te,xe,De,vt){if(typeof De=="object"&&De!==null&&De.type===f&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case l:e:{for(var kt=De.key,on=xe;on!==null;){if(on.key===kt){if(kt=De.type,kt===f){if(on.tag===7){M(Te,on.sibling),xe=N(on,De.props.children),xe.return=Te,Te=xe;break e}}else if(on.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===b&&Du(kt)===on.type){M(Te,on.sibling),xe=N(on,De.props),xe.ref=Nu(Te,on,De),xe.return=Te,Te=xe;break e}M(Te,on);break}else g(Te,on);on=on.sibling}De.type===f?(xe=Gl(De.props.children,Te.mode,vt,De.key),xe.return=Te,Te=xe):(vt=Pd(De.type,De.key,De.props,null,Te.mode,vt),vt.ref=Nu(Te,xe,De),vt.return=Te,Te=vt)}return ue(Te);case u:e:{for(on=De.key;xe!==null;){if(xe.key===on)if(xe.tag===4&&xe.stateNode.containerInfo===De.containerInfo&&xe.stateNode.implementation===De.implementation){M(Te,xe.sibling),xe=N(xe,De.children||[]),xe.return=Te,Te=xe;break e}else{M(Te,xe);break}else g(Te,xe);xe=xe.sibling}xe=Rd(De,Te.mode,vt),xe.return=Te,Te=xe}return ue(Te);case b:return on=De._init,ha(Te,xe,on(De._payload),vt)}if(ee(De))return xt(Te,xe,De,vt);if(C(De))return si(Te,xe,De,vt);Vs(Te,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,xe!==null&&xe.tag===6?(M(Te,xe.sibling),xe=N(xe,De),xe.return=Te,Te=xe):(M(Te,xe),xe=Cd(De,Te.mode,vt),xe.return=Te,Te=xe),ue(Te)):M(Te,xe)}return ha}var Zo=d0(!0),p0=d0(!1),ku={},Wi=yt(ku),Ml=yt(ku),El=yt(ku);function Xa(m){if(m===ku)throw Error(o(174));return m}function rd(m,g){It(El,g),It(Ml,m),It(Wi,ku),m=ae(g),Ut(Wi),It(Wi,m)}function Uu(){Ut(Wi),Ut(Ml),Ut(El)}function m0(m){var g=Xa(El.current),M=Xa(Wi.current);g=$(M,m.type,g),M!==g&&(It(Ml,m),It(Wi,g))}function jm(m){Ml.current===m&&(Ut(Wi),Ut(Ml))}var pr=yt(0);function id(m){for(var g=m;g!==null;){if(g.tag===13){var M=g.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||Go(M)||ji(M)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var aa=[];function Al(){for(var m=0;m<aa.length;m++){var g=aa[m];Ze?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}aa.length=0}var Xc=s.ReactCurrentDispatcher,oa=s.ReactCurrentBatchConfig,Tl=0,mr=null,$r=null,qr=null,ad=!1,So=!1,Pl=0,Yc=0;function Xr(){throw Error(o(321))}function od(m,g){if(g===null)return!1;for(var M=0;M<g.length&&M<m.length;M++)if(!Pi(m[M],g[M]))return!1;return!0}function Fu(m,g,M,R,N,B){if(Tl=B,mr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Xc.current=m===null||m.memoizedState===null?qm:Xm,m=M(R,N),So){B=0;do{if(So=!1,Pl=0,25<=B)throw Error(o(301));B+=1,qr=$r=null,g.updateQueue=null,Xc.current=Ym,m=M(R,N)}while(So)}if(Xc.current=Vu,g=$r!==null&&$r.next!==null,Tl=0,qr=$r=mr=null,ad=!1,g)throw Error(o(300));return m}function Hs(){var m=Pl!==0;return Pl=0,m}function Ya(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?mr.memoizedState=qr=m:qr=qr.next=m,qr}function Ka(){if($r===null){var m=mr.alternate;m=m!==null?m.memoizedState:null}else m=$r.next;var g=qr===null?mr.memoizedState:qr.next;if(g!==null)qr=g,$r=m;else{if(m===null)throw Error(o(310));$r=m,m={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},qr===null?mr.memoizedState=qr=m:qr=qr.next=m}return qr}function bo(m,g){return typeof g=="function"?g(m):g}function Kc(m){var g=Ka(),M=g.queue;if(M===null)throw Error(o(311));M.lastRenderedReducer=m;var R=$r,N=R.baseQueue,B=M.pending;if(B!==null){if(N!==null){var ue=N.next;N.next=B.next,B.next=ue}R.baseQueue=N=B,M.pending=null}if(N!==null){B=N.next,R=R.baseState;var ye=ue=null,je=null,it=B;do{var At=it.lane;if((Tl&At)===At)je!==null&&(je=je.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),R=it.hasEagerState?it.eagerState:m(R,it.action);else{var tn={lane:At,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};je===null?(ye=je=tn,ue=R):je=je.next=tn,mr.lanes|=At,Eo|=At}it=it.next}while(it!==null&&it!==B);je===null?ue=R:je.next=ye,Pi(R,g.memoizedState)||(Yr=!0),g.memoizedState=R,g.baseState=ue,g.baseQueue=je,M.lastRenderedState=R}if(m=M.interleaved,m!==null){N=m;do B=N.lane,mr.lanes|=B,Eo|=B,N=N.next;while(N!==m)}else N===null&&(M.lanes=0);return[g.memoizedState,M.dispatch]}function Zc(m){var g=Ka(),M=g.queue;if(M===null)throw Error(o(311));M.lastRenderedReducer=m;var R=M.dispatch,N=M.pending,B=g.memoizedState;if(N!==null){M.pending=null;var ue=N=N.next;do B=m(B,ue.action),ue=ue.next;while(ue!==N);Pi(B,g.memoizedState)||(Yr=!0),g.memoizedState=B,g.baseQueue===null&&(g.baseState=B),M.lastRenderedState=B}return[B,R]}function Vm(){}function Hm(m,g){var M=mr,R=Ka(),N=g(),B=!Pi(R.memoizedState,N);if(B&&(R.memoizedState=N,Yr=!0),R=R.queue,Bu(Jo.bind(null,M,R,m),[m]),R.getSnapshot!==g||B||qr!==null&&qr.memoizedState.tag&1){if(M.flags|=2048,Qc(9,Gm.bind(null,M,R,N,g),void 0,null),Ar===null)throw Error(o(349));(Tl&30)!==0||Wm(M,g,N)}return N}function Wm(m,g,M){m.flags|=16384,m={getSnapshot:g,value:M},g=mr.updateQueue,g===null?(g={lastEffect:null,stores:null},mr.updateQueue=g,g.stores=[m]):(M=g.stores,M===null?g.stores=[m]:M.push(m))}function Gm(m,g,M,R){g.value=M,g.getSnapshot=R,sd(g)&&xi(m,1,-1)}function Jo(m,g,M){return M(function(){sd(g)&&xi(m,1,-1)})}function sd(m){var g=m.getSnapshot;m=m.value;try{var M=g();return!Pi(m,M)}catch{return!0}}function Jc(m){var g=Ya();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:m},g.queue=m,m=m.dispatch=vS.bind(null,mr,m),[g.memoizedState,m]}function Qc(m,g,M,R){return m={tag:m,create:g,destroy:M,deps:R,next:null},g=mr.updateQueue,g===null?(g={lastEffect:null,stores:null},mr.updateQueue=g,g.lastEffect=m.next=m):(M=g.lastEffect,M===null?g.lastEffect=m.next=m:(R=M.next,M.next=m,m.next=R,g.lastEffect=m)),m}function g0(){return Ka().memoizedState}function Ws(m,g,M,R){var N=Ya();mr.flags|=m,N.memoizedState=Qc(1|g,M,void 0,R===void 0?null:R)}function ld(m,g,M,R){var N=Ka();R=R===void 0?null:R;var B=void 0;if($r!==null){var ue=$r.memoizedState;if(B=ue.destroy,R!==null&&od(R,ue.deps)){N.memoizedState=Qc(g,M,B,R);return}}mr.flags|=m,N.memoizedState=Qc(1|g,M,B,R)}function ud(m,g){return Ws(8390656,8,m,g)}function Bu(m,g){return ld(2048,8,m,g)}function Kn(m,g){return ld(4,2,m,g)}function cd(m,g){return ld(4,4,m,g)}function ef(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function zu(m,g,M){return M=M!=null?M.concat([m]):null,ld(4,4,ef.bind(null,g,m),M)}function fd(){}function hd(m,g){var M=Ka();g=g===void 0?null:g;var R=M.memoizedState;return R!==null&&g!==null&&od(g,R[1])?R[0]:(M.memoizedState=[m,g],m)}function ju(m,g){var M=Ka();g=g===void 0?null:g;var R=M.memoizedState;return R!==null&&g!==null&&od(g,R[1])?R[0]:(m=m(),M.memoizedState=[m,g],m)}function dd(m,g){var M=pn;pn=M!==0&&4>M?M:4,m(!0);var R=oa.transition;oa.transition={};try{m(!1),g()}finally{pn=M,oa.transition=R}}function Cl(){return Ka().memoizedState}function v0(m,g,M){var R=eo(m);M={lane:R,action:M,hasEagerState:!1,eagerState:null,next:null},y0(m)?$m(g,M):(tf(m,g,M),M=Rn(),m=xi(m,R,M),m!==null&&nf(m,g,R))}function vS(m,g,M){var R=eo(m),N={lane:R,action:M,hasEagerState:!1,eagerState:null,next:null};if(y0(m))$m(g,N);else{tf(m,g,N);var B=m.alternate;if(m.lanes===0&&(B===null||B.lanes===0)&&(B=g.lastRenderedReducer,B!==null))try{var ue=g.lastRenderedState,ye=B(ue,M);if(N.hasEagerState=!0,N.eagerState=ye,Pi(ye,ue))return}catch{}finally{}M=Rn(),m=xi(m,R,M),m!==null&&nf(m,g,R)}}function y0(m){var g=m.alternate;return m===mr||g!==null&&g===mr}function $m(m,g){So=ad=!0;var M=m.pending;M===null?g.next=g:(g.next=M.next,M.next=g),m.pending=g}function tf(m,g,M){Ar!==null&&(m.mode&1)!==0&&(cn&2)===0?(m=g.interleaved,m===null?(M.next=M,Pa===null?Pa=[g]:Pa.push(g)):(M.next=m.next,m.next=M),g.interleaved=M):(m=g.pending,m===null?M.next=M:(M.next=m.next,m.next=M),g.pending=M)}function nf(m,g,M){if((M&4194240)!==0){var R=g.lanes;R&=m.pendingLanes,M|=R,g.lanes=M,_o(m,M)}}var Vu={readContext:Hi,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},qm={readContext:Hi,useCallback:function(m,g){return Ya().memoizedState=[m,g===void 0?null:g],m},useContext:Hi,useEffect:ud,useImperativeHandle:function(m,g,M){return M=M!=null?M.concat([m]):null,Ws(4194308,4,ef.bind(null,g,m),M)},useLayoutEffect:function(m,g){return Ws(4194308,4,m,g)},useInsertionEffect:function(m,g){return Ws(4,2,m,g)},useMemo:function(m,g){var M=Ya();return g=g===void 0?null:g,m=m(),M.memoizedState=[m,g],m},useReducer:function(m,g,M){var R=Ya();return g=M!==void 0?M(g):g,R.memoizedState=R.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},R.queue=m,m=m.dispatch=v0.bind(null,mr,m),[R.memoizedState,m]},useRef:function(m){var g=Ya();return m={current:m},g.memoizedState=m},useState:Jc,useDebugValue:fd,useDeferredValue:function(m){var g=Jc(m),M=g[0],R=g[1];return ud(function(){var N=oa.transition;oa.transition={};try{R(m)}finally{oa.transition=N}},[m]),M},useTransition:function(){var m=Jc(!1),g=m[0];return m=dd.bind(null,m[1]),Ya().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,M){var R=mr,N=Ya();if(sr){if(M===void 0)throw Error(o(407));M=M()}else{if(M=g(),Ar===null)throw Error(o(349));(Tl&30)!==0||Wm(R,g,M)}N.memoizedState=M;var B={value:M,getSnapshot:g};return N.queue=B,ud(Jo.bind(null,R,B,m),[m]),R.flags|=2048,Qc(9,Gm.bind(null,R,B,M,g),void 0,null),M},useId:function(){var m=Ya(),g=Ar.identifierPrefix;if(sr){var M=Ko,R=Yo;M=(R&~(1<<32-tr(R)-1)).toString(32)+M,g=":"+g+"R"+M,M=Pl++,0<M&&(g+="H"+M.toString(32)),g+=":"}else M=Yc++,g=":"+g+"r"+M.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},Xm={readContext:Hi,useCallback:hd,useContext:Hi,useEffect:Bu,useImperativeHandle:zu,useInsertionEffect:Kn,useLayoutEffect:cd,useMemo:ju,useReducer:Kc,useRef:g0,useState:function(){return Kc(bo)},useDebugValue:fd,useDeferredValue:function(m){var g=Kc(bo),M=g[0],R=g[1];return Bu(function(){var N=oa.transition;oa.transition={};try{R(m)}finally{oa.transition=N}},[m]),M},useTransition:function(){var m=Kc(bo)[0],g=Ka().memoizedState;return[m,g]},useMutableSource:Vm,useSyncExternalStore:Hm,useId:Cl,unstable_isNewReconciler:!1},Ym={readContext:Hi,useCallback:hd,useContext:Hi,useEffect:Bu,useImperativeHandle:zu,useInsertionEffect:Kn,useLayoutEffect:cd,useMemo:ju,useReducer:Zc,useRef:g0,useState:function(){return Zc(bo)},useDebugValue:fd,useDeferredValue:function(m){var g=Zc(bo),M=g[0],R=g[1];return Bu(function(){var N=oa.transition;oa.transition={};try{R(m)}finally{oa.transition=N}},[m]),M},useTransition:function(){var m=Zc(bo)[0],g=Ka().memoizedState;return[m,g]},useMutableSource:Vm,useSyncExternalStore:Hm,useId:Cl,unstable_isNewReconciler:!1};function Km(m,g){try{var M="",R=g;do M+=Im(R),R=R.return;while(R);var N=M}catch(B){N=`
Error generating stack: `+B.message+`
`+B.stack}return{value:m,source:g,stack:N}}function pd(m,g){try{console.error(g.value)}catch(M){setTimeout(function(){throw M})}}var yS=typeof WeakMap=="function"?WeakMap:Map;function x0(m,g,M){M=Xo(-1,M),M.tag=3,M.payload={element:null};var R=g.value;return M.callback=function(){Xu||(Xu=!0,rr=R),pd(m,g)},M}function md(m,g,M){M=Xo(-1,M),M.tag=3;var R=m.type.getDerivedStateFromError;if(typeof R=="function"){var N=g.value;M.payload=function(){return R(N)},M.callback=function(){pd(m,g)}}var B=m.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(M.callback=function(){pd(m,g),typeof R!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var ue=g.stack;this.componentDidCatch(g.value,{componentStack:ue!==null?ue:""})}),M}function Qo(m,g,M){var R=m.pingCache;if(R===null){R=m.pingCache=new yS;var N=new Set;R.set(g,N)}else N=R.get(g),N===void 0&&(N=new Set,R.set(g,N));N.has(M)||(N.add(M),m=pg.bind(null,m,g,M),g.then(m,m))}function Zm(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function Rl(m,g,M,R,N){return(m.mode&1)===0?(m===g?m.flags|=65536:(m.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(g=Xo(-1,1),g.tag=2,Bs(M,g))),M.lanes|=1),m):(m.flags|=65536,m.lanes=N,m)}function zr(m){m.flags|=4}function Hu(m,g){if(m!==null&&m.child===g.child)return!0;if((g.flags&16)!==0)return!1;for(m=g.child;m!==null;){if((m.flags&12854)!==0||(m.subtreeFlags&12854)!==0)return!1;m=m.sibling}return!0}var sa,Ol,gd,vd;if(Fe)sa=function(m,g){for(var M=g.child;M!==null;){if(M.tag===5||M.tag===6)q(m,M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===g)break;for(;M.sibling===null;){if(M.return===null||M.return===g)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},Ol=function(){},gd=function(m,g,M,R,N){if(m=m.memoizedProps,m!==R){var B=g.stateNode,ue=Xa(Wi.current);M=_e(B,M,m,R,N,ue),(g.updateQueue=M)&&zr(g)}},vd=function(m,g,M,R){M!==R&&zr(g)};else if(Z){sa=function(m,g,M,R){for(var N=g.child;N!==null;){if(N.tag===5){var B=N.stateNode;M&&R&&(B=bn(B,N.type,N.memoizedProps,N)),q(m,B)}else if(N.tag===6)B=N.stateNode,M&&R&&(B=xr(B,N.memoizedProps,N)),q(m,B);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)B=N.child,B!==null&&(B.return=N),sa(m,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===g)break;for(;N.sibling===null;){if(N.return===null||N.return===g)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};var Gs=function(m,g,M,R){for(var N=g.child;N!==null;){if(N.tag===5){var B=N.stateNode;M&&R&&(B=bn(B,N.type,N.memoizedProps,N)),dn(m,B)}else if(N.tag===6)B=N.stateNode,M&&R&&(B=xr(B,N.memoizedProps,N)),dn(m,B);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)B=N.child,B!==null&&(B.return=N),Gs(m,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===g)break;for(;N.sibling===null;){if(N.return===null||N.return===g)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};Ol=function(m,g){var M=g.stateNode;if(!Hu(m,g)){m=M.containerInfo;var R=un(m);Gs(R,g,!1,!1),M.pendingChildren=R,zr(g),An(m,R)}},gd=function(m,g,M,R,N){var B=m.stateNode,ue=m.memoizedProps;if((m=Hu(m,g))&&ue===R)g.stateNode=B;else{var ye=g.stateNode,je=Xa(Wi.current),it=null;ue!==R&&(it=_e(ye,M,ue,R,N,je)),m&&it===null?g.stateNode=B:(B=gt(B,it,M,ue,R,g,m,ye),pe(B,M,R,N,je)&&zr(g),g.stateNode=B,m?zr(g):sa(B,g,!1,!1))}},vd=function(m,g,M,R){M!==R?(m=Xa(El.current),M=Xa(Wi.current),g.stateNode=Ie(R,m,M,g),zr(g)):g.stateNode=m.stateNode}}else Ol=function(){},gd=function(){},vd=function(){};function es(m,g){if(!sr)switch(m.tailMode){case"hidden":g=m.tail;for(var M=null;g!==null;)g.alternate!==null&&(M=g),g=g.sibling;M===null?m.tail=null:M.sibling=null;break;case"collapsed":M=m.tail;for(var R=null;M!==null;)M.alternate!==null&&(R=M),M=M.sibling;R===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:R.sibling=null}}function Er(m){var g=m.alternate!==null&&m.alternate.child===m.child,M=0,R=0;if(g)for(var N=m.child;N!==null;)M|=N.lanes|N.childLanes,R|=N.subtreeFlags&14680064,R|=N.flags&14680064,N.return=m,N=N.sibling;else for(N=m.child;N!==null;)M|=N.lanes|N.childLanes,R|=N.subtreeFlags,R|=N.flags,N.return=m,N=N.sibling;return m.subtreeFlags|=R,m.childLanes=M,g}function yd(m,g,M){var R=g.pendingProps;switch(Fm(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(g),null;case 1:return On(g.type)&&er(),Er(g),null;case 3:return R=g.stateNode,Uu(),Ut(Zt),Ut(Dn),Al(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(m===null||m.child===null)&&(qc(g)?zr(g):m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Oa!==null&&(gf(Oa),Oa=null))),Ol(m,g),Er(g),null;case 5:jm(g),M=Xa(El.current);var N=g.type;if(m!==null&&g.stateNode!=null)gd(m,g,N,R,M),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!R){if(g.stateNode===null)throw Error(o(166));return Er(g),null}if(m=Xa(Wi.current),qc(g)){if(!Ne)throw Error(o(175));m=V(g.stateNode,g.type,g.memoizedProps,M,m,g,!Iu),g.updateQueue=m,m!==null&&zr(g)}else{var B=j(N,R,M,m,g);sa(B,g,!1,!1),g.stateNode=B,pe(B,N,R,M,m)&&zr(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Er(g),null;case 6:if(m&&g.stateNode!=null)vd(m,g,m.memoizedProps,R);else{if(typeof R!="string"&&g.stateNode===null)throw Error(o(166));if(m=Xa(El.current),M=Xa(Wi.current),qc(g)){if(!Ne)throw Error(o(176));if(m=g.stateNode,R=g.memoizedProps,(M=U(m,R,g,!Iu))&&(N=Ri,N!==null))switch(B=(N.mode&1)!==0,N.tag){case 3:He(N.stateNode.containerInfo,m,R,B);break;case 5:$e(N.type,N.memoizedProps,N.stateNode,m,R,B)}M&&zr(g)}else g.stateNode=Ie(R,m,M,g)}return Er(g),null;case 13:if(Ut(pr),R=g.memoizedState,sr&&ni!==null&&(g.mode&1)!==0&&(g.flags&128)===0){for(m=ni;m;)m=Ur(m);return Lu(),g.flags|=98560,g}if(R!==null&&R.dehydrated!==null){if(R=qc(g),m===null){if(!R)throw Error(o(318));if(!Ne)throw Error(o(344));if(m=g.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));X(m,g)}else Lu(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;return Er(g),null}return Oa!==null&&(gf(Oa),Oa=null),(g.flags&128)!==0?(g.lanes=M,g):(R=R!==null,M=!1,m===null?qc(g):M=m.memoizedState!==null,R&&!M&&(g.child.flags|=8192,(g.mode&1)!==0&&(m===null||(pr.current&1)!==0?wr===0&&(wr=3):Ed())),g.updateQueue!==null&&(g.flags|=4),Er(g),null);case 4:return Uu(),Ol(m,g),m===null&&qe(g.stateNode.containerInfo),Er(g),null;case 10:return $c(g.type._context),Er(g),null;case 17:return On(g.type)&&er(),Er(g),null;case 19:if(Ut(pr),N=g.memoizedState,N===null)return Er(g),null;if(R=(g.flags&128)!==0,B=N.rendering,B===null)if(R)es(N,!1);else{if(wr!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if(B=id(m),B!==null){for(g.flags|=128,es(N,!1),m=B.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),g.subtreeFlags=0,m=M,R=g.child;R!==null;)M=R,N=m,M.flags&=14680066,B=M.alternate,B===null?(M.childLanes=0,M.lanes=N,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=B.childLanes,M.lanes=B.lanes,M.child=B.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=B.memoizedProps,M.memoizedState=B.memoizedState,M.updateQueue=B.updateQueue,M.type=B.type,N=B.dependencies,M.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),R=R.sibling;return It(pr,pr.current&1|2),g.child}m=m.sibling}N.tail!==null&&Br()>Xs&&(g.flags|=128,R=!0,es(N,!1),g.lanes=4194304)}else{if(!R)if(m=id(B),m!==null){if(g.flags|=128,R=!0,m=m.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),es(N,!0),N.tail===null&&N.tailMode==="hidden"&&!B.alternate&&!sr)return Er(g),null}else 2*Br()-N.renderingStartTime>Xs&&M!==1073741824&&(g.flags|=128,R=!0,es(N,!1),g.lanes=4194304);N.isBackwards?(B.sibling=g.child,g.child=B):(m=N.last,m!==null?m.sibling=B:g.child=B,N.last=B)}return N.tail!==null?(g=N.tail,N.rendering=g,N.tail=g.sibling,N.renderingStartTime=Br(),g.sibling=null,m=pr.current,It(pr,R?m&1|2:m&1),g):(Er(g),null);case 22:case 23:return vf(),R=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==R&&(g.flags|=8192),R&&(g.mode&1)!==0?(yi&1073741824)!==0&&(Er(g),Fe&&g.subtreeFlags&6&&(g.flags|=8192)):Er(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var Jm=s.ReactCurrentOwner,Yr=!1;function _r(m,g,M,R){g.child=m===null?p0(g,null,M,R):Zo(g,m.child,M,R)}function Zn(m,g,M,R,N){M=M.render;var B=g.ref;return Cu(g,N),R=Fu(m,g,M,R,B,N),M=Hs(),m!==null&&!Yr?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~N,Gi(m,g,N)):(sr&&M&&Um(g),g.flags|=1,_r(m,g,R,N),g.child)}function qn(m,g,M,R,N){if(m===null){var B=M.type;return typeof B=="function"&&!Td(B)&&B.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(g.tag=15,g.type=B,ts(m,g,B,R,N)):(m=Pd(M.type,null,R,g,g.mode,N),m.ref=g.ref,m.return=g,g.child=m)}if(B=m.child,(m.lanes&N)===0){var ue=B.memoizedProps;if(M=M.compare,M=M!==null?M:qa,M(ue,R)&&m.ref===g.ref)return Gi(m,g,N)}return g.flags|=1,m=cs(B,R),m.ref=g.ref,m.return=g,g.child=m}function ts(m,g,M,R,N){if(m!==null&&qa(m.memoizedProps,R)&&m.ref===g.ref)if(Yr=!1,(m.lanes&N)!==0)(m.flags&131072)!==0&&(Yr=!0);else return g.lanes=m.lanes,Gi(m,g,N);return ns(m,g,M,R,N)}function ri(m,g,M){var R=g.pendingProps,N=R.children,B=m!==null?m.memoizedState:null;if(R.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null},It(zl,yi),yi|=M;else if((M&1073741824)!==0)g.memoizedState={baseLanes:0,cachePool:null},R=B!==null?B.baseLanes:M,It(zl,yi),yi|=R;else return m=B!==null?B.baseLanes|M:M,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null},g.updateQueue=null,It(zl,yi),yi|=m,null;else B!==null?(R=B.baseLanes|M,g.memoizedState=null):R=M,It(zl,yi),yi|=R;return _r(m,g,N,M),g.child}function Oi(m,g){var M=g.ref;(m===null&&M!==null||m!==null&&m.ref!==M)&&(g.flags|=512,g.flags|=2097152)}function ns(m,g,M,R,N){var B=On(M)?kn:Dn.current;return B=Mn(g,B),Cu(g,N),M=Fu(m,g,M,R,B,N),R=Hs(),m!==null&&!Yr?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~N,Gi(m,g,N)):(sr&&R&&Um(g),g.flags|=1,_r(m,g,M,N),g.child)}function Il(m,g,M,R,N){if(On(M)){var B=!0;In(g)}else B=!1;if(Cu(g,N),g.stateNode===null)m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),u0(g,M,R),km(g,M,R,N),R=!0;else if(m===null){var ue=g.stateNode,ye=g.memoizedProps;ue.props=ye;var je=ue.context,it=M.contextType;typeof it=="object"&&it!==null?it=Hi(it):(it=On(M)?kn:Dn.current,it=Mn(g,it));var At=M.getDerivedStateFromProps,tn=typeof At=="function"||typeof ue.getSnapshotBeforeUpdate=="function";tn||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(ye!==R||je!==it)&&c0(g,ue,R,it),Ca=!1;var Wt=g.memoizedState;ue.state=Wt,Zh(g,R,ue,N),je=g.memoizedState,ye!==R||Wt!==je||Zt.current||Ca?(typeof At=="function"&&(Nm(g,M,At,R),je=g.memoizedState),(ye=Ca||Dm(g,M,ye,R,Wt,je,it))?(tn||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=R,g.memoizedState=je),ue.props=R,ue.state=je,ue.context=it,R=ye):(typeof ue.componentDidMount=="function"&&(g.flags|=4194308),R=!1)}else{ue=g.stateNode,Lm(m,g),ye=g.memoizedProps,it=g.type===g.elementType?ye:Vi(g.type,ye),ue.props=it,tn=g.pendingProps,Wt=ue.context,je=M.contextType,typeof je=="object"&&je!==null?je=Hi(je):(je=On(M)?kn:Dn.current,je=Mn(g,je));var hn=M.getDerivedStateFromProps;(At=typeof hn=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(ye!==tn||Wt!==je)&&c0(g,ue,R,je),Ca=!1,Wt=g.memoizedState,ue.state=Wt,Zh(g,R,ue,N);var xt=g.memoizedState;ye!==tn||Wt!==xt||Zt.current||Ca?(typeof hn=="function"&&(Nm(g,M,hn,R),xt=g.memoizedState),(it=Ca||Dm(g,M,it,R,Wt,xt,je)||!1)?(At||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(R,xt,je),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(R,xt,je)),typeof ue.componentDidUpdate=="function"&&(g.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ue.componentDidUpdate!="function"||ye===m.memoizedProps&&Wt===m.memoizedState||(g.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||ye===m.memoizedProps&&Wt===m.memoizedState||(g.flags|=1024),g.memoizedProps=R,g.memoizedState=xt),ue.props=R,ue.state=xt,ue.context=je,R=it):(typeof ue.componentDidUpdate!="function"||ye===m.memoizedProps&&Wt===m.memoizedState||(g.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||ye===m.memoizedProps&&Wt===m.memoizedState||(g.flags|=1024),R=!1)}return vi(m,g,M,R,B,N)}function vi(m,g,M,R,N,B){Oi(m,g);var ue=(g.flags&128)!==0;if(!R&&!ue)return N&&xn(g,M,!1),Gi(m,g,B);R=g.stateNode,Jm.current=g;var ye=ue&&typeof M.getDerivedStateFromError!="function"?null:R.render();return g.flags|=1,m!==null&&ue?(g.child=Zo(g,m.child,null,B),g.child=Zo(g,null,ye,B)):_r(m,g,ye,B),g.memoizedState=R.state,N&&xn(g,M,!0),g.child}function rf(m){var g=m.stateNode;g.pendingContext?Kt(m,g.pendingContext,g.pendingContext!==g.context):g.context&&Kt(m,g.context,!1),rd(m,g.containerInfo)}function Qm(m,g,M,R,N){return Lu(),nd(N),g.flags|=256,_r(m,g,M,R),g.child}var af={dehydrated:null,treeContext:null,retryLane:0};function Ll(m){return{baseLanes:m,cachePool:null}}function eg(m,g,M){var R=g.pendingProps,N=pr.current,B=!1,ue=(g.flags&128)!==0,ye;if((ye=ue)||(ye=m!==null&&m.memoizedState===null?!1:(N&2)!==0),ye?(B=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(N|=1),It(pr,N&1),m===null)return js(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((g.mode&1)===0?g.lanes=1:ji(m)?g.lanes=8:g.lanes=1073741824,null):(N=R.children,m=R.fallback,B?(R=g.mode,B=g.child,N={mode:"hidden",children:N},(R&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=N):B=_f(N,R,0,null),m=Gl(m,R,M,null),B.return=g,m.return=g,B.sibling=m,g.child=B,g.child.memoizedState=Ll(M),g.memoizedState=af,m):Za(g,N));if(N=m.memoizedState,N!==null){if(ye=N.dehydrated,ye!==null){if(ue)return g.flags&256?(g.flags&=-257,sf(m,g,M,Error(o(422)))):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(B=R.fallback,N=g.mode,R=_f({mode:"visible",children:R.children},N,0,null),B=Gl(B,N,M,null),B.flags|=2,R.return=g,B.return=g,R.sibling=B,g.child=R,(g.mode&1)!==0&&Zo(g,m.child,null,M),g.child.memoizedState=Ll(M),g.memoizedState=af,B);if((g.mode&1)===0)g=sf(m,g,M,null);else if(ji(ye))g=sf(m,g,M,Error(o(419)));else if(R=(M&m.childLanes)!==0,Yr||R){if(R=Ar,R!==null){switch(M&-M){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}R=(B&(R.suspendedLanes|M))!==0?0:B,R!==0&&R!==N.retryLane&&(N.retryLane=R,xi(m,R,-1))}Ed(),g=sf(m,g,M,Error(o(421)))}else Go(ye)?(g.flags|=128,g.child=m.child,g=M0.bind(null,m),ra(ye,g),g=null):(M=N.treeContext,Ne&&(ni=zc(ye),Ri=g,sr=!0,Oa=null,Iu=!1,M!==null&&(Ra[ia++]=Yo,Ra[ia++]=Ko,Ra[ia++]=Sl,Yo=M.id,Ko=M.overflow,Sl=g)),g=Za(g,g.pendingProps.children),g.flags|=4096);return g}return B?(R=xd(m,g,R.children,R.fallback,M),B=g.child,N=m.child.memoizedState,B.memoizedState=N===null?Ll(M):{baseLanes:N.baseLanes|M,cachePool:null},B.childLanes=m.childLanes&~M,g.memoizedState=af,R):(M=of(m,g,R.children,M),g.memoizedState=null,M)}return B?(R=xd(m,g,R.children,R.fallback,M),B=g.child,N=m.child.memoizedState,B.memoizedState=N===null?Ll(M):{baseLanes:N.baseLanes|M,cachePool:null},B.childLanes=m.childLanes&~M,g.memoizedState=af,R):(M=of(m,g,R.children,M),g.memoizedState=null,M)}function Za(m,g){return g=_f({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function of(m,g,M,R){var N=m.child;return m=N.sibling,M=cs(N,{mode:"visible",children:M}),(g.mode&1)===0&&(M.lanes=R),M.return=g,M.sibling=null,m!==null&&(R=g.deletions,R===null?(g.deletions=[m],g.flags|=16):R.push(m)),g.child=M}function xd(m,g,M,R,N){var B=g.mode;m=m.child;var ue=m.sibling,ye={mode:"hidden",children:M};return(B&1)===0&&g.child!==m?(M=g.child,M.childLanes=0,M.pendingProps=ye,g.deletions=null):(M=cs(m,ye),M.subtreeFlags=m.subtreeFlags&14680064),ue!==null?R=cs(ue,R):(R=Gl(R,B,N,null),R.flags|=2),R.return=g,M.return=g,M.sibling=R,g.child=M,R}function sf(m,g,M,R){return R!==null&&nd(R),Zo(g,m.child,null,M),m=Za(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function _0(m,g,M){m.lanes|=g;var R=m.alternate;R!==null&&(R.lanes|=g),wl(m.return,g,M)}function Mo(m,g,M,R,N){var B=m.memoizedState;B===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:R,tail:M,tailMode:N}:(B.isBackwards=g,B.rendering=null,B.renderingStartTime=0,B.last=R,B.tail=M,B.tailMode=N)}function Nl(m,g,M){var R=g.pendingProps,N=R.revealOrder,B=R.tail;if(_r(m,g,R.children,M),R=pr.current,(R&2)!==0)R=R&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&_0(m,M,g);else if(m.tag===19)_0(m,M,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}R&=1}if(It(pr,R),(g.mode&1)===0)g.memoizedState=null;else switch(N){case"forwards":for(M=g.child,N=null;M!==null;)m=M.alternate,m!==null&&id(m)===null&&(N=M),M=M.sibling;M=N,M===null?(N=g.child,g.child=null):(N=M.sibling,M.sibling=null),Mo(g,!1,N,M,B);break;case"backwards":for(M=null,N=g.child,g.child=null;N!==null;){if(m=N.alternate,m!==null&&id(m)===null){g.child=N;break}m=N.sibling,N.sibling=M,M=N,N=m}Mo(g,!0,M,null,B);break;case"together":Mo(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Gi(m,g,M){if(m!==null&&(g.dependencies=m.dependencies),Eo|=g.lanes,(M&g.childLanes)===0)return null;if(m!==null&&g.child!==m.child)throw Error(o(153));if(g.child!==null){for(m=g.child,M=cs(m,m.pendingProps),g.child=M,M.return=g;m.sibling!==null;)m=m.sibling,M=M.sibling=cs(m,m.pendingProps),M.return=g;M.sibling=null}return g.child}function _d(m,g,M){switch(g.tag){case 3:rf(g),Lu();break;case 5:m0(g);break;case 1:On(g.type)&&In(g);break;case 4:rd(g,g.stateNode.containerInfo);break;case 10:_l(g,g.type._context,g.memoizedProps.value);break;case 13:var R=g.memoizedState;if(R!==null)return R.dehydrated!==null?(It(pr,pr.current&1),g.flags|=128,null):(M&g.child.childLanes)!==0?eg(m,g,M):(It(pr,pr.current&1),m=Gi(m,g,M),m!==null?m.sibling:null);It(pr,pr.current&1);break;case 19:if(R=(M&g.childLanes)!==0,(m.flags&128)!==0){if(R)return Nl(m,g,M);g.flags|=128}var N=g.memoizedState;if(N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),It(pr,pr.current),R)break;return null;case 22:case 23:return g.lanes=0,ri(m,g,M)}return Gi(m,g,M)}function wd(m,g){switch(Fm(g),g.tag){case 1:return On(g.type)&&er(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Uu(),Ut(Zt),Ut(Dn),Al(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 5:return jm(g),null;case 13:if(Ut(pr),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(o(340));Lu()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return Ut(pr),null;case 4:return Uu(),null;case 10:return $c(g.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var Ii=!1,Kr=!1,Dl=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Ia(m,g){var M=m.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(R){Ni(m,g,R)}else M.current=null}function rs(m,g,M){try{M()}catch(R){Ni(m,g,R)}}var tg=!1;function ng(m,g){for(re(m.containerInfo),ht=g;ht!==null;)if(m=ht,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,ht=g;else for(;ht!==null;){m=ht;try{var M=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var R=M.memoizedProps,N=M.memoizedState,B=m.stateNode,ue=B.getSnapshotBeforeUpdate(m.elementType===m.type?R:Vi(m.type,R),N);B.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:Fe&&Qe(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){Ni(m,m.return,ye)}if(g=m.sibling,g!==null){g.return=m.return,ht=g;break}ht=m.return}return M=tg,tg=!1,M}function is(m,g,M){var R=g.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var N=R=R.next;do{if((N.tag&m)===m){var B=N.destroy;N.destroy=void 0,B!==void 0&&rs(g,M,B)}N=N.next}while(N!==R)}}function ii(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var M=g=g.next;do{if((M.tag&m)===m){var R=M.create;M.destroy=R()}M=M.next}while(M!==g)}}function Li(m){var g=m.ref;if(g!==null){var M=m.stateNode;switch(m.tag){case 5:m=oe(M);break;default:m=M}typeof g=="function"?g(m):g.current=m}}function nr(m,g,M){if(wo&&typeof wo.onCommitFiberUnmount=="function")try{wo.onCommitFiberUnmount(Vc,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(m=g.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var R=m=m.next;do{var N=R,B=N.destroy;N=N.tag,B!==void 0&&((N&2)!==0||(N&4)!==0)&&rs(g,M,B),R=R.next}while(R!==m)}break;case 1:if(Ia(g,M),m=g.stateNode,typeof m.componentWillUnmount=="function")try{m.props=g.memoizedProps,m.state=g.memoizedState,m.componentWillUnmount()}catch(ue){Ni(g,M,ue)}break;case 5:Ia(g,M);break;case 4:Fe?ag(m,g,M):Z&&Z&&(g=g.stateNode.containerInfo,M=un(g),yr(g,M))}}function La(m,g,M){for(var R=g;;)if(nr(m,R,M),R.child===null||Fe&&R.tag===4){if(R===g)break;for(;R.sibling===null;){if(R.return===null||R.return===g)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function rg(m){var g=m.alternate;g!==null&&(m.alternate=null,rg(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&ot(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function ig(m){return m.tag===5||m.tag===3||m.tag===4}function Sd(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||ig(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function bd(m){if(Fe){e:{for(var g=m.return;g!==null;){if(ig(g))break e;g=g.return}throw Error(o(160))}var M=g;switch(M.tag){case 5:g=M.stateNode,M.flags&32&&(Ue(g),M.flags&=-33),M=Sd(m),Wu(m,M,g);break;case 3:case 4:g=M.stateNode.containerInfo,M=Sd(m),Md(m,M,g);break;default:throw Error(o(161))}}}function Md(m,g,M){var R=m.tag;if(R===5||R===6)m=m.stateNode,g?_t(M,m,g):Et(M,m);else if(R!==4&&(m=m.child,m!==null))for(Md(m,g,M),m=m.sibling;m!==null;)Md(m,g,M),m=m.sibling}function Wu(m,g,M){var R=m.tag;if(R===5||R===6)m=m.stateNode,g?Ot(M,m,g):st(M,m);else if(R!==4&&(m=m.child,m!==null))for(Wu(m,g,M),m=m.sibling;m!==null;)Wu(m,g,M),m=m.sibling}function ag(m,g,M){for(var R=g,N=!1,B,ue;;){if(!N){N=R.return;e:for(;;){if(N===null)throw Error(o(160));switch(B=N.stateNode,N.tag){case 5:ue=!1;break e;case 3:B=B.containerInfo,ue=!0;break e;case 4:B=B.containerInfo,ue=!0;break e}N=N.return}N=!0}if(R.tag===5||R.tag===6)La(m,R,M),ue?he(B,R.stateNode):St(B,R.stateNode);else if(R.tag===18)ue?Pe(B,R.stateNode):Ee(B,R.stateNode);else if(R.tag===4){if(R.child!==null){B=R.stateNode.containerInfo,ue=!0,R.child.return=R,R=R.child;continue}}else if(nr(m,R,M),R.child!==null){R.child.return=R,R=R.child;continue}if(R===g)break;for(;R.sibling===null;){if(R.return===null||R.return===g)return;R=R.return,R.tag===4&&(N=!1)}R.sibling.return=R.return,R=R.sibling}}function $s(m,g){if(Fe){switch(g.tag){case 0:case 11:case 14:case 15:is(3,g,g.return),ii(3,g),is(5,g,g.return);return;case 1:return;case 5:var M=g.stateNode;if(M!=null){var R=g.memoizedProps;m=m!==null?m.memoizedProps:R;var N=g.type,B=g.updateQueue;g.updateQueue=null,B!==null&&zt(M,B,N,m,R,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));M=g.memoizedProps,ft(g.stateNode,m!==null?m.memoizedProps:M,M);return;case 3:Ne&&m!==null&&m.memoizedState.isDehydrated&&ie(g.stateNode.containerInfo);return;case 12:return;case 13:Gu(g);return;case 19:Gu(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:is(3,g,g.return),ii(3,g),is(5,g,g.return);return;case 12:return;case 13:Gu(g);return;case 19:Gu(g);return;case 3:Ne&&m!==null&&m.memoizedState.isDehydrated&&ie(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(Z){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,yr(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function Gu(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var M=m.stateNode;M===null&&(M=m.stateNode=new Dl),g.forEach(function(R){var N=E0.bind(null,m,R);M.has(R)||(M.add(R),R.then(N,N))})}}function xS(m,g){for(ht=g;ht!==null;){g=ht;var M=g.deletions;if(M!==null)for(var R=0;R<M.length;R++){var N=M[R];try{var B=m;Fe?ag(B,N,g):La(B,N,g);var ue=N.alternate;ue!==null&&(ue.return=null),N.return=null}catch(kt){Ni(N,g,kt)}}if(M=g.child,(g.subtreeFlags&12854)!==0&&M!==null)M.return=g,ht=M;else for(;ht!==null;){g=ht;try{var ye=g.flags;if(ye&32&&Fe&&Ue(g.stateNode),ye&512){var je=g.alternate;if(je!==null){var it=je.ref;it!==null&&(typeof it=="function"?it(null):it.current=null)}}if(ye&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var At=g.alternate;(At===null||At.memoizedState===null)&&(pf=Br())}break;case 22:var tn=g.memoizedState!==null,Wt=g.alternate,hn=Wt!==null&&Wt.memoizedState!==null;if(M=g,Fe){e:if(R=M,N=tn,B=null,Fe)for(var xt=R;;){if(xt.tag===5){if(B===null){B=xt;var si=xt.stateNode;N?nt(si):we(xt.stateNode,xt.memoizedProps)}}else if(xt.tag===6){if(B===null){var ha=xt.stateNode;N?de(ha):Me(ha,xt.memoizedProps)}}else if((xt.tag!==22&&xt.tag!==23||xt.memoizedState===null||xt===R)&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===R)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===R)break e;B===xt&&(B=null),xt=xt.return}B===xt&&(B=null),xt.sibling.return=xt.return,xt=xt.sibling}}if(tn&&!hn&&(M.mode&1)!==0){ht=M;for(var Te=M.child;Te!==null;){for(M=ht=Te;ht!==null;){R=ht;var xe=R.child;switch(R.tag){case 0:case 11:case 14:case 15:is(4,R,R.return);break;case 1:Ia(R,R.return);var De=R.stateNode;if(typeof De.componentWillUnmount=="function"){var vt=R.return;try{De.props=R.memoizedProps,De.state=R.memoizedState,De.componentWillUnmount()}catch(kt){Ni(R,vt,kt)}}break;case 5:Ia(R,R.return);break;case 22:if(R.memoizedState!==null){sg(M);continue}}xe!==null?(xe.return=R,ht=xe):sg(M)}Te=Te.sibling}}}switch(ye&4102){case 2:bd(g),g.flags&=-3;break;case 6:bd(g),g.flags&=-3,$s(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,$s(g.alternate,g);break;case 4:$s(g.alternate,g)}}catch(kt){Ni(g,g.return,kt)}if(M=g.sibling,M!==null){M.return=g.return,ht=M;break}ht=g.return}}}function lf(m,g,M){ht=m,uf(m)}function uf(m,g,M){for(var R=(m.mode&1)!==0;ht!==null;){var N=ht,B=N.child;if(N.tag===22&&R){var ue=N.memoizedState!==null||Ii;if(!ue){var ye=N.alternate,je=ye!==null&&ye.memoizedState!==null||Kr;ye=Ii;var it=Kr;if(Ii=ue,(Kr=je)&&!it)for(ht=N;ht!==null;)ue=ht,je=ue.child,ue.tag===22&&ue.memoizedState!==null?kl(N):je!==null?(je.return=ue,ht=je):kl(N);for(;B!==null;)ht=B,uf(B),B=B.sibling;ht=N,Ii=ye,Kr=it}og(m)}else(N.subtreeFlags&8772)!==0&&B!==null?(B.return=N,ht=B):og(m)}}function og(m){for(;ht!==null;){var g=ht;if((g.flags&8772)!==0){var M=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Kr||ii(5,g);break;case 1:var R=g.stateNode;if(g.flags&4&&!Kr)if(M===null)R.componentDidMount();else{var N=g.elementType===g.type?M.memoizedProps:Vi(g.type,M.memoizedProps);R.componentDidUpdate(N,M.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var B=g.updateQueue;B!==null&&s0(g,B,R);break;case 3:var ue=g.updateQueue;if(ue!==null){if(M=null,g.child!==null)switch(g.child.tag){case 5:M=oe(g.child.stateNode);break;case 1:M=g.child.stateNode}s0(g,ue,M)}break;case 5:var ye=g.stateNode;M===null&&g.flags&4&&ze(ye,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Ne&&g.memoizedState===null){var je=g.alternate;if(je!==null){var it=je.memoizedState;if(it!==null){var At=it.dehydrated;At!==null&&ce(At)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Kr||g.flags&512&&Li(g)}catch(tn){Ni(g,g.return,tn)}}if(g===m){ht=null;break}if(M=g.sibling,M!==null){M.return=g.return,ht=M;break}ht=g.return}}function sg(m){for(;ht!==null;){var g=ht;if(g===m){ht=null;break}var M=g.sibling;if(M!==null){M.return=g.return,ht=M;break}ht=g.return}}function kl(m){for(;ht!==null;){var g=ht;try{switch(g.tag){case 0:case 11:case 15:var M=g.return;try{ii(4,g)}catch(je){Ni(g,M,je)}break;case 1:var R=g.stateNode;if(typeof R.componentDidMount=="function"){var N=g.return;try{R.componentDidMount()}catch(je){Ni(g,N,je)}}var B=g.return;try{Li(g)}catch(je){Ni(g,B,je)}break;case 5:var ue=g.return;try{Li(g)}catch(je){Ni(g,ue,je)}}}catch(je){Ni(g,g.return,je)}if(g===m){ht=null;break}var ye=g.sibling;if(ye!==null){ye.return=g.return,ht=ye;break}ht=g.return}}var cf=0,Ul=1,Fl=2,as=3,$u=4;if(typeof Symbol=="function"&&Symbol.for){var Bl=Symbol.for;cf=Bl("selector.component"),Ul=Bl("selector.has_pseudo_class"),Fl=Bl("selector.role"),as=Bl("selector.test_id"),$u=Bl("selector.text")}function ff(m){var g=be(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(m=Bt(m),m===null)throw Error(o(362));return m.stateNode.current}function hf(m,g){switch(g.$$typeof){case cf:if(m.type===g.value)return!0;break;case Ul:e:{g=g.value,m=[m,0];for(var M=0;M<m.length;){var R=m[M++],N=m[M++],B=g[N];if(R.tag!==5||!Q(R)){for(;B!=null&&hf(R,B);)N++,B=g[N];if(N===g.length){g=!0;break e}else for(R=R.child;R!==null;)m.push(R,N),R=R.sibling}}g=!1}return g;case Fl:if(m.tag===5&&Le(m.stateNode,g.value))return!0;break;case $u:if((m.tag===5||m.tag===6)&&(m=le(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case as:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function qs(m){switch(m.$$typeof){case cf:return"<"+(L(m.value)||"Unknown")+">";case Ul:return":has("+(qs(m)||"")+")";case Fl:return'[role="'+m.value+'"]';case $u:return'"'+m.value+'"';case as:return'[data-testname="'+m.value+'"]';default:throw Error(o(365))}}function la(m,g){var M=[];m=[m,0];for(var R=0;R<m.length;){var N=m[R++],B=m[R++],ue=g[B];if(N.tag!==5||!Q(N)){for(;ue!=null&&hf(N,ue);)B++,ue=g[B];if(B===g.length)M.push(N);else for(N=N.child;N!==null;)m.push(N,B),N=N.sibling}}return M}function os(m,g){if(!Tt)throw Error(o(363));m=ff(m),m=la(m,g),g=[],m=Array.from(m);for(var M=0;M<m.length;){var R=m[M++];if(R.tag===5)Q(R)||g.push(R.stateNode);else for(R=R.child;R!==null;)m.push(R),R=R.sibling}return g}var lg=Math.ceil,df=s.ReactCurrentDispatcher,Ja=s.ReactCurrentOwner,Vn=s.ReactCurrentBatchConfig,cn=0,Ar=null,Hn=null,lr=0,yi=0,zl=yt(0),wr=0,qu=null,Eo=0,ua=0,jl=0,ss=null,Rr=null,pf=0,Xs=1/0;function Vl(){Xs=Br()+500}var Xu=!1,rr=null,Qa=null,Yu=!1,Ao=null,Hl=0,Wl=0,ls=null,Jn=-1,Sr=0;function Rn(){return(cn&6)!==0?Br():Jn!==-1?Jn:Jn=Br()}function eo(m){return(m.mode&1)===0?1:(cn&2)!==0&&lr!==0?lr&-lr:o0.transition!==null?(Sr===0&&(m=Au,Au<<=1,(Au&4194240)===0&&(Au=64),Sr=m),Sr):(m=pn,m!==0?m:Be())}function xi(m,g,M){if(50<Wl)throw Wl=0,ls=null,Error(o(185));var R=Ys(m,g);return R===null?null:(gl(R,g,M),((cn&2)===0||R!==Ar)&&(R===Ar&&((cn&2)===0&&(ua|=g),wr===4&&oi(R,lr)),$i(R,M),g===1&&cn===0&&(m.mode&1)===0&&(Vl(),Gh&&Ta())),R)}function Ys(m,g){m.lanes|=g;var M=m.alternate;for(M!==null&&(M.lanes|=g),M=m,m=m.return;m!==null;)m.childLanes|=g,M=m.alternate,M!==null&&(M.childLanes|=g),M=m,m=m.return;return M.tag===3?M.stateNode:null}function $i(m,g){var M=m.callbackNode;a0(m,g);var R=jc(m,m===Ar?lr:0);if(R===0)M!==null&&Pu(M),m.callbackNode=null,m.callbackPriority=0;else if(g=R&-R,m.callbackPriority!==g){if(M!=null&&Pu(M),g===1)m.tag===0?qh(ca.bind(null,m)):$h(ca.bind(null,m)),lt?dt(function(){cn===0&&Ta()}):vl(yl,Ta),M=null;else{switch($o(R)){case 1:M=yl;break;case 4:M=gS;break;case 16:M=Hh;break;case 536870912:M=Wh;break;default:M=Hh}M=Ad(M,ai.bind(null,m))}m.callbackPriority=g,m.callbackNode=M}}function ai(m,g){if(Jn=-1,Sr=0,(cn&6)!==0)throw Error(o(327));var M=m.callbackNode;if(To()&&m.callbackNode!==M)return null;var R=jc(m,m===Ar?lr:0);if(R===0)return null;if((R&30)!==0||(R&m.expiredLanes)!==0||g)g=yf(m,R);else{g=R;var N=cn;cn|=2;var B=fg();(Ar!==m||lr!==g)&&(Vl(),us(m,g));do try{S0();break}catch(ye){cg(m,ye)}while(!0);Ci(),df.current=B,cn=N,Hn!==null?g=0:(Ar=null,lr=0,g=wr)}if(g!==0){if(g===2&&(N=zh(m),N!==0&&(R=N,g=mf(m,N))),g===1)throw M=qu,us(m,0),oi(m,R),$i(m,Br()),M;if(g===6)oi(m,R);else{if(N=m.current.alternate,(R&30)===0&&!ug(N)&&(g=yf(m,R),g===2&&(B=zh(m),B!==0&&(R=B,g=mf(m,B))),g===1))throw M=qu,us(m,0),oi(m,R),$i(m,Br()),M;switch(m.finishedWork=N,m.finishedLanes=R,g){case 0:case 1:throw Error(o(345));case 2:to(m,Rr);break;case 3:if(oi(m,R),(R&130023424)===R&&(g=pf+500-Br(),10<g)){if(jc(m,0)!==0)break;if(N=m.suspendedLanes,(N&R)!==R){Rn(),m.pingedLanes|=m.suspendedLanes&N;break}m.timeoutHandle=Ye(to.bind(null,m,Rr),g);break}to(m,Rr);break;case 4:if(oi(m,R),(R&4194240)===R)break;for(g=m.eventTimes,N=-1;0<R;){var ue=31-tr(R);B=1<<ue,ue=g[ue],ue>N&&(N=ue),R&=~B}if(R=N,R=Br()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*lg(R/1960))-R,10<R){m.timeoutHandle=Ye(to.bind(null,m,Rr),R);break}to(m,Rr);break;case 5:to(m,Rr);break;default:throw Error(o(329))}}}return $i(m,Br()),m.callbackNode===M?ai.bind(null,m):null}function mf(m,g){var M=ss;return m.current.memoizedState.isDehydrated&&(us(m,g).flags|=256),m=yf(m,g),m!==2&&(g=Rr,Rr=M,g!==null&&gf(g)),m}function gf(m){Rr===null?Rr=m:Rr.push.apply(Rr,m)}function ug(m){for(var g=m;;){if(g.flags&16384){var M=g.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var R=0;R<M.length;R++){var N=M[R],B=N.getSnapshot;N=N.value;try{if(!Pi(B(),N))return!1}catch{return!1}}}if(M=g.child,g.subtreeFlags&16384&&M!==null)M.return=g,g=M;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function oi(m,g){for(g&=~jl,g&=~ua,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var M=31-tr(g),R=1<<M;m[M]=-1,g&=~R}}function ca(m){if((cn&6)!==0)throw Error(o(327));To();var g=jc(m,0);if((g&1)===0)return $i(m,Br()),null;var M=yf(m,g);if(m.tag!==0&&M===2){var R=zh(m);R!==0&&(g=R,M=mf(m,R))}if(M===1)throw M=qu,us(m,0),oi(m,g),$i(m,Br()),M;if(M===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,to(m,Rr),$i(m,Br()),null}function Ku(m){Ao!==null&&Ao.tag===0&&(cn&6)===0&&To();var g=cn;cn|=1;var M=Vn.transition,R=pn;try{if(Vn.transition=null,pn=1,m)return m()}finally{pn=R,Vn.transition=M,cn=g,(cn&6)===0&&Ta()}}function vf(){yi=zl.current,Ut(zl)}function us(m,g){m.finishedWork=null,m.finishedLanes=0;var M=m.timeoutHandle;if(M!==ke&&(m.timeoutHandle=ke,Xe(M)),Hn!==null)for(M=Hn.return;M!==null;){var R=M;switch(Fm(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&er();break;case 3:Uu(),Ut(Zt),Ut(Dn),Al();break;case 5:jm(R);break;case 4:Uu();break;case 13:Ut(pr);break;case 19:Ut(pr);break;case 10:$c(R.type._context);break;case 22:case 23:vf()}M=M.return}if(Ar=m,Hn=m=cs(m.current,null),lr=yi=g,wr=0,qu=null,jl=ua=Eo=0,Rr=ss=null,Pa!==null){for(g=0;g<Pa.length;g++)if(M=Pa[g],R=M.interleaved,R!==null){M.interleaved=null;var N=R.next,B=M.pending;if(B!==null){var ue=B.next;B.next=N,R.next=ue}M.pending=R}Pa=null}return m}function cg(m,g){do{var M=Hn;try{if(Ci(),Xc.current=Vu,ad){for(var R=mr.memoizedState;R!==null;){var N=R.queue;N!==null&&(N.pending=null),R=R.next}ad=!1}if(Tl=0,qr=$r=mr=null,So=!1,Pl=0,Ja.current=null,M===null||M.return===null){wr=1,qu=g,Hn=null;break}e:{var B=m,ue=M.return,ye=M,je=g;if(g=lr,ye.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var it=je,At=ye,tn=At.tag;if((At.mode&1)===0&&(tn===0||tn===11||tn===15)){var Wt=At.alternate;Wt?(At.updateQueue=Wt.updateQueue,At.memoizedState=Wt.memoizedState,At.lanes=Wt.lanes):(At.updateQueue=null,At.memoizedState=null)}var hn=Zm(ue);if(hn!==null){hn.flags&=-257,Rl(hn,ue,ye,B,g),hn.mode&1&&Qo(B,it,g),g=hn,je=it;var xt=g.updateQueue;if(xt===null){var si=new Set;si.add(je),g.updateQueue=si}else xt.add(je);break e}else{if((g&1)===0){Qo(B,it,g),Ed();break e}je=Error(o(426))}}else if(sr&&ye.mode&1){var ha=Zm(ue);if(ha!==null){(ha.flags&65536)===0&&(ha.flags|=256),Rl(ha,ue,ye,B,g),nd(je);break e}}B=je,wr!==4&&(wr=2),ss===null?ss=[B]:ss.push(B),je=Km(je,ye),ye=ue;do{switch(ye.tag){case 3:ye.flags|=65536,g&=-g,ye.lanes|=g;var Te=x0(ye,je,g);Kh(ye,Te);break e;case 1:B=je;var xe=ye.type,De=ye.stateNode;if((ye.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Qa===null||!Qa.has(De)))){ye.flags|=65536,g&=-g,ye.lanes|=g;var vt=md(ye,B,g);Kh(ye,vt);break e}}ye=ye.return}while(ye!==null)}dg(M)}catch(kt){g=kt,Hn===M&&M!==null&&(Hn=M=M.return);continue}break}while(!0)}function fg(){var m=df.current;return df.current=Vu,m===null?Vu:m}function Ed(){(wr===0||wr===3||wr===2)&&(wr=4),Ar===null||(Eo&268435455)===0&&(ua&268435455)===0||oi(Ar,lr)}function yf(m,g){var M=cn;cn|=2;var R=fg();Ar===m&&lr===g||us(m,g);do try{w0();break}catch(N){cg(m,N)}while(!0);if(Ci(),cn=M,df.current=R,Hn!==null)throw Error(o(261));return Ar=null,lr=0,wr}function w0(){for(;Hn!==null;)hg(Hn)}function S0(){for(;Hn!==null&&!Fs();)hg(Hn)}function hg(m){var g=gg(m.alternate,m,yi);m.memoizedProps=m.pendingProps,g===null?dg(m):Hn=g,Ja.current=null}function dg(m){var g=m;do{var M=g.alternate;if(m=g.return,(g.flags&32768)===0){if(M=yd(M,g,yi),M!==null){Hn=M;return}}else{if(M=wd(M,g),M!==null){M.flags&=32767,Hn=M;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{wr=6,Hn=null;return}}if(g=g.sibling,g!==null){Hn=g;return}Hn=g=m}while(g!==null);wr===0&&(wr=5)}function to(m,g){var M=pn,R=Vn.transition;try{Vn.transition=null,pn=1,b0(m,g,M)}finally{Vn.transition=R,pn=M}return null}function b0(m,g,M){do To();while(Ao!==null);if((cn&6)!==0)throw Error(o(327));var R=m.finishedWork,N=m.finishedLanes;if(R===null)return null;if(m.finishedWork=null,m.finishedLanes=0,R===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var B=R.lanes|R.childLanes;if(Vh(m,B),m===Ar&&(Hn=Ar=null,lr=0),(R.subtreeFlags&2064)===0&&(R.flags&2064)===0||Yu||(Yu=!0,Ad(Hh,function(){return To(),null})),B=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||B){B=Vn.transition,Vn.transition=null;var ue=pn;pn=1;var ye=cn;cn|=4,Ja.current=null,ng(m,R),xS(m,R),J(m.containerInfo),m.current=R,lf(R),mS(),cn=ye,pn=ue,Vn.transition=B}else m.current=R;if(Yu&&(Yu=!1,Ao=m,Hl=N),B=m.pendingLanes,B===0&&(Qa=null),Hc(R.stateNode),$i(m,Br()),g!==null)for(M=m.onRecoverableError,R=0;R<g.length;R++)M(g[R]);if(Xu)throw Xu=!1,m=rr,rr=null,m;return(Hl&1)!==0&&m.tag!==0&&To(),B=m.pendingLanes,(B&1)!==0?m===ls?Wl++:(Wl=0,ls=m):Wl=0,Ta(),null}function To(){if(Ao!==null){var m=$o(Hl),g=Vn.transition,M=pn;try{if(Vn.transition=null,pn=16>m?16:m,Ao===null)var R=!1;else{if(m=Ao,Ao=null,Hl=0,(cn&6)!==0)throw Error(o(331));var N=cn;for(cn|=4,ht=m.current;ht!==null;){var B=ht,ue=B.child;if((ht.flags&16)!==0){var ye=B.deletions;if(ye!==null){for(var je=0;je<ye.length;je++){var it=ye[je];for(ht=it;ht!==null;){var At=ht;switch(At.tag){case 0:case 11:case 15:is(8,At,B)}var tn=At.child;if(tn!==null)tn.return=At,ht=tn;else for(;ht!==null;){At=ht;var Wt=At.sibling,hn=At.return;if(rg(At),At===it){ht=null;break}if(Wt!==null){Wt.return=hn,ht=Wt;break}ht=hn}}}var xt=B.alternate;if(xt!==null){var si=xt.child;if(si!==null){xt.child=null;do{var ha=si.sibling;si.sibling=null,si=ha}while(si!==null)}}ht=B}}if((B.subtreeFlags&2064)!==0&&ue!==null)ue.return=B,ht=ue;else e:for(;ht!==null;){if(B=ht,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:is(9,B,B.return)}var Te=B.sibling;if(Te!==null){Te.return=B.return,ht=Te;break e}ht=B.return}}var xe=m.current;for(ht=xe;ht!==null;){ue=ht;var De=ue.child;if((ue.subtreeFlags&2064)!==0&&De!==null)De.return=ue,ht=De;else e:for(ue=xe;ht!==null;){if(ye=ht,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:ii(9,ye)}}catch(kt){Ni(ye,ye.return,kt)}if(ye===ue){ht=null;break e}var vt=ye.sibling;if(vt!==null){vt.return=ye.return,ht=vt;break e}ht=ye.return}}if(cn=N,Ta(),wo&&typeof wo.onPostCommitFiberRoot=="function")try{wo.onPostCommitFiberRoot(Vc,m)}catch{}R=!0}return R}finally{pn=M,Vn.transition=g}}return!1}function xf(m,g,M){g=Km(M,g),g=x0(m,g,1),Bs(m,g),g=Rn(),m=Ys(m,1),m!==null&&(gl(m,1,g),$i(m,g))}function Ni(m,g,M){if(m.tag===3)xf(m,m,M);else for(;g!==null;){if(g.tag===3){xf(g,m,M);break}else if(g.tag===1){var R=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Qa===null||!Qa.has(R))){m=Km(M,m),m=md(g,m,1),Bs(g,m),m=Rn(),g=Ys(g,1),g!==null&&(gl(g,1,m),$i(g,m));break}}g=g.return}}function pg(m,g,M){var R=m.pingCache;R!==null&&R.delete(g),g=Rn(),m.pingedLanes|=m.suspendedLanes&M,Ar===m&&(lr&M)===M&&(wr===4||wr===3&&(lr&130023424)===lr&&500>Br()-pf?us(m,0):jl|=M),$i(m,g)}function mg(m,g){g===0&&((m.mode&1)===0?g=1:(g=Cn,Cn<<=1,(Cn&130023424)===0&&(Cn=4194304)));var M=Rn();m=Ys(m,g),m!==null&&(gl(m,g,M),$i(m,M))}function M0(m){var g=m.memoizedState,M=0;g!==null&&(M=g.retryLane),mg(m,M)}function E0(m,g){var M=0;switch(m.tag){case 13:var R=m.stateNode,N=m.memoizedState;N!==null&&(M=N.retryLane);break;case 19:R=m.stateNode;break;default:throw Error(o(314))}R!==null&&R.delete(g),mg(m,M)}var gg;gg=function(m,g,M){if(m!==null)if(m.memoizedProps!==g.pendingProps||Zt.current)Yr=!0;else{if((m.lanes&M)===0&&(g.flags&128)===0)return Yr=!1,_d(m,g,M);Yr=(m.flags&131072)!==0}else Yr=!1,sr&&(g.flags&1048576)!==0&&f0(g,ed,g.index);switch(g.lanes=0,g.tag){case 2:var R=g.type;m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps;var N=Mn(g,Dn.current);Cu(g,M),N=Fu(null,g,R,m,N,M);var B=Hs();return g.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,On(R)?(B=!0,In(g)):B=!1,g.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Ru(g),N.updater=Jh,g.stateNode=N,N._reactInternals=g,km(g,R,m,M),g=vi(null,g,R,!0,B,M)):(g.tag=0,sr&&B&&Um(g),_r(null,g,N,M),g=g.child),g;case 16:R=g.elementType;e:{switch(m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps,N=R._init,R=N(R._payload),g.type=R,N=g.tag=_S(R),m=Vi(R,m),N){case 0:g=ns(null,g,R,m,M);break e;case 1:g=Il(null,g,R,m,M);break e;case 11:g=Zn(null,g,R,m,M);break e;case 14:g=qn(null,g,R,Vi(R.type,m),M);break e}throw Error(o(306,R,""))}return g;case 0:return R=g.type,N=g.pendingProps,N=g.elementType===R?N:Vi(R,N),ns(m,g,R,N,M);case 1:return R=g.type,N=g.pendingProps,N=g.elementType===R?N:Vi(R,N),Il(m,g,R,N,M);case 3:e:{if(rf(g),m===null)throw Error(o(387));R=g.pendingProps,B=g.memoizedState,N=B.element,Lm(m,g),Zh(g,R,null,M);var ue=g.memoizedState;if(R=ue.element,Ne&&B.isDehydrated)if(B={element:R,isDehydrated:!1,cache:ue.cache,transitions:ue.transitions},g.updateQueue.baseState=B,g.memoizedState=B,g.flags&256){N=Error(o(423)),g=Qm(m,g,R,M,N);break e}else if(R!==N){N=Error(o(424)),g=Qm(m,g,R,M,N);break e}else for(Ne&&(ni=Eu(g.stateNode.containerInfo),Ri=g,sr=!0,Oa=null,Iu=!1),M=p0(g,null,R,M),g.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Lu(),R===N){g=Gi(m,g,M);break e}_r(m,g,R,M)}g=g.child}return g;case 5:return m0(g),m===null&&js(g),R=g.type,N=g.pendingProps,B=m!==null?m.memoizedProps:null,ue=N.children,Re(R,N)?ue=null:B!==null&&Re(R,B)&&(g.flags|=32),Oi(m,g),_r(m,g,ue,M),g.child;case 6:return m===null&&js(g),null;case 13:return eg(m,g,M);case 4:return rd(g,g.stateNode.containerInfo),R=g.pendingProps,m===null?g.child=Zo(g,null,R,M):_r(m,g,R,M),g.child;case 11:return R=g.type,N=g.pendingProps,N=g.elementType===R?N:Vi(R,N),Zn(m,g,R,N,M);case 7:return _r(m,g,g.pendingProps,M),g.child;case 8:return _r(m,g,g.pendingProps.children,M),g.child;case 12:return _r(m,g,g.pendingProps.children,M),g.child;case 10:e:{if(R=g.type._context,N=g.pendingProps,B=g.memoizedProps,ue=N.value,_l(g,R,ue),B!==null)if(Pi(B.value,ue)){if(B.children===N.children&&!Zt.current){g=Gi(m,g,M);break e}}else for(B=g.child,B!==null&&(B.return=g);B!==null;){var ye=B.dependencies;if(ye!==null){ue=B.child;for(var je=ye.firstContext;je!==null;){if(je.context===R){if(B.tag===1){je=Xo(-1,M&-M),je.tag=2;var it=B.updateQueue;if(it!==null){it=it.shared;var At=it.pending;At===null?je.next=je:(je.next=At.next,At.next=je),it.pending=je}}B.lanes|=M,je=B.alternate,je!==null&&(je.lanes|=M),wl(B.return,M,g),ye.lanes|=M;break}je=je.next}}else if(B.tag===10)ue=B.type===g.type?null:B.child;else if(B.tag===18){if(ue=B.return,ue===null)throw Error(o(341));ue.lanes|=M,ye=ue.alternate,ye!==null&&(ye.lanes|=M),wl(ue,M,g),ue=B.sibling}else ue=B.child;if(ue!==null)ue.return=B;else for(ue=B;ue!==null;){if(ue===g){ue=null;break}if(B=ue.sibling,B!==null){B.return=ue.return,ue=B;break}ue=ue.return}B=ue}_r(m,g,N.children,M),g=g.child}return g;case 9:return N=g.type,R=g.pendingProps.children,Cu(g,M),N=Hi(N),R=R(N),g.flags|=1,_r(m,g,R,M),g.child;case 14:return R=g.type,N=Vi(R,g.pendingProps),N=Vi(R.type,N),qn(m,g,R,N,M);case 15:return ts(m,g,g.type,g.pendingProps,M);case 17:return R=g.type,N=g.pendingProps,N=g.elementType===R?N:Vi(R,N),m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,On(R)?(m=!0,In(g)):m=!1,Cu(g,M),u0(g,R,N),km(g,R,N,M),vi(null,g,R,!0,m,M);case 19:return Nl(m,g,M);case 22:return ri(m,g,M)}throw Error(o(156,g.tag))};function Ad(m,g){return vl(m,g)}function A0(m,g,M,R){this.tag=m,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(m,g,M,R){return new A0(m,g,M,R)}function Td(m){return m=m.prototype,!(!m||!m.isReactComponent)}function _S(m){if(typeof m=="function")return Td(m)?1:0;if(m!=null){if(m=m.$$typeof,m===S)return 11;if(m===E)return 14}return 2}function cs(m,g){var M=m.alternate;return M===null?(M=fa(m.tag,g,m.key,m.mode),M.elementType=m.elementType,M.type=m.type,M.stateNode=m.stateNode,M.alternate=m,m.alternate=M):(M.pendingProps=g,M.type=m.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=m.flags&14680064,M.childLanes=m.childLanes,M.lanes=m.lanes,M.child=m.child,M.memoizedProps=m.memoizedProps,M.memoizedState=m.memoizedState,M.updateQueue=m.updateQueue,g=m.dependencies,M.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},M.sibling=m.sibling,M.index=m.index,M.ref=m.ref,M}function Pd(m,g,M,R,N,B){var ue=2;if(R=m,typeof m=="function")Td(m)&&(ue=1);else if(typeof m=="string")ue=5;else e:switch(m){case f:return Gl(M.children,N,B,g);case h:ue=8,N|=8;break;case p:return m=fa(12,M,g,N|2),m.elementType=p,m.lanes=B,m;case x:return m=fa(13,M,g,N),m.elementType=x,m.lanes=B,m;case w:return m=fa(19,M,g,N),m.elementType=w,m.lanes=B,m;case T:return _f(M,N,B,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case v:ue=10;break e;case _:ue=9;break e;case S:ue=11;break e;case E:ue=14;break e;case b:ue=16,R=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return g=fa(ue,M,g,N),g.elementType=m,g.type=R,g.lanes=B,g}function Gl(m,g,M,R){return m=fa(7,m,R,g),m.lanes=M,m}function _f(m,g,M,R){return m=fa(22,m,R,g),m.elementType=T,m.lanes=M,m.stateNode={},m}function Cd(m,g,M){return m=fa(6,m,null,g),m.lanes=M,m}function Rd(m,g,M){return g=fa(4,m.children!==null?m.children:[],m.key,g),g.lanes=M,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function Od(m,g,M,R,N){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jh(0),this.expirationTimes=jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.identifierPrefix=R,this.onRecoverableError=N,Ne&&(this.mutableSourceEagerHydrationData=null)}function T0(m,g,M,R,N,B,ue,ye,je){return m=new Od(m,g,M,ye,je),g===1?(g=1,B===!0&&(g|=8)):g=0,B=fa(3,null,null,g),m.current=B,B.stateNode=m,B.memoizedState={element:R,isDehydrated:M,cache:null,transitions:null},Ru(B),m}function P0(m){if(!m)return Vt;m=m._reactInternals;e:{if(I(m)!==m||m.tag!==1)throw Error(o(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(On(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(m.tag===1){var M=m.type;if(On(M))return dr(m,M,g)}return g}function C0(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=Y(g),m===null?null:m.stateNode}function Na(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var M=m.retryLane;m.retryLane=M!==0&&M<g?M:g}}function wf(m,g){Na(m,g),(m=m.alternate)&&Na(m,g)}function Id(m){return m=Y(m),m===null?null:m.stateNode}function R0(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var g=Rn();xi(m,134217728,g),wf(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=Rn(),M=eo(m);xi(m,M,g),wf(m,M)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var M=Tu(g.pendingLanes);M!==0&&(_o(g,M|1),$i(g,Br()),(cn&6)===0&&(Vl(),Ta()))}break;case 13:var R=Rn();Ku(function(){return xi(m,1,R)}),wf(m,1)}},n.batchedUpdates=function(m,g){var M=cn;cn|=1;try{return m(g)}finally{cn=M,cn===0&&(Vl(),Gh&&Ta())}},n.createComponentSelector=function(m){return{$$typeof:cf,value:m}},n.createContainer=function(m,g,M,R,N,B,ue){return T0(m,g,!1,null,M,R,N,B,ue)},n.createHasPseudoClassSelector=function(m){return{$$typeof:Ul,value:m}},n.createHydrationContainer=function(m,g,M,R,N,B,ue,ye,je){return m=T0(M,R,!0,m,N,B,ue,ye,je),m.context=P0(null),M=m.current,R=Rn(),N=eo(M),B=Xo(R,N),B.callback=g??null,Bs(M,B),m.current.lanes=N,gl(m,N,R),$i(m,R),m},n.createPortal=function(m,g,M){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:R==null?null:""+R,children:m,containerInfo:g,implementation:M}},n.createRoleSelector=function(m){return{$$typeof:Fl,value:m}},n.createTestNameSelector=function(m){return{$$typeof:as,value:m}},n.createTextSelector=function(m){return{$$typeof:$u,value:m}},n.deferredUpdates=function(m){var g=pn,M=Vn.transition;try{return Vn.transition=null,pn=16,m()}finally{pn=g,Vn.transition=M}},n.discreteUpdates=function(m,g,M,R,N){var B=pn,ue=Vn.transition;try{return Vn.transition=null,pn=1,m(g,M,R,N)}finally{pn=B,Vn.transition=ue,cn===0&&Vl()}},n.findAllNodes=os,n.findBoundingRects=function(m,g){if(!Tt)throw Error(o(363));g=os(m,g),m=[];for(var M=0;M<g.length;M++)m.push(ln(g[M]));for(g=m.length-1;0<g;g--){M=m[g];for(var R=M.x,N=R+M.width,B=M.y,ue=B+M.height,ye=g-1;0<=ye;ye--)if(g!==ye){var je=m[ye],it=je.x,At=it+je.width,tn=je.y,Wt=tn+je.height;if(R>=it&&B>=tn&&N<=At&&ue<=Wt){m.splice(g,1);break}else if(R!==it||M.width!==je.width||Wt<B||tn>ue){if(!(B!==tn||M.height!==je.height||At<R||it>N)){it>R&&(je.width+=it-R,je.x=R),At<N&&(je.width=N-it),m.splice(g,1);break}}else{tn>B&&(je.height+=tn-B,je.y=B),Wt<ue&&(je.height=ue-tn),m.splice(g,1);break}}}return m},n.findHostInstance=C0,n.findHostInstanceWithNoPortals=function(m){return m=z(m),m=m!==null?K(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return C0(m)},n.flushControlled=function(m){var g=cn;cn|=1;var M=Vn.transition,R=pn;try{Vn.transition=null,pn=1,m()}finally{pn=R,Vn.transition=M,cn=g,cn===0&&(Vl(),Ta())}},n.flushPassiveEffects=To,n.flushSync=Ku,n.focusWithin=function(m,g){if(!Tt)throw Error(o(363));for(m=ff(m),g=la(m,g),g=Array.from(g),m=0;m<g.length;){var M=g[m++];if(!Q(M)){if(M.tag===5&&tt(M.stateNode))return!0;for(M=M.child;M!==null;)g.push(M),M=M.sibling}}return!1},n.getCurrentUpdatePriority=function(){return pn},n.getFindAllNodesFailureDescription=function(m,g){if(!Tt)throw Error(o(363));var M=0,R=[];m=[ff(m),0];for(var N=0;N<m.length;){var B=m[N++],ue=m[N++],ye=g[ue];if((B.tag!==5||!Q(B))&&(hf(B,ye)&&(R.push(qs(ye)),ue++,ue>M&&(M=ue)),ue<g.length))for(B=B.child;B!==null;)m.push(B,ue),B=B.sibling}if(M<g.length){for(m=[];M<g.length;M++)m.push(qs(g[M]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return oe(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Id,findFiberByHostInstance:m.findFiberByHostInstance||R0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{Vc=g.inject(m),wo=g}catch{}m=!!g.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,g,M,R){if(!Tt)throw Error(o(363));m=os(m,g);var N=Ke(m,M,R).disconnect;return{disconnect:function(){N()}}},n.registerMutableSourceForHydration=function(m,g){var M=g._getVersion;M=M(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,M]:m.mutableSourceEagerHydrationData.push(g,M)},n.runWithPriority=function(m,g){var M=pn;try{return pn=m,g()}finally{pn=M}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,g,M,R){var N=g.current,B=Rn(),ue=eo(N);return M=P0(M),g.context===null?g.context=M:g.pendingContext=M,g=Xo(B,ue),g.payload={element:m},R=R===void 0?null:R,R!==null&&(g.callback=R),Bs(N,g),m=xi(N,ue,B),m!==null&&Yh(m,N,ue),ue},n}),$b}var k3;function sae(){return k3||(k3=1,Hb.exports=oae()),Hb.exports}var lae=sae();const uae=$n(lae);var U3=eW();const SO={},tW=t=>void Object.assign(SO,t);function cae(t,e){function n(f,{args:h=[],attach:p,...v},_){let S=`${f[0].toUpperCase()}${f.slice(1)}`,x;if(f==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=v.object;x=cp(w,{type:f,root:_,attach:p,primitive:!0})}else{const w=SO[S];if(!w)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=cp(new w(...h),{type:f,root:_,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),S!=="inject"&&Yb(x,v),x}function r(f,h){let p=!1;if(h){var v,_;(v=h.__r3f)!=null&&v.attach?Xb(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(_=f.__r3f)==null||_.objects.push(h),h.__r3f||cp(h,{}),h.__r3f.parent=f,gC(h),fp(h)}}function i(f,h,p){let v=!1;if(h){var _,S;if((_=h.__r3f)!=null&&_.attach)Xb(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:h});const x=f.children.filter(E=>E!==h),w=x.indexOf(p);f.children=[...x.slice(0,w),h,...x.slice(w)],v=!0}v||(S=f.__r3f)==null||S.objects.push(h),h.__r3f||cp(h,{}),h.__r3f.parent=f,gC(h),fp(h)}}function a(f,h,p=!1){f&&[...f].forEach(v=>o(h,v,p))}function o(f,h,p){if(h){var v,_,S;if(h.__r3f&&(h.__r3f.parent=null),(v=f.__r3f)!=null&&v.objects&&(f.__r3f.objects=f.__r3f.objects.filter(T=>T!==h)),(_=h.__r3f)!=null&&_.attach)V3(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var x;f.remove(h),(x=h.__r3f)!=null&&x.root&&vae(A_(h),h)}const E=(S=h.__r3f)==null?void 0:S.primitive,b=!E&&(p===void 0?h.dispose!==null:p);if(!E){var w;a((w=h.__r3f)==null?void 0:w.objects,h,b),a(h.children,h,b)}if(delete h.__r3f,b&&h.dispose&&h.type!=="Scene"){const T=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?U3.unstable_scheduleCallback(U3.unstable_IdlePriority,T):T()}fp(f)}}function s(f,h,p,v){var _;const S=(_=f.__r3f)==null?void 0:_.parent;if(!S)return;const x=n(h,p,f.__r3f.root);if(f.children){for(const w of f.children)w.__r3f&&r(x,w);f.children=f.children.filter(w=>!w.__r3f)}f.__r3f.objects.forEach(w=>r(x,w)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(S,f),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(S,x),x.raycast&&x.__r3f.eventCount&&A_(x).getState().internal.interaction.push(x),[v,v.alternate].forEach(w=>{w!==null&&(w.stateNode=x,w.ref&&(typeof w.ref=="function"?w.ref(x):w.ref.current=x))})}const l=()=>{};return{reconciler:uae({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,r(p,h))},removeChildFromContainer:(f,h)=>{h&&o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const v=f.getState().scene;v.__r3f&&i(v,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;return!!((h=f==null?void 0:f.__r3f)!=null?h:{}).handlers},prepareUpdate(f,h,p,v){var _;if(((_=f==null?void 0:f.__r3f)!=null?_:{}).primitive&&v.object&&v.object!==f)return[!0];{const{args:x=[],children:w,...E}=v,{args:b=[],children:T,...P}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((L,D)=>L!==b[D]))return[!0];const C=lW(f,E,P,!0);return C.changes.length?[!1,C]:null}},commitUpdate(f,[h,p],v,_,S,x){h?s(f,v,S,x):Yb(f,p)},commitMount(f,h,p,v){var _;const S=(_=f.__r3f)!=null?_:{};f.raycast&&S.handlers&&S.eventCount&&A_(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>cp(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:v}=(h=f.__r3f)!=null?h:{};p&&v&&V3(v,f,p),f.isObject3D&&(f.visible=!1),fp(f)},unhideInstance(f,h){var p;const{attach:v,parent:_}=(p=f.__r3f)!=null?p:{};v&&_&&Xb(_,f,v),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),fp(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Sp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&fr.fun(performance.now)?performance.now:fr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:fr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:fr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Yb}}var F3,B3;const qb=t=>"colorSpace"in t||"outputColorSpace"in t,nW=()=>{var t;return(t=SO.ColorManagement)!=null?t:null},rW=t=>t&&t.isOrthographicCamera,fae=t=>t&&t.hasOwnProperty("current"),qy=typeof window<"u"&&((F3=window.document)!=null&&F3.createElement||((B3=window.navigator)==null?void 0:B3.product)==="ReactNative")?te.useLayoutEffect:te.useEffect;function iW(t){const e=te.useRef(t);return qy(()=>void(e.current=t),[t]),e}function hae({set:t}){return qy(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class aW extends te.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}aW.getDerivedStateFromError=()=>({error:!0});const oW="__default",z3=new Map,dae=t=>t&&!!t.memoized&&!!t.changes;function sW(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Fg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function A_(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const fr={obj:t=>t===Object(t)&&!fr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(fr.str(t)||fr.num(t)||fr.boo(t))return t===e;const a=fr.obj(t);if(a&&r==="reference")return t===e;const o=fr.arr(t);if(o&&n==="reference")return t===e;if((o||a)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!fr.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(fr.und(s)){if(o&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function pae(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function mae(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function cp(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function mC(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((a,o)=>a[o],t),{target:n,key:i}}else return{target:n,key:e}}const j3=/-\d+$/;function Xb(t,e,n){if(fr.str(n)){if(j3.test(n)){const a=n.replace(j3,""),{target:o,key:s}=mC(t,a);Array.isArray(o[s])||(o[s]=[])}const{target:r,key:i}=mC(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function V3(t,e,n){var r,i;if(fr.str(n)){const{target:a,key:o}=mC(t,n),s=e.__r3f.previousAttach;s===void 0?delete a[o]:a[o]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function lW(t,{children:e,key:n,ref:r,...i},{children:a,key:o,ref:s,...l}={},u=!1){const f=t.__r3f,h=Object.entries(i),p=[];if(u){const _=Object.keys(l);for(let S=0;S<_.length;S++)i.hasOwnProperty(_[S])||h.unshift([_[S],oW+"remove"])}h.forEach(([_,S])=>{var x;if((x=t.__r3f)!=null&&x.primitive&&_==="object"||fr.equ(S,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return p.push([_,S,!0,[]]);let w=[];_.includes("-")&&(w=_.split("-")),p.push([_,S,!1,w]);for(const E in i){const b=i[E];E.startsWith(`${_}-`)&&p.push([E,b,!1,E.split("-")])}});const v={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:p}}function Yb(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,a=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:s}=dae(e)?e:lW(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let p=0;p<s.length;p++){let[v,_,S,x]=s[p];if(qb(t)){const T="srgb",P="srgb-linear";v==="encoding"?(v="colorSpace",_=_===3001?T:P):v==="outputEncoding"&&(v="outputColorSpace",_=_===3001?T:P)}let w=t,E=w[v];if(x.length&&(E=x.reduce((b,T)=>b[T],t),!(E&&E.set))){const[b,...T]=x.reverse();w=T.reverse().reduce((P,C)=>P[C],t),v=b}if(_===oW+"remove")if(w.constructor){let b=z3.get(w.constructor);b||(b=new w.constructor,z3.set(w.constructor,b)),_=b[v]}else _=0;if(S&&r)_?r.handlers[v]=_:delete r.handlers[v],r.eventCount=Object.keys(r.handlers).length;else if(E&&E.set&&(E.copy||E instanceof fh)){if(Array.isArray(_))E.fromArray?E.fromArray(_):E.set(..._);else if(E.copy&&_&&_.constructor&&E.constructor===_.constructor)E.copy(_);else if(_!==void 0){var u;const b=(u=E)==null?void 0:u.isColor;!b&&E.setScalar?E.setScalar(_):E instanceof fh&&_ instanceof fh?E.mask=_.mask:E.set(_),!nW()&&a&&!a.linear&&b&&E.convertSRGBToLinear()}}else{var f;if(w[v]=_,(f=w[v])!=null&&f.isTexture&&w[v].format===fi&&w[v].type===co&&a){const b=w[v];qb(b)&&qb(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}}fp(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const p=A_(t).getState().internal,v=p.interaction.indexOf(t);v>-1&&p.interaction.splice(v,1),r.eventCount&&p.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&gC(t),t}function fp(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function gC(t){t.onUpdate==null||t.onUpdate(t)}function uW(t,e){t.manual||(rW(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Wx(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function gae(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Sp.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Sp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Sp.ContinuousEventPriority;default:return Sp.DefaultEventPriority}}function cW(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function vae(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{cW(n.capturedMap,e,r,i)})}function yae(t){function e(l){const{internal:u}=t.getState(),f=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function r(l,u){const f=t.getState(),h=new Set,p=[],v=u?u(f.internal.interaction):f.internal.interaction;for(let w=0;w<v.length;w++){const E=Fg(v[w]);E&&(E.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function _(w){const E=Fg(w);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var b;E.events.compute==null||E.events.compute(l,E,(b=E.previousRoot)==null?void 0:b.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(w,!0):[]}let S=v.flatMap(_).sort((w,E)=>{const b=Fg(w.object),T=Fg(E.object);return!b||!T?w.distance-E.distance:T.events.priority-b.events.priority||w.distance-E.distance}).filter(w=>{const E=Wx(w);return h.has(E)?!1:(h.add(E),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const w of S){let E=w.object;for(;E;){var x;(x=E.__r3f)!=null&&x.eventCount&&p.push({...w,eventObject:E}),E=E.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let w of f.internal.capturedMap.get(l.pointerId).values())h.has(Wx(w.intersection))||p.push(w.intersection);return p}function i(l,u,f,h){const p=t.getState();if(l.length){const v={stopped:!1};for(const _ of l){const S=Fg(_.object)||p,{raycaster:x,pointer:w,camera:E,internal:b}=S,T=new ne(w.x,w.y,0).unproject(E),P=F=>{var z,Y;return(z=(Y=b.capturedMap.get(F))==null?void 0:Y.has(_.eventObject))!=null?z:!1},C=F=>{const z={intersection:_,target:u.target};b.capturedMap.has(F)?b.capturedMap.get(F).set(_.eventObject,z):b.capturedMap.set(F,new Map([[_.eventObject,z]])),u.target.setPointerCapture(F)},L=F=>{const z=b.capturedMap.get(F);z&&cW(b.capturedMap,_.eventObject,z,F)};let D={};for(let F in u){let z=u[F];typeof z!="function"&&(D[F]=z)}let I={..._,...D,pointer:w,intersections:l,stopped:v.stopped,delta:f,unprojectedPoint:T,ray:x.ray,camera:E,stopPropagation(){const F="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!F||F.has(_.eventObject))&&(I.stopped=v.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(z=>z.eventObject===_.eventObject))){const z=l.slice(0,l.indexOf(_));a([...z,_])}},target:{hasPointerCapture:P,setPointerCapture:C,releasePointerCapture:L},currentTarget:{hasPointerCapture:P,setPointerCapture:C,releasePointerCapture:L},nativeEvent:u};if(h(I),v.stopped===!0)break}}return l}function a(l){const{internal:u}=t.getState();for(const f of u.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,v=p==null?void 0:p.handlers;if(u.hovered.delete(Wx(f)),p!=null&&p.eventCount){const _={...f,intersections:l};v.onPointerOut==null||v.onPointerOut(_),v.onPointerLeave==null||v.onPointerLeave(_)}}}function o(l,u){for(let f=0;f<u.length;f++){const h=u[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:f}=t.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),a([]))})}}return function(f){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=f;const v=l==="onPointerMove",_=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(f,v?n:void 0),w=_?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=x.map(b=>b.eventObject)),_&&!x.length&&w<=2&&(o(f,p.interaction),h&&h(f)),v&&a(x);function E(b){const T=b.eventObject,P=T.__r3f,C=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(v){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const L=Wx(b),D=p.hovered.get(L);D?D.stopped&&b.stopPropagation():(p.hovered.set(L,b),C.onPointerOver==null||C.onPointerOver(b),C.onPointerEnter==null||C.onPointerEnter(b))}C.onPointerMove==null||C.onPointerMove(b)}else{const L=C[l];L?(!_||p.initialHits.includes(T))&&(o(f,p.interaction.filter(D=>!p.initialHits.includes(D))),L(b)):_&&p.initialHits.includes(T)&&o(f,p.interaction.filter(D=>!p.initialHits.includes(D)))}}i(x,f,w,E)}}return{handlePointer:s}}const xae=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],fW=t=>!!(t!=null&&t.render),bO=te.createContext(null),_ae=(t,e)=>{const n=Z8((s,l)=>{const u=new ne,f=new ne,h=new ne;function p(w=l().camera,E=f,b=l().size){const{width:T,height:P,top:C,left:L}=b,D=T/P;E.isVector3?h.copy(E):h.set(...E);const I=w.getWorldPosition(u).distanceTo(h);if(rW(w))return{width:T/w.zoom,height:P/w.zoom,top:C,left:L,factor:1,distance:I,aspect:D};{const F=w.fov*Math.PI/180,z=2*Math.tan(F/2)*I,Y=z*(T/P);return{width:Y,height:z,top:C,left:L,factor:T/Y,distance:I,aspect:D}}}let v;const _=w=>s(E=>({performance:{...E.performance,current:w}})),S=new Ge;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>t(l(),w),advance:(w,E)=>e(w,E,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new vO,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();v&&clearTimeout(v),w.performance.current!==w.performance.min&&_(w.performance.min),v=setTimeout(()=>_(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:w=>s(E=>({...E,events:{...E.events,...w}})),setSize:(w,E,b,T,P)=>{const C=l().camera,L={width:w,height:E,top:T||0,left:P||0,updateStyle:b};s(D=>({size:L,viewport:{...D.viewport,...p(C,f,L)}}))},setDpr:w=>s(E=>{const b=sW(w);return{viewport:{...E.viewport,dpr:b,initialDpr:E.viewport.initialDpr||b}}}),setFrameloop:(w="always")=>{const E=l().clock;E.stop(),E.elapsedTime=0,w!=="never"&&(E.start(),E.elapsedTime=0),s(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:te.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,E,b)=>{const T=l().internal;return T.priority=T.priority+(E>0?1:0),T.subscribers.push({ref:w,priority:E,store:b}),T.subscribers=T.subscribers.sort((P,C)=>P.priority-C.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(E>0?1:0),P.subscribers=P.subscribers.filter(C=>C.ref!==w))}}}}}),r=n.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:f,set:h}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){var p;i=l,a=u.dpr,uW(s,l),f.setPixelRatio(u.dpr);const v=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,v)}s!==o&&(o=s,h(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let Gx,wae=new Set,Sae=new Set,bae=new Set;function Kb(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Bg(t,e){switch(t){case"before":return Kb(wae,e);case"after":return Kb(Sae,e);case"tail":return Kb(bae,e)}}let Zb,Jb;function Qb(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),Zb=e.internal.subscribers,Gx=0;Gx<Zb.length;Gx++)Jb=Zb[Gx],Jb.ref.current(Jb.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Mae(t){let e=!1,n=!1,r,i,a;function o(u){i=requestAnimationFrame(o),e=!0,r=0,Bg("before",u),n=!0;for(const h of t.values()){var f;a=h.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((f=a.gl.xr)!=null&&f.isPresenting)&&(r+=Qb(u,a))}if(n=!1,Bg("after",u),r===0)return Bg("tail",u),e=!1,cancelAnimationFrame(i)}function s(u,f=1){var h;if(!u)return t.forEach(p=>s(p.store.getState(),f));(h=u.gl.xr)!=null&&h.isPresenting||!u.internal.active||u.frameloop==="never"||(f>1?u.internal.frames=Math.min(60,u.internal.frames+f):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,f=!0,h,p){if(f&&Bg("before",u),h)Qb(u,h,p);else for(const v of t.values())Qb(u,v.store.getState());f&&Bg("after",u)}return{loop:o,invalidate:s,advance:l}}function MO(){const t=te.useContext(bO);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ga(t=n=>n,e){return MO()(t,e)}function Dh(t,e=0){const n=MO(),r=n.getState().internal.subscribe,i=iW(t);return qy(()=>r(i,e,n),[e,r,n]),null}const H3=new WeakMap;function hW(t,e){return function(n,...r){let i=H3.get(n);return i||(i=new n,H3.set(n,i)),t&&t(i),Promise.all(r.map(a=>new Promise((o,s)=>i.load(a,l=>{l.scene&&Object.assign(l,pae(l.scene)),o(l)},e,l=>s(new Error(`Could not load ${a}: ${l==null?void 0:l.message}`))))))}}function zp(t,e,n,r){const i=Array.isArray(e)?e:[e],a=nae(hW(n,r),[t,...i],{equal:fr.equ});return Array.isArray(e)?a:a[0]}zp.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return rae(hW(n),[t,...r])};zp.clear=function(t,e){const n=Array.isArray(e)?e:[e];return iae([t,...n])};const jp=new Map,{invalidate:W3,advance:G3}=Mae(jp),{reconciler:Yv,applyProps:dc}=cae(jp,gae),ap={objects:"shallow",strict:!1},Eae=(t,e)=>{const n=typeof t=="function"?t(e):t;return fW(n)?n:new nw({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Aae(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:o,updateStyle:s=n}=e;return{width:r,height:i,top:a,left:o,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:a,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Tae(t){const e=jp.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||_ae(W3,G3),o=n||Yv.createContainer(a,Sp.ConcurrentRoot,null,!1,null,"",i,null);e||jp.set(t,{fiber:o,store:a});let s,l=!1,u;return{configure(f={}){let{gl:h,size:p,scene:v,events:_,onCreated:S,shadows:x=!1,linear:w=!1,flat:E=!1,legacy:b=!1,orthographic:T=!1,frameloop:P="always",dpr:C=[1,2],performance:L,raycaster:D,camera:I,onPointerMissed:F}=f,z=a.getState(),Y=z.gl;z.gl||z.set({gl:Y=Eae(h,t)});let H=z.raycaster;H||z.set({raycaster:H=new wO});const{params:K,...ee}=D||{};if(fr.equ(ee,H,ap)||dc(H,{...ee}),fr.equ(K,H.params,ap)||dc(H,{params:{...H.params,...K}}),!z.camera||z.camera===u&&!fr.equ(u,I,ap)){u=I;const J=I instanceof By,j=J?I:T?new Cs(0,0,0,0,.1,1e3):new Tr(75,0,.1,1e3);J||(j.position.z=5,I&&(dc(j,I),("aspect"in I||"left"in I||"right"in I||"bottom"in I||"top"in I)&&(j.manual=!0,j.updateProjectionMatrix())),!z.camera&&!(I!=null&&I.rotation)&&j.lookAt(0,0,0)),z.set({camera:j}),H.camera=j}if(!z.scene){let J;v!=null&&v.isScene?J=v:(J=new jy,v&&dc(J,v)),z.set({scene:cp(J)})}if(!z.xr){var oe;const J=(pe,_e)=>{const Re=a.getState();Re.frameloop!=="never"&&G3(pe,!0,Re,_e)},j=()=>{const pe=a.getState();pe.gl.xr.enabled=pe.gl.xr.isPresenting,pe.gl.xr.setAnimationLoop(pe.gl.xr.isPresenting?J:null),pe.gl.xr.isPresenting||W3(pe)},q={connect(){const pe=a.getState().gl;pe.xr.addEventListener("sessionstart",j),pe.xr.addEventListener("sessionend",j)},disconnect(){const pe=a.getState().gl;pe.xr.removeEventListener("sessionstart",j),pe.xr.removeEventListener("sessionend",j)}};typeof((oe=Y.xr)==null?void 0:oe.addEventListener)=="function"&&q.connect(),z.set({xr:q})}if(Y.shadowMap){const J=Y.shadowMap.enabled,j=Y.shadowMap.type;if(Y.shadowMap.enabled=!!x,fr.boo(x))Y.shadowMap.type=dv;else if(fr.str(x)){var ae;const q={basic:QV,percentage:Y1,soft:dv,variance:ws};Y.shadowMap.type=(ae=q[x])!=null?ae:dv}else fr.obj(x)&&Object.assign(Y.shadowMap,x);(J!==Y.shadowMap.enabled||j!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}const $=nW();$&&("enabled"in $?$.enabled=!b:"legacyMode"in $&&($.legacyMode=b)),l||dc(Y,{outputEncoding:w?3e3:3001,toneMapping:E?Ps:CR}),z.legacy!==b&&z.set(()=>({legacy:b})),z.linear!==w&&z.set(()=>({linear:w})),z.flat!==E&&z.set(()=>({flat:E})),h&&!fr.fun(h)&&!fW(h)&&!fr.equ(h,Y,ap)&&dc(Y,h),_&&!z.events.handlers&&z.set({events:_(a)});const re=Aae(t,p);return fr.equ(re,z.size,ap)||z.setSize(re.width,re.height,re.updateStyle,re.top,re.left),C&&z.viewport.dpr!==sW(C)&&z.setDpr(C),z.frameloop!==P&&z.setFrameloop(P),z.onPointerMissed||z.set({onPointerMissed:F}),L&&!fr.equ(L,z.performance,ap)&&z.set(J=>({performance:{...J.performance,...L}})),s=S,l=!0,this},render(f){return l||this.configure(),Yv.updateContainer(W.jsx(Pae,{store:a,children:f,onCreated:s,rootElement:t}),o,null,()=>{}),a},unmount(){dW(t)}}}function Pae({store:t,children:e,onCreated:n,rootElement:r}){return qy(()=>{const i=t.getState();i.set(a=>({internal:{...a.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),W.jsx(bO.Provider,{value:t,children:e})}function dW(t,e){const n=jp.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Yv.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),mae(i),jp.delete(t)}catch{}},500)})}}function Cae(t,e,n){return W.jsx(Rae,{children:t,container:e,state:n},e.uuid)}function Rae({state:t={},children:e,container:n}){const{events:r,size:i,...a}=t,o=MO(),[s]=te.useState(()=>new wO),[l]=te.useState(()=>new Ge),u=te.useCallback((h,p)=>{const v={...h};Object.keys(h).forEach(S=>{(xae.includes(S)||h[S]!==p[S]&&p[S])&&delete v[S]});let _;if(p&&i){const S=p.camera;_=h.viewport.getCurrentViewport(S,new ne,i),S!==h.camera&&uW(S,i)}return{...v,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...p==null?void 0:p.events,...r},size:{...h.size,...i},viewport:{...h.viewport,..._},...a}},[t]),[f]=te.useState(()=>{const h=o.getState();return Z8((v,_)=>({...h,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...r},size:{...h.size,...i},...a,set:v,get:_,setEvents:S=>v(x=>({...x,events:{...x.events,...S}}))}))});return te.useEffect(()=>{const h=o.subscribe(p=>f.setState(v=>u(p,v)));return()=>{h()}},[u]),te.useEffect(()=>{f.setState(h=>u(o.getState(),h))},[u]),te.useEffect(()=>()=>{f.destroy()},[]),W.jsx(W.Fragment,{children:Yv.createPortal(W.jsx(bO.Provider,{value:f,children:e}),f,null)})}Yv.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:te.version});const eM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Oae(t){const{handlePointer:e}=yae(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(eM).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:a}=t.getState();a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([o,s])=>{const[l,u]=eM[o];n.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,o])=>{if(r&&r.connected instanceof HTMLElement){const[s]=eM[a];r.connected.removeEventListener(s,o)}}),n(a=>({events:{...a.events,connected:void 0}}))}}}}function $3(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Iae({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=te.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=te.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,f=te.useRef(!1);te.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,p,v]=te.useMemo(()=>{const w=()=>{if(!s.current.element)return;const{left:E,top:b,width:T,height:P,bottom:C,right:L,x:D,y:I}=s.current.element.getBoundingClientRect(),F={left:E,top:b,width:T,height:P,bottom:C,right:L,x:D,y:I};s.current.element instanceof HTMLElement&&r&&(F.height=s.current.element.offsetHeight,F.width=s.current.element.offsetWidth),Object.freeze(F),f.current&&!kae(s.current.lastBounds,F)&&o(s.current.lastBounds=F)};return[w,u?$3(w,u):w,l?$3(w,l):w]},[o,r,l,u]);function _(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",v,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function S(){s.current.element&&(s.current.resizeObserver=new i(v),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(w=>w.addEventListener("scroll",v,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const x=w=>{!w||w===s.current.element||(_(),s.current.element=w,s.current.scrollContainers=pW(w),S())};return Nae(v,!!e),Lae(p),te.useEffect(()=>{_(),S()},[e,v,p]),te.useEffect(()=>_,[]),[x,a,h]}function Lae(t){te.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Nae(t,e){te.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function pW(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...pW(t.parentElement)]}const Dae=["x","y","top","bottom","left","right","width","height"],kae=(t,e)=>Dae.every(n=>t[n]===e[n]);var Uae=Object.defineProperty,Fae=Object.defineProperties,Bae=Object.getOwnPropertyDescriptors,q3=Object.getOwnPropertySymbols,zae=Object.prototype.hasOwnProperty,jae=Object.prototype.propertyIsEnumerable,X3=(t,e,n)=>e in t?Uae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y3=(t,e)=>{for(var n in e||(e={}))zae.call(e,n)&&X3(t,n,e[n]);if(q3)for(var n of q3(e))jae.call(e,n)&&X3(t,n,e[n]);return t},Vae=(t,e)=>Fae(t,Bae(e)),K3,Z3;typeof window<"u"&&((K3=window.document)!=null&&K3.createElement||((Z3=window.navigator)==null?void 0:Z3.product)==="ReactNative")?te.useLayoutEffect:te.useEffect;function mW(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=mW(r,e,n);if(i)return i;r=r.sibling}}function gW(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const J3=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=J3;return}return J3.apply(this,arguments)};const EO=gW(te.createContext(null));class vW extends te.Component{render(){return te.createElement(EO.Provider,{value:this._reactInternals},this.props.children)}}function Hae(){const t=te.useContext(EO);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=te.useId();return te.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=mW(r,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Wae(){const t=Hae(),[e]=te.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==EO&&!e.has(i)&&e.set(i,te.useContext(gW(i)))}n=n.return}return e}function Gae(){const t=Wae();return te.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>te.createElement(e,null,te.createElement(n.Provider,Vae(Y3({},r),{value:t.get(n)}))),e=>te.createElement(vW,Y3({},e))),[t])}const $ae=te.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:a,events:o=Oae,eventSource:s,eventPrefix:l,shadows:u,linear:f,flat:h,legacy:p,orthographic:v,frameloop:_,dpr:S,performance:x,raycaster:w,camera:E,scene:b,onPointerMissed:T,onCreated:P,...C},L){te.useMemo(()=>tW(Kie),[]);const D=Gae(),[I,F]=Iae({scroll:!0,debounce:{scroll:50,resize:0},...r}),z=te.useRef(null),Y=te.useRef(null);te.useImperativeHandle(L,()=>z.current);const H=iW(T),[K,ee]=te.useState(!1),[oe,ae]=te.useState(!1);if(K)throw K;if(oe)throw oe;const $=te.useRef(null);qy(()=>{const J=z.current;F.width>0&&F.height>0&&J&&($.current||($.current=Tae(J)),$.current.configure({gl:a,events:o,shadows:u,linear:f,flat:h,legacy:p,orthographic:v,frameloop:_,dpr:S,performance:x,raycaster:w,camera:E,scene:b,size:F,onPointerMissed:(...j)=>H.current==null?void 0:H.current(...j),onCreated:j=>{j.events.connect==null||j.events.connect(s?fae(s)?s.current:s:Y.current),l&&j.setEvents({compute:(q,pe)=>{const _e=q[l+"X"],Re=q[l+"Y"];pe.pointer.set(_e/pe.size.width*2-1,-(Re/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),P==null||P(j)}}),$.current.render(W.jsx(D,{children:W.jsx(aW,{set:ae,children:W.jsx(te.Suspense,{fallback:W.jsx(hae,{set:ee}),children:e??null})})})))}),te.useEffect(()=>{const J=z.current;if(J)return()=>dW(J)},[]);const re=s?"none":"auto";return W.jsx("div",{ref:Y,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:re,...i},...C,children:W.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:W.jsx("canvas",{ref:z,style:{display:"block"},children:n})})})}),AO=te.forwardRef(function(e,n){return W.jsx(vW,{children:W.jsx($ae,{...e,ref:n})})});function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh.apply(null,arguments)}const Xy=new ne,TO=new ne,qae=new ne,Q3=new Ge;function Xae(t,e,n){const r=Xy.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,a=n.height/2;return[r.x*i+i,-(r.y*a)+a]}function Yae(t,e){const n=Xy.setFromMatrixPosition(t.matrixWorld),r=TO.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),a=e.getWorldDirection(qae);return i.angleTo(a)>Math.PI/2}function Kae(t,e,n,r){const i=Xy.setFromMatrixPosition(t.matrixWorld),a=i.clone();a.project(e),Q3.set(a.x,a.y),n.setFromCamera(Q3,e);const o=n.intersectObjects(r,!0);if(o.length){const s=o[0].distance;return i.distanceTo(n.ray.origin)<s}return!0}function Zae(t,e){if(e instanceof Cs)return e.zoom;if(e instanceof Tr){const n=Xy.setFromMatrixPosition(t.matrixWorld),r=TO.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}else return 1}function Jae(t,e,n){if(e instanceof Tr||e instanceof Cs){const r=Xy.setFromMatrixPosition(t.matrixWorld),i=TO.setFromMatrixPosition(e.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),s=n[1]-o*e.far;return Math.round(o*a+s)}}const vC=t=>Math.abs(t)<1e-10?0:t;function yW(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=vC(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const Qae=(t=>e=>yW(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),eoe=(t=>(e,n)=>yW(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function toe(t){return t&&typeof t=="object"&&"current"in t}const noe=te.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:a,fullscreen:o,portal:s,distanceFactor:l,sprite:u=!1,transform:f=!1,occlude:h,onOcclude:p,castShadow:v,receiveShadow:_,material:S,geometry:x,zIndexRange:w=[16777271,0],calculatePosition:E=Xae,as:b="div",wrapperClass:T,pointerEvents:P="auto",...C},L)=>{const{gl:D,camera:I,scene:F,size:z,raycaster:Y,events:H,viewport:K}=ga(),[ee]=te.useState(()=>document.createElement(b)),oe=te.useRef(),ae=te.useRef(null),$=te.useRef(0),re=te.useRef([0,0]),J=te.useRef(null),j=te.useRef(null),q=(s==null?void 0:s.current)||H.connected||D.domElement.parentNode,pe=te.useRef(null),_e=te.useRef(!1),Re=te.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&toe(h[0]),[h]);te.useLayoutEffect(()=>{const Ze=D.domElement;h&&h==="blending"?(Ze.style.zIndex=`${Math.floor(w[0]/2)}`,Ze.style.position="absolute",Ze.style.pointerEvents="none"):(Ze.style.zIndex=null,Ze.style.position=null,Ze.style.pointerEvents=null)},[h]),te.useLayoutEffect(()=>{if(ae.current){const Ze=oe.current=pj.createRoot(ee);if(F.updateMatrixWorld(),f)ee.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Fe=E(ae.current,I,z);ee.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Fe[0]}px,${Fe[1]}px,0);transform-origin:0 0;`}return q&&(i?q.prepend(ee):q.appendChild(ee)),()=>{q&&q.removeChild(ee),Ze.unmount()}}},[q,f]),te.useLayoutEffect(()=>{T&&(ee.className=T)},[T]);const Ie=te.useMemo(()=>f?{position:"absolute",top:0,left:0,width:z.width,height:z.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...o&&{top:-z.height/2,left:-z.width/2,width:z.width,height:z.height},...n},[n,a,o,z,f]),Ye=te.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);te.useLayoutEffect(()=>{if(_e.current=!1,f){var Ze;(Ze=oe.current)==null||Ze.render(te.createElement("div",{ref:J,style:Ie},te.createElement("div",{ref:j,style:Ye},te.createElement("div",{ref:L,className:r,style:n,children:t}))))}else{var Fe;(Fe=oe.current)==null||Fe.render(te.createElement("div",{ref:L,style:Ie,className:r,children:t}))}});const Xe=te.useRef(!0);Dh(Ze=>{if(ae.current){I.updateMatrixWorld(),ae.current.updateWorldMatrix(!0,!1);const Fe=f?re.current:E(ae.current,I,z);if(f||Math.abs($.current-I.zoom)>e||Math.abs(re.current[0]-Fe[0])>e||Math.abs(re.current[1]-Fe[1])>e){const Z=Yae(ae.current,I);let Ne=!1;Re&&(Array.isArray(h)?Ne=h.map(ot=>ot.current):h!=="blending"&&(Ne=[F]));const be=Xe.current;if(Ne){const ot=Kae(ae.current,I,Y,Ne);Xe.current=ot&&!Z}else Xe.current=!Z;be!==Xe.current&&(p?p(!Xe.current):ee.style.display=Xe.current?"block":"none");const qe=Math.floor(w[0]/2),Be=h?Re?[w[0],qe]:[qe-1,0]:w;if(ee.style.zIndex=`${Jae(ae.current,I,Be)}`,f){const[ot,lt]=[z.width/2,z.height/2],dt=I.projectionMatrix.elements[5]*lt,{isOrthographicCamera:Tt,top:Bt,left:ln,bottom:le,right:Q}=I,Le=Qae(I.matrixWorldInverse),tt=Tt?`scale(${dt})translate(${vC(-(Q+ln)/2)}px,${vC((Bt+le)/2)}px)`:`translateZ(${dt}px)`;let Ke=ae.current.matrixWorld;u&&(Ke=I.matrixWorldInverse.clone().transpose().copyPosition(Ke).scale(ae.current.scale),Ke.elements[3]=Ke.elements[7]=Ke.elements[11]=0,Ke.elements[15]=1),ee.style.width=z.width+"px",ee.style.height=z.height+"px",ee.style.perspective=Tt?"":`${dt}px`,J.current&&j.current&&(J.current.style.transform=`${tt}${Le}translate(${ot}px,${lt}px)`,j.current.style.transform=eoe(Ke,1/((l||10)/400)))}else{const ot=l===void 0?1:Zae(ae.current,I)*l;ee.style.transform=`translate3d(${Fe[0]}px,${Fe[1]}px,0) scale(${ot})`}re.current=Fe,$.current=I.zoom}}if(!Re&&pe.current&&!_e.current)if(f){if(J.current){const Fe=J.current.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const{isOrthographicCamera:Z}=I;if(Z||x)C.scale&&(Array.isArray(C.scale)?C.scale instanceof ne?pe.current.scale.copy(C.scale.clone().divideScalar(1)):pe.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):pe.current.scale.setScalar(1/C.scale));else{const Ne=(l||10)/400,be=Fe.clientWidth*Ne,qe=Fe.clientHeight*Ne;pe.current.scale.set(be,qe,1)}_e.current=!0}}}else{const Fe=ee.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const Z=1/K.factor,Ne=Fe.clientWidth*Z,be=Fe.clientHeight*Z;pe.current.scale.set(Ne,be,1),_e.current=!0}pe.current.lookAt(Ze.camera.position)}});const ke=te.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return te.createElement("group",wh({},C,{ref:ae}),h&&!Re&&te.createElement("mesh",{castShadow:v,receiveShadow:_,ref:pe},x||te.createElement("planeGeometry",null),S||te.createElement("shaderMaterial",{side:Fo,vertexShader:ke.vertexShader,fragmentShader:ke.fragmentShader})))}),Mw=parseInt(ky.replace(/\D+/g,"")),xW=Mw>=125?"uv1":"uv2";var Bo=Uint8Array,vc=Uint16Array,yC=Uint32Array,_W=new Bo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wW=new Bo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),roe=new Bo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),SW=function(t,e){for(var n=new vc(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new yC(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},bW=SW(_W,2),MW=bW[0],ioe=bW[1];MW[28]=258,ioe[258]=28;var aoe=SW(wW,0),ooe=aoe[0],xC=new vc(32768);for(var vr=0;vr<32768;++vr){var cc=(vr&43690)>>>1|(vr&21845)<<1;cc=(cc&52428)>>>2|(cc&13107)<<2,cc=(cc&61680)>>>4|(cc&3855)<<4,xC[vr]=((cc&65280)>>>8|(cc&255)<<8)>>>1}var xv=function(t,e,n){for(var r=t.length,i=0,a=new vc(e);i<r;++i)++a[t[i]-1];var o=new vc(e);for(i=0;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new vc(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],h=o[t[i]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)s[xC[h]>>>l]=u}else for(s=new vc(r),i=0;i<r;++i)t[i]&&(s[i]=xC[o[t[i]-1]++]>>>15-t[i]);return s},Yy=new Bo(288);for(var vr=0;vr<144;++vr)Yy[vr]=8;for(var vr=144;vr<256;++vr)Yy[vr]=9;for(var vr=256;vr<280;++vr)Yy[vr]=7;for(var vr=280;vr<288;++vr)Yy[vr]=8;var EW=new Bo(32);for(var vr=0;vr<32;++vr)EW[vr]=5;var soe=xv(Yy,9,1),loe=xv(EW,5,1),tM=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ys=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},nM=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},uoe=function(t){return(t/8|0)+(t&7&&1)},coe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof vc?vc:t instanceof yC?yC:Bo)(n-e);return r.set(t.subarray(e,n)),r},foe=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Bo(0);var i=!e||n,a=!n||n.i;n||(n={}),e||(e=new Bo(r*3));var o=function(Ie){var Ye=e.length;if(Ie>Ye){var Xe=new Bo(Math.max(Ye*2,Ie));Xe.set(e),e=Xe}},s=n.f||0,l=n.p||0,u=n.b||0,f=n.l,h=n.d,p=n.m,v=n.n,_=r*8;do{if(!f){n.f=s=ys(t,l,1);var S=ys(t,l+1,3);if(l+=3,S)if(S==1)f=soe,h=loe,p=9,v=5;else if(S==2){var b=ys(t,l,31)+257,T=ys(t,l+10,15)+4,P=b+ys(t,l+5,31)+1;l+=14;for(var C=new Bo(P),L=new Bo(19),D=0;D<T;++D)L[roe[D]]=ys(t,l+D*3,7);l+=T*3;for(var I=tM(L),F=(1<<I)-1,z=xv(L,I,1),D=0;D<P;){var Y=z[ys(t,l,F)];l+=Y&15;var x=Y>>>4;if(x<16)C[D++]=x;else{var H=0,K=0;for(x==16?(K=3+ys(t,l,3),l+=2,H=C[D-1]):x==17?(K=3+ys(t,l,7),l+=3):x==18&&(K=11+ys(t,l,127),l+=7);K--;)C[D++]=H}}var ee=C.subarray(0,b),oe=C.subarray(b);p=tM(ee),v=tM(oe),f=xv(ee,p,1),h=xv(oe,v,1)}else throw"invalid block type";else{var x=uoe(l)+4,w=t[x-4]|t[x-3]<<8,E=x+w;if(E>r){if(a)throw"unexpected EOF";break}i&&o(u+w),e.set(t.subarray(x,E),u),n.b=u+=w,n.p=l=E*8;continue}if(l>_){if(a)throw"unexpected EOF";break}}i&&o(u+131072);for(var ae=(1<<p)-1,$=(1<<v)-1,re=l;;re=l){var H=f[nM(t,l)&ae],J=H>>>4;if(l+=H&15,l>_){if(a)throw"unexpected EOF";break}if(!H)throw"invalid length/literal";if(J<256)e[u++]=J;else if(J==256){re=l,f=null;break}else{var j=J-254;if(J>264){var D=J-257,q=_W[D];j=ys(t,l,(1<<q)-1)+MW[D],l+=q}var pe=h[nM(t,l)&$],_e=pe>>>4;if(!pe)throw"invalid distance";l+=pe&15;var oe=ooe[_e];if(_e>3){var q=wW[_e];oe+=nM(t,l)&(1<<q)-1,l+=q}if(l>_){if(a)throw"unexpected EOF";break}i&&o(u+131072);for(var Re=u+j;u<Re;u+=4)e[u]=e[u-oe],e[u+1]=e[u+1-oe],e[u+2]=e[u+2-oe],e[u+3]=e[u+3-oe];u=Re}}n.l=f,n.p=re,n.b=u,f&&(s=1,n.m=p,n.d=h,n.n=v)}while(!s);return u==e.length?e:coe(e,0,u)},hoe=new Bo(0),doe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function $x(t,e){return foe((doe(t),t.subarray(2,-4)),e)}var poe=typeof TextDecoder<"u"&&new TextDecoder,moe=0;try{poe.decode(hoe,{stream:!0}),moe=1}catch{}const goe=t=>t&&t.isCubeTexture;class voe extends Gr{constructor(e,n){var r,i;const a=goe(e),s=((i=a?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(s)),u=Math.pow(2,l),f=3*Math.max(u,16*7),h=4*u,p=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/f}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${l}.0`],v=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,_=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Mw>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,S={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},x=new Hy(1,16),w=new Wa({uniforms:S,fragmentShader:_,vertexShader:v,side:Fo});super(x,w)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var yoe=Object.defineProperty,xoe=(t,e,n)=>e in t?yoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_oe=(t,e,n)=>(xoe(t,e+"",n),n);class woe{constructor(){_oe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var Soe=Object.defineProperty,boe=(t,e,n)=>e in t?Soe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qt=(t,e,n)=>(boe(t,typeof e!="symbol"?e+"":e,n),n);const qx=new Rh,ek=new iu,Moe=Math.cos(70*(Math.PI/180)),tk=(t,e)=>(t%e+e)%e;let Eoe=class extends woe{constructor(e,n){super(),qt(this,"object"),qt(this,"domElement"),qt(this,"enabled",!0),qt(this,"target",new ne),qt(this,"minDistance",0),qt(this,"maxDistance",1/0),qt(this,"minZoom",0),qt(this,"maxZoom",1/0),qt(this,"minPolarAngle",0),qt(this,"maxPolarAngle",Math.PI),qt(this,"minAzimuthAngle",-1/0),qt(this,"maxAzimuthAngle",1/0),qt(this,"enableDamping",!1),qt(this,"dampingFactor",.05),qt(this,"enableZoom",!0),qt(this,"zoomSpeed",1),qt(this,"enableRotate",!0),qt(this,"rotateSpeed",1),qt(this,"enablePan",!0),qt(this,"panSpeed",1),qt(this,"screenSpacePanning",!0),qt(this,"keyPanSpeed",7),qt(this,"zoomToCursor",!1),qt(this,"autoRotate",!1),qt(this,"autoRotateSpeed",2),qt(this,"reverseOrbit",!1),qt(this,"reverseHorizontalOrbit",!1),qt(this,"reverseVerticalOrbit",!1),qt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),qt(this,"mouseButtons",{LEFT:jf.ROTATE,MIDDLE:jf.DOLLY,RIGHT:jf.PAN}),qt(this,"touches",{ONE:Vf.ROTATE,TWO:Vf.DOLLY_PAN}),qt(this,"target0"),qt(this,"position0"),qt(this,"zoom0"),qt(this,"_domElementKeyEvents",null),qt(this,"getPolarAngle"),qt(this,"getAzimuthalAngle"),qt(this,"setPolarAngle"),qt(this,"setAzimuthalAngle"),qt(this,"getDistance"),qt(this,"getZoomScale"),qt(this,"listenToKeyEvents"),qt(this,"stopListenToKeyEvents"),qt(this,"saveState"),qt(this,"reset"),qt(this,"update"),qt(this,"connect"),qt(this,"dispose"),qt(this,"dollyIn"),qt(this,"dollyOut"),qt(this,"getScale"),qt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=he=>{let Ue=tk(he,2*Math.PI),nt=f.phi;nt<0&&(nt+=2*Math.PI),Ue<0&&(Ue+=2*Math.PI);let de=Math.abs(Ue-nt);2*Math.PI-de<de&&(Ue<nt?Ue+=2*Math.PI:nt+=2*Math.PI),h.phi=Ue-nt,r.update()},this.setAzimuthalAngle=he=>{let Ue=tk(he,2*Math.PI),nt=f.theta;nt<0&&(nt+=2*Math.PI),Ue<0&&(Ue+=2*Math.PI);let de=Math.abs(Ue-nt);2*Math.PI-de<de&&(Ue<nt?Ue+=2*Math.PI:nt+=2*Math.PI),h.theta=Ue-nt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=he=>{he.addEventListener("keydown",st),this._domElementKeyEvents=he},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",st),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const he=new ne,Ue=new ne(0,1,0),nt=new ta().setFromUnitVectors(e.up,Ue),de=nt.clone().invert(),we=new ne,Me=new ta,Qe=2*Math.PI;return function(){const un=r.object.position;nt.setFromUnitVectors(e.up,Ue),de.copy(nt).invert(),he.copy(un).sub(r.target),he.applyQuaternion(nt),f.setFromVector3(he),r.autoRotate&&l===s.NONE&&K(Y()),r.enableDamping?(f.theta+=h.theta*r.dampingFactor,f.phi+=h.phi*r.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);let dn=r.minAzimuthAngle,An=r.maxAzimuthAngle;isFinite(dn)&&isFinite(An)&&(dn<-Math.PI?dn+=Qe:dn>Math.PI&&(dn-=Qe),An<-Math.PI?An+=Qe:An>Math.PI&&(An-=Qe),dn<=An?f.theta=Math.max(dn,Math.min(An,f.theta)):f.theta=f.theta>(dn+An)/2?Math.max(dn,f.theta):Math.min(An,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&I||r.object.isOrthographicCamera?f.radius=pe(f.radius):f.radius=pe(f.radius*p),he.setFromSpherical(f),he.applyQuaternion(de),un.copy(r.target).add(he),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),v.set(0,0,0));let yr=!1;if(r.zoomToCursor&&I){let bn=null;if(r.object instanceof Tr&&r.object.isPerspectiveCamera){const xr=he.length();bn=pe(xr*p);const jn=xr-bn;r.object.position.addScaledVector(L,jn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const xr=new ne(D.x,D.y,0);xr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),yr=!0;const jn=new ne(D.x,D.y,0);jn.unproject(r.object),r.object.position.sub(jn).add(xr),r.object.updateMatrixWorld(),bn=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;bn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(bn).add(r.object.position):(qx.origin.copy(r.object.position),qx.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(qx.direction))<Moe?e.lookAt(r.target):(ek.setFromNormalAndCoplanarPoint(r.object.up,r.target),qx.intersectPlane(ek,r.target))))}else r.object instanceof Cs&&r.object.isOrthographicCamera&&(yr=p!==1,yr&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,I=!1,yr||we.distanceToSquared(r.object.position)>u||8*(1-Me.dot(r.object.quaternion))>u?(r.dispatchEvent(i),we.copy(r.object.position),Me.copy(r.object.quaternion),yr=!1,!0):!1}})(),this.connect=he=>{r.domElement=he,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ze),r.domElement.addEventListener("pointerdown",ln),r.domElement.addEventListener("pointercancel",Q),r.domElement.addEventListener("wheel",Ke)},this.dispose=()=>{var he,Ue,nt,de,we,Me;r.domElement&&(r.domElement.style.touchAction="auto"),(he=r.domElement)==null||he.removeEventListener("contextmenu",ze),(Ue=r.domElement)==null||Ue.removeEventListener("pointerdown",ln),(nt=r.domElement)==null||nt.removeEventListener("pointercancel",Q),(de=r.domElement)==null||de.removeEventListener("wheel",Ke),(we=r.domElement)==null||we.ownerDocument.removeEventListener("pointermove",le),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointerup",Q),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",st)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,f=new pC,h=new pC;let p=1;const v=new ne,_=new Ge,S=new Ge,x=new Ge,w=new Ge,E=new Ge,b=new Ge,T=new Ge,P=new Ge,C=new Ge,L=new ne,D=new Ge;let I=!1;const F=[],z={};function Y(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function K(he){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=he:h.theta-=he}function ee(he){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=he:h.phi-=he}const oe=(()=>{const he=new ne;return function(nt,de){he.setFromMatrixColumn(de,0),he.multiplyScalar(-nt),v.add(he)}})(),ae=(()=>{const he=new ne;return function(nt,de){r.screenSpacePanning===!0?he.setFromMatrixColumn(de,1):(he.setFromMatrixColumn(de,0),he.crossVectors(r.object.up,he)),he.multiplyScalar(nt),v.add(he)}})(),$=(()=>{const he=new ne;return function(nt,de){const we=r.domElement;if(we&&r.object instanceof Tr&&r.object.isPerspectiveCamera){const Me=r.object.position;he.copy(Me).sub(r.target);let Qe=he.length();Qe*=Math.tan(r.object.fov/2*Math.PI/180),oe(2*nt*Qe/we.clientHeight,r.object.matrix),ae(2*de*Qe/we.clientHeight,r.object.matrix)}else we&&r.object instanceof Cs&&r.object.isOrthographicCamera?(oe(nt*(r.object.right-r.object.left)/r.object.zoom/we.clientWidth,r.object.matrix),ae(de*(r.object.top-r.object.bottom)/r.object.zoom/we.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function re(he){r.object instanceof Tr&&r.object.isPerspectiveCamera||r.object instanceof Cs&&r.object.isOrthographicCamera?p=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function J(he){re(p/he)}function j(he){re(p*he)}function q(he){if(!r.zoomToCursor||!r.domElement)return;I=!0;const Ue=r.domElement.getBoundingClientRect(),nt=he.clientX-Ue.left,de=he.clientY-Ue.top,we=Ue.width,Me=Ue.height;D.x=nt/we*2-1,D.y=-(de/Me)*2+1,L.set(D.x,D.y,1).unproject(r.object).sub(r.object.position).normalize()}function pe(he){return Math.max(r.minDistance,Math.min(r.maxDistance,he))}function _e(he){_.set(he.clientX,he.clientY)}function Re(he){q(he),T.set(he.clientX,he.clientY)}function Ie(he){w.set(he.clientX,he.clientY)}function Ye(he){S.set(he.clientX,he.clientY),x.subVectors(S,_).multiplyScalar(r.rotateSpeed);const Ue=r.domElement;Ue&&(K(2*Math.PI*x.x/Ue.clientHeight),ee(2*Math.PI*x.y/Ue.clientHeight)),_.copy(S),r.update()}function Xe(he){P.set(he.clientX,he.clientY),C.subVectors(P,T),C.y>0?J(H()):C.y<0&&j(H()),T.copy(P),r.update()}function ke(he){E.set(he.clientX,he.clientY),b.subVectors(E,w).multiplyScalar(r.panSpeed),$(b.x,b.y),w.copy(E),r.update()}function Ze(he){q(he),he.deltaY<0?j(H()):he.deltaY>0&&J(H()),r.update()}function Fe(he){let Ue=!1;switch(he.code){case r.keys.UP:$(0,r.keyPanSpeed),Ue=!0;break;case r.keys.BOTTOM:$(0,-r.keyPanSpeed),Ue=!0;break;case r.keys.LEFT:$(r.keyPanSpeed,0),Ue=!0;break;case r.keys.RIGHT:$(-r.keyPanSpeed,0),Ue=!0;break}Ue&&(he.preventDefault(),r.update())}function Z(){if(F.length==1)_.set(F[0].pageX,F[0].pageY);else{const he=.5*(F[0].pageX+F[1].pageX),Ue=.5*(F[0].pageY+F[1].pageY);_.set(he,Ue)}}function Ne(){if(F.length==1)w.set(F[0].pageX,F[0].pageY);else{const he=.5*(F[0].pageX+F[1].pageX),Ue=.5*(F[0].pageY+F[1].pageY);w.set(he,Ue)}}function be(){const he=F[0].pageX-F[1].pageX,Ue=F[0].pageY-F[1].pageY,nt=Math.sqrt(he*he+Ue*Ue);T.set(0,nt)}function qe(){r.enableZoom&&be(),r.enablePan&&Ne()}function Be(){r.enableZoom&&be(),r.enableRotate&&Z()}function ot(he){if(F.length==1)S.set(he.pageX,he.pageY);else{const nt=St(he),de=.5*(he.pageX+nt.x),we=.5*(he.pageY+nt.y);S.set(de,we)}x.subVectors(S,_).multiplyScalar(r.rotateSpeed);const Ue=r.domElement;Ue&&(K(2*Math.PI*x.x/Ue.clientHeight),ee(2*Math.PI*x.y/Ue.clientHeight)),_.copy(S)}function lt(he){if(F.length==1)E.set(he.pageX,he.pageY);else{const Ue=St(he),nt=.5*(he.pageX+Ue.x),de=.5*(he.pageY+Ue.y);E.set(nt,de)}b.subVectors(E,w).multiplyScalar(r.panSpeed),$(b.x,b.y),w.copy(E)}function dt(he){const Ue=St(he),nt=he.pageX-Ue.x,de=he.pageY-Ue.y,we=Math.sqrt(nt*nt+de*de);P.set(0,we),C.set(0,Math.pow(P.y/T.y,r.zoomSpeed)),J(C.y),T.copy(P)}function Tt(he){r.enableZoom&&dt(he),r.enablePan&&lt(he)}function Bt(he){r.enableZoom&&dt(he),r.enableRotate&&ot(he)}function ln(he){var Ue,nt;r.enabled!==!1&&(F.length===0&&((Ue=r.domElement)==null||Ue.ownerDocument.addEventListener("pointermove",le),(nt=r.domElement)==null||nt.ownerDocument.addEventListener("pointerup",Q)),zt(he),he.pointerType==="touch"?Et(he):Le(he))}function le(he){r.enabled!==!1&&(he.pointerType==="touch"?ft(he):tt(he))}function Q(he){var Ue,nt,de;Ot(he),F.length===0&&((Ue=r.domElement)==null||Ue.releasePointerCapture(he.pointerId),(nt=r.domElement)==null||nt.ownerDocument.removeEventListener("pointermove",le),(de=r.domElement)==null||de.ownerDocument.removeEventListener("pointerup",Q)),r.dispatchEvent(o),l=s.NONE}function Le(he){let Ue;switch(he.button){case 0:Ue=r.mouseButtons.LEFT;break;case 1:Ue=r.mouseButtons.MIDDLE;break;case 2:Ue=r.mouseButtons.RIGHT;break;default:Ue=-1}switch(Ue){case jf.DOLLY:if(r.enableZoom===!1)return;Re(he),l=s.DOLLY;break;case jf.ROTATE:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enablePan===!1)return;Ie(he),l=s.PAN}else{if(r.enableRotate===!1)return;_e(he),l=s.ROTATE}break;case jf.PAN:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enableRotate===!1)return;_e(he),l=s.ROTATE}else{if(r.enablePan===!1)return;Ie(he),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function tt(he){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;Ye(he);break;case s.DOLLY:if(r.enableZoom===!1)return;Xe(he);break;case s.PAN:if(r.enablePan===!1)return;ke(he);break}}function Ke(he){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(he.preventDefault(),r.dispatchEvent(a),Ze(he),r.dispatchEvent(o))}function st(he){r.enabled===!1||r.enablePan===!1||Fe(he)}function Et(he){switch(_t(he),F.length){case 1:switch(r.touches.ONE){case Vf.ROTATE:if(r.enableRotate===!1)return;Z(),l=s.TOUCH_ROTATE;break;case Vf.PAN:if(r.enablePan===!1)return;Ne(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Vf.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;qe(),l=s.TOUCH_DOLLY_PAN;break;case Vf.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Be(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function ft(he){switch(_t(he),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;ot(he),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;lt(he),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Tt(he),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Bt(he),r.update();break;default:l=s.NONE}}function ze(he){r.enabled!==!1&&he.preventDefault()}function zt(he){F.push(he)}function Ot(he){delete z[he.pointerId];for(let Ue=0;Ue<F.length;Ue++)if(F[Ue].pointerId==he.pointerId){F.splice(Ue,1);return}}function _t(he){let Ue=z[he.pointerId];Ue===void 0&&(Ue=new Ge,z[he.pointerId]=Ue),Ue.set(he.pageX,he.pageY)}function St(he){const Ue=he.pointerId===F[0].pointerId?F[1]:F[0];return z[Ue.pointerId]}this.dollyIn=(he=H())=>{j(he),r.update()},this.dollyOut=(he=H())=>{J(he),r.update()},this.getScale=()=>p,this.setScale=he=>{re(he),r.update()},this.getZoomScale=()=>H(),n!==void 0&&this.connect(n),this.update()}};class Aoe extends dO{constructor(e){super(e),this.type=Ai}parse(e){const o=function(D,I){switch(D){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(I||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(I||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(I||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(I||""))}},f=`
`,h=function(D,I,F){I=I||1024;let Y=D.pos,H=-1,K=0,ee="",oe=String.fromCharCode.apply(null,new Uint16Array(D.subarray(Y,Y+128)));for(;0>(H=oe.indexOf(f))&&K<I&&Y<D.byteLength;)ee+=oe,K+=oe.length,Y+=128,oe+=String.fromCharCode.apply(null,new Uint16Array(D.subarray(Y,Y+128)));return-1<H?(D.pos+=K+H+1,ee+oe.slice(0,H)):!1},p=function(D){const I=/^#\?(\S+)/,F=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,z=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Y=/^\s*FORMAT=(\S+)\s*$/,H=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,K={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ee,oe;for((D.pos>=D.byteLength||!(ee=h(D)))&&o(1,"no header found"),(oe=ee.match(I))||o(3,"bad initial token"),K.valid|=1,K.programtype=oe[1],K.string+=ee+`
`;ee=h(D),ee!==!1;){if(K.string+=ee+`
`,ee.charAt(0)==="#"){K.comments+=ee+`
`;continue}if((oe=ee.match(F))&&(K.gamma=parseFloat(oe[1])),(oe=ee.match(z))&&(K.exposure=parseFloat(oe[1])),(oe=ee.match(Y))&&(K.valid|=2,K.format=oe[1]),(oe=ee.match(H))&&(K.valid|=4,K.height=parseInt(oe[1],10),K.width=parseInt(oe[2],10)),K.valid&2&&K.valid&4)break}return K.valid&2||o(3,"missing format specifier"),K.valid&4||o(3,"missing image size specifier"),K},v=function(D,I,F){const z=I;if(z<8||z>32767||D[0]!==2||D[1]!==2||D[2]&128)return new Uint8Array(D);z!==(D[2]<<8|D[3])&&o(3,"wrong scanline width");const Y=new Uint8Array(4*I*F);Y.length||o(4,"unable to allocate buffer space");let H=0,K=0;const ee=4*z,oe=new Uint8Array(4),ae=new Uint8Array(ee);let $=F;for(;$>0&&K<D.byteLength;){K+4>D.byteLength&&o(1),oe[0]=D[K++],oe[1]=D[K++],oe[2]=D[K++],oe[3]=D[K++],(oe[0]!=2||oe[1]!=2||(oe[2]<<8|oe[3])!=z)&&o(3,"bad rgbe scanline format");let re=0,J;for(;re<ee&&K<D.byteLength;){J=D[K++];const q=J>128;if(q&&(J-=128),(J===0||re+J>ee)&&o(3,"bad scanline data"),q){const pe=D[K++];for(let _e=0;_e<J;_e++)ae[re++]=pe}else ae.set(D.subarray(K,K+J),re),re+=J,K+=J}const j=z;for(let q=0;q<j;q++){let pe=0;Y[H]=ae[q+pe],pe+=z,Y[H+1]=ae[q+pe],pe+=z,Y[H+2]=ae[q+pe],pe+=z,Y[H+3]=ae[q+pe],H+=4}$--}return Y},_=function(D,I,F,z){const Y=D[I+3],H=Math.pow(2,Y-128)/255;F[z+0]=D[I+0]*H,F[z+1]=D[I+1]*H,F[z+2]=D[I+2]*H,F[z+3]=1},S=function(D,I,F,z){const Y=D[I+3],H=Math.pow(2,Y-128)/255;F[z+0]=eh.toHalfFloat(Math.min(D[I+0]*H,65504)),F[z+1]=eh.toHalfFloat(Math.min(D[I+1]*H,65504)),F[z+2]=eh.toHalfFloat(Math.min(D[I+2]*H,65504)),F[z+3]=eh.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const w=p(x),E=w.width,b=w.height,T=v(x.subarray(x.pos),E,b);let P,C,L;switch(this.type){case hi:L=T.length/4;const D=new Float32Array(L*4);for(let F=0;F<L;F++)_(T,F*4,D,F*4);P=D,C=hi;break;case Ai:L=T.length/4;const I=new Uint16Array(L*4);for(let F=0;F<L;F++)S(T,F*4,I,F*4);P=I,C=Ai;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:E,height:b,data:P,header:w.string,gamma:w.gamma,exposure:w.exposure,type:C}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(o,s){switch(o.type){case hi:case Ai:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=zn,o.magFilter=zn,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,s)}return super.load(e,a,r,i)}}const zg=Mw>=152;class Toe extends dO{constructor(e){super(e),this.type=Ai}parse(e){const I=Math.pow(2.7182818,2.2);function F(V,U){for(var X=0,se=0;se<65536;++se)(se==0||V[se>>3]&1<<(se&7))&&(U[X++]=se);for(var ie=X-1;X<65536;)U[X++]=0;return ie}function z(V){for(var U=0;U<16384;U++)V[U]={},V[U].len=0,V[U].lit=0,V[U].p=null}const Y={l:0,c:0,lc:0};function H(V,U,X,se,ie){for(;X<V;)U=U<<8|St(se,ie),X+=8;X-=V,Y.l=U>>X&(1<<V)-1,Y.c=U,Y.lc=X}const K=new Array(59);function ee(V){for(var U=0;U<=58;++U)K[U]=0;for(var U=0;U<65537;++U)K[V[U]]+=1;for(var X=0,U=58;U>0;--U){var se=X+K[U]>>1;K[U]=X,X=se}for(var U=0;U<65537;++U){var ie=V[U];ie>0&&(V[U]=ie|K[ie]++<<6)}}function oe(V,U,X,se,ie,ce,Ee){for(var Pe=X,Ve=0,He=0;ie<=ce;ie++){if(Pe.value-X.value>se)return!1;H(6,Ve,He,V,Pe);var $e=Y.l;if(Ve=Y.c,He=Y.lc,Ee[ie]=$e,$e==63){if(Pe.value-X.value>se)throw"Something wrong with hufUnpackEncTable";H(8,Ve,He,V,Pe);var Ce=Y.l+6;if(Ve=Y.c,He=Y.lc,ie+Ce>ce+1)throw"Something wrong with hufUnpackEncTable";for(;Ce--;)Ee[ie++]=0;ie--}else if($e>=59){var Ce=$e-59+2;if(ie+Ce>ce+1)throw"Something wrong with hufUnpackEncTable";for(;Ce--;)Ee[ie++]=0;ie--}}ee(Ee)}function ae(V){return V&63}function $(V){return V>>6}function re(V,U,X,se){for(;U<=X;U++){var ie=$(V[U]),ce=ae(V[U]);if(ie>>ce)throw"Invalid table entry";if(ce>14){var Ee=se[ie>>ce-14];if(Ee.len)throw"Invalid table entry";if(Ee.lit++,Ee.p){var Pe=Ee.p;Ee.p=new Array(Ee.lit);for(var Ve=0;Ve<Ee.lit-1;++Ve)Ee.p[Ve]=Pe[Ve]}else Ee.p=new Array(1);Ee.p[Ee.lit-1]=U}else if(ce)for(var He=0,Ve=1<<14-ce;Ve>0;Ve--){var Ee=se[(ie<<14-ce)+He];if(Ee.len||Ee.p)throw"Invalid table entry";Ee.len=ce,Ee.lit=U,He++}}return!0}const J={c:0,lc:0};function j(V,U,X,se){V=V<<8|St(X,se),U+=8,J.c=V,J.lc=U}const q={c:0,lc:0};function pe(V,U,X,se,ie,ce,Ee,Pe,Ve,He){if(V==U){se<8&&(j(X,se,ie,Ee),X=J.c,se=J.lc),se-=8;var $e=X>>se,$e=new Uint8Array([$e])[0];if(Ve.value+$e>He)return!1;for(var Ce=Pe[Ve.value-1];$e-- >0;)Pe[Ve.value++]=Ce}else if(Ve.value<He)Pe[Ve.value++]=V;else return!1;q.c=X,q.lc=se}function _e(V){return V&65535}function Re(V){var U=_e(V);return U>32767?U-65536:U}const Ie={a:0,b:0};function Ye(V,U){var X=Re(V),se=Re(U),ie=se,ce=X+(ie&1)+(ie>>1),Ee=ce,Pe=ce-ie;Ie.a=Ee,Ie.b=Pe}function Xe(V,U){var X=_e(V),se=_e(U),ie=X-(se>>1)&65535,ce=se+ie-32768&65535;Ie.a=ce,Ie.b=ie}function ke(V,U,X,se,ie,ce,Ee){for(var Pe=Ee<16384,Ve=X>ie?ie:X,He=1,$e;He<=Ve;)He<<=1;for(He>>=1,$e=He,He>>=1;He>=1;){for(var Ce=0,wt=Ce+ce*(ie-$e),ut=ce*He,pt=ce*$e,Dt=se*He,Ht=se*$e,jt,yt,Ut,It;Ce<=wt;Ce+=pt){for(var Vt=Ce,Dn=Ce+se*(X-$e);Vt<=Dn;Vt+=Ht){var Zt=Vt+Dt,kn=Vt+ut,Mn=kn+Dt;Pe?(Ye(V[Vt+U],V[kn+U]),jt=Ie.a,Ut=Ie.b,Ye(V[Zt+U],V[Mn+U]),yt=Ie.a,It=Ie.b,Ye(jt,yt),V[Vt+U]=Ie.a,V[Zt+U]=Ie.b,Ye(Ut,It),V[kn+U]=Ie.a,V[Mn+U]=Ie.b):(Xe(V[Vt+U],V[kn+U]),jt=Ie.a,Ut=Ie.b,Xe(V[Zt+U],V[Mn+U]),yt=Ie.a,It=Ie.b,Xe(jt,yt),V[Vt+U]=Ie.a,V[Zt+U]=Ie.b,Xe(Ut,It),V[kn+U]=Ie.a,V[Mn+U]=Ie.b)}if(X&He){var kn=Vt+ut;Pe?Ye(V[Vt+U],V[kn+U]):Xe(V[Vt+U],V[kn+U]),jt=Ie.a,V[kn+U]=Ie.b,V[Vt+U]=jt}}if(ie&He)for(var Vt=Ce,Dn=Ce+se*(X-$e);Vt<=Dn;Vt+=Ht){var Zt=Vt+Dt;Pe?Ye(V[Vt+U],V[Zt+U]):Xe(V[Vt+U],V[Zt+U]),jt=Ie.a,V[Zt+U]=Ie.b,V[Vt+U]=jt}$e=He,He>>=1}return Ce}function Ze(V,U,X,se,ie,ce,Ee,Pe,Ve,He){for(var $e=0,Ce=0,wt=Pe,ut=Math.trunc(ie.value+(ce+7)/8);ie.value<ut;)for(j($e,Ce,X,ie),$e=J.c,Ce=J.lc;Ce>=14;){var pt=$e>>Ce-14&16383,Dt=U[pt];if(Dt.len)Ce-=Dt.len,pe(Dt.lit,Ee,$e,Ce,X,se,ie,Ve,He,wt),$e=q.c,Ce=q.lc;else{if(!Dt.p)throw"hufDecode issues";var Ht;for(Ht=0;Ht<Dt.lit;Ht++){for(var jt=ae(V[Dt.p[Ht]]);Ce<jt&&ie.value<ut;)j($e,Ce,X,ie),$e=J.c,Ce=J.lc;if(Ce>=jt&&$(V[Dt.p[Ht]])==($e>>Ce-jt&(1<<jt)-1)){Ce-=jt,pe(Dt.p[Ht],Ee,$e,Ce,X,se,ie,Ve,He,wt),$e=q.c,Ce=q.lc;break}}if(Ht==Dt.lit)throw"hufDecode issues"}}var yt=8-ce&7;for($e>>=yt,Ce-=yt;Ce>0;){var Dt=U[$e<<14-Ce&16383];if(Dt.len)Ce-=Dt.len,pe(Dt.lit,Ee,$e,Ce,X,se,ie,Ve,He,wt),$e=q.c,Ce=q.lc;else throw"hufDecode issues"}return!0}function Fe(V,U,X,se,ie,ce){var Ee={value:0},Pe=X.value,Ve=_t(U,X),He=_t(U,X);X.value+=4;var $e=_t(U,X);if(X.value+=4,Ve<0||Ve>=65537||He<0||He>=65537)throw"Something wrong with HUF_ENCSIZE";var Ce=new Array(65537),wt=new Array(16384);z(wt);var ut=se-(X.value-Pe);if(oe(V,U,X,ut,Ve,He,Ce),$e>8*(se-(X.value-Pe)))throw"Something wrong with hufUncompress";re(Ce,Ve,He,wt),Ze(Ce,wt,V,U,X,$e,He,ce,ie,Ee)}function Z(V,U,X){for(var se=0;se<X;++se)U[se]=V[U[se]]}function Ne(V){for(var U=1;U<V.length;U++){var X=V[U-1]+V[U]-128;V[U]=X}}function be(V,U){for(var X=0,se=Math.floor((V.length+1)/2),ie=0,ce=V.length-1;!(ie>ce||(U[ie++]=V[X++],ie>ce));)U[ie++]=V[se++]}function qe(V){for(var U=V.byteLength,X=new Array,se=0,ie=new DataView(V);U>0;){var ce=ie.getInt8(se++);if(ce<0){var Ee=-ce;U-=Ee+1;for(var Pe=0;Pe<Ee;Pe++)X.push(ie.getUint8(se++))}else{var Ee=ce;U-=2;for(var Ve=ie.getUint8(se++),Pe=0;Pe<Ee+1;Pe++)X.push(Ve)}}return X}function Be(V,U,X,se,ie,ce){var Zt=new DataView(ce.buffer),Ee=X[V.idx[0]].width,Pe=X[V.idx[0]].height,Ve=3,He=Math.floor(Ee/8),$e=Math.ceil(Ee/8),Ce=Math.ceil(Pe/8),wt=Ee-($e-1)*8,ut=Pe-(Ce-1)*8,pt={value:0},Dt=new Array(Ve),Ht=new Array(Ve),jt=new Array(Ve),yt=new Array(Ve),Ut=new Array(Ve);for(let Kt=0;Kt<Ve;++Kt)Ut[Kt]=U[V.idx[Kt]],Dt[Kt]=Kt<1?0:Dt[Kt-1]+$e*Ce,Ht[Kt]=new Float32Array(64),jt[Kt]=new Uint16Array(64),yt[Kt]=new Uint16Array($e*64);for(let Kt=0;Kt<Ce;++Kt){var It=8;Kt==Ce-1&&(It=ut);var Vt=8;for(let In=0;In<$e;++In){In==$e-1&&(Vt=wt);for(let xn=0;xn<Ve;++xn)jt[xn].fill(0),jt[xn][0]=ie[Dt[xn]++],ot(pt,se,jt[xn]),lt(jt[xn],Ht[xn]),dt(Ht[xn]);Tt(Ht);for(let xn=0;xn<Ve;++xn)Bt(Ht[xn],yt[xn],In*64)}let dr=0;for(let In=0;In<Ve;++In){const xn=X[V.idx[In]].type;for(let tr=8*Kt;tr<8*Kt+It;++tr){dr=Ut[In][tr];for(let $a=0;$a<He;++$a){const Fr=$a*64+(tr&7)*8;Zt.setUint16(dr+0*2*xn,yt[In][Fr+0],!0),Zt.setUint16(dr+1*2*xn,yt[In][Fr+1],!0),Zt.setUint16(dr+2*2*xn,yt[In][Fr+2],!0),Zt.setUint16(dr+3*2*xn,yt[In][Fr+3],!0),Zt.setUint16(dr+4*2*xn,yt[In][Fr+4],!0),Zt.setUint16(dr+5*2*xn,yt[In][Fr+5],!0),Zt.setUint16(dr+6*2*xn,yt[In][Fr+6],!0),Zt.setUint16(dr+7*2*xn,yt[In][Fr+7],!0),dr+=8*2*xn}}if(He!=$e)for(let tr=8*Kt;tr<8*Kt+It;++tr){const $a=Ut[In][tr]+8*He*2*xn,Fr=He*64+(tr&7)*8;for(let xo=0;xo<Vt;++xo)Zt.setUint16($a+xo*2*xn,yt[In][Fr+xo],!0)}}}for(var Dn=new Uint16Array(Ee),Zt=new DataView(ce.buffer),kn=0;kn<Ve;++kn){X[V.idx[kn]].decoded=!0;var Mn=X[V.idx[kn]].type;if(X[kn].type==2)for(var On=0;On<Pe;++On){const Kt=Ut[kn][On];for(var er=0;er<Ee;++er)Dn[er]=Zt.getUint16(Kt+er*2*Mn,!0);for(var er=0;er<Ee;++er)Zt.setFloat32(Kt+er*2*Mn,we(Dn[er]),!0)}}}function ot(V,U,X){for(var se,ie=1;ie<64;)se=U[V.value],se==65280?ie=64:se>>8==255?ie+=se&255:(X[ie]=se,ie++),V.value++}function lt(V,U){U[0]=we(V[0]),U[1]=we(V[1]),U[2]=we(V[5]),U[3]=we(V[6]),U[4]=we(V[14]),U[5]=we(V[15]),U[6]=we(V[27]),U[7]=we(V[28]),U[8]=we(V[2]),U[9]=we(V[4]),U[10]=we(V[7]),U[11]=we(V[13]),U[12]=we(V[16]),U[13]=we(V[26]),U[14]=we(V[29]),U[15]=we(V[42]),U[16]=we(V[3]),U[17]=we(V[8]),U[18]=we(V[12]),U[19]=we(V[17]),U[20]=we(V[25]),U[21]=we(V[30]),U[22]=we(V[41]),U[23]=we(V[43]),U[24]=we(V[9]),U[25]=we(V[11]),U[26]=we(V[18]),U[27]=we(V[24]),U[28]=we(V[31]),U[29]=we(V[40]),U[30]=we(V[44]),U[31]=we(V[53]),U[32]=we(V[10]),U[33]=we(V[19]),U[34]=we(V[23]),U[35]=we(V[32]),U[36]=we(V[39]),U[37]=we(V[45]),U[38]=we(V[52]),U[39]=we(V[54]),U[40]=we(V[20]),U[41]=we(V[22]),U[42]=we(V[33]),U[43]=we(V[38]),U[44]=we(V[46]),U[45]=we(V[51]),U[46]=we(V[55]),U[47]=we(V[60]),U[48]=we(V[21]),U[49]=we(V[34]),U[50]=we(V[37]),U[51]=we(V[47]),U[52]=we(V[50]),U[53]=we(V[56]),U[54]=we(V[59]),U[55]=we(V[61]),U[56]=we(V[35]),U[57]=we(V[36]),U[58]=we(V[48]),U[59]=we(V[49]),U[60]=we(V[57]),U[61]=we(V[58]),U[62]=we(V[62]),U[63]=we(V[63])}function dt(V){const U=.5*Math.cos(.7853975),X=.5*Math.cos(3.14159/16),se=.5*Math.cos(3.14159/8),ie=.5*Math.cos(3*3.14159/16),ce=.5*Math.cos(5*3.14159/16),Ee=.5*Math.cos(3*3.14159/8),Pe=.5*Math.cos(7*3.14159/16);for(var Ve=new Array(4),He=new Array(4),$e=new Array(4),Ce=new Array(4),wt=0;wt<8;++wt){var ut=wt*8;Ve[0]=se*V[ut+2],Ve[1]=Ee*V[ut+2],Ve[2]=se*V[ut+6],Ve[3]=Ee*V[ut+6],He[0]=X*V[ut+1]+ie*V[ut+3]+ce*V[ut+5]+Pe*V[ut+7],He[1]=ie*V[ut+1]-Pe*V[ut+3]-X*V[ut+5]-ce*V[ut+7],He[2]=ce*V[ut+1]-X*V[ut+3]+Pe*V[ut+5]+ie*V[ut+7],He[3]=Pe*V[ut+1]-ce*V[ut+3]+ie*V[ut+5]-X*V[ut+7],$e[0]=U*(V[ut+0]+V[ut+4]),$e[3]=U*(V[ut+0]-V[ut+4]),$e[1]=Ve[0]+Ve[3],$e[2]=Ve[1]-Ve[2],Ce[0]=$e[0]+$e[1],Ce[1]=$e[3]+$e[2],Ce[2]=$e[3]-$e[2],Ce[3]=$e[0]-$e[1],V[ut+0]=Ce[0]+He[0],V[ut+1]=Ce[1]+He[1],V[ut+2]=Ce[2]+He[2],V[ut+3]=Ce[3]+He[3],V[ut+4]=Ce[3]-He[3],V[ut+5]=Ce[2]-He[2],V[ut+6]=Ce[1]-He[1],V[ut+7]=Ce[0]-He[0]}for(var pt=0;pt<8;++pt)Ve[0]=se*V[16+pt],Ve[1]=Ee*V[16+pt],Ve[2]=se*V[48+pt],Ve[3]=Ee*V[48+pt],He[0]=X*V[8+pt]+ie*V[24+pt]+ce*V[40+pt]+Pe*V[56+pt],He[1]=ie*V[8+pt]-Pe*V[24+pt]-X*V[40+pt]-ce*V[56+pt],He[2]=ce*V[8+pt]-X*V[24+pt]+Pe*V[40+pt]+ie*V[56+pt],He[3]=Pe*V[8+pt]-ce*V[24+pt]+ie*V[40+pt]-X*V[56+pt],$e[0]=U*(V[pt]+V[32+pt]),$e[3]=U*(V[pt]-V[32+pt]),$e[1]=Ve[0]+Ve[3],$e[2]=Ve[1]-Ve[2],Ce[0]=$e[0]+$e[1],Ce[1]=$e[3]+$e[2],Ce[2]=$e[3]-$e[2],Ce[3]=$e[0]-$e[1],V[0+pt]=Ce[0]+He[0],V[8+pt]=Ce[1]+He[1],V[16+pt]=Ce[2]+He[2],V[24+pt]=Ce[3]+He[3],V[32+pt]=Ce[3]-He[3],V[40+pt]=Ce[2]-He[2],V[48+pt]=Ce[1]-He[1],V[56+pt]=Ce[0]-He[0]}function Tt(V){for(var U=0;U<64;++U){var X=V[0][U],se=V[1][U],ie=V[2][U];V[0][U]=X+1.5747*ie,V[1][U]=X-.1873*se-.4682*ie,V[2][U]=X+1.8556*se}}function Bt(V,U,X){for(var se=0;se<64;++se)U[X+se]=eh.toHalfFloat(ln(V[se]))}function ln(V){return V<=1?Math.sign(V)*Math.pow(Math.abs(V),2.2):Math.sign(V)*Math.pow(I,Math.abs(V)-1)}function le(V){return new DataView(V.array.buffer,V.offset.value,V.size)}function Q(V){var U=V.viewer.buffer.slice(V.offset.value,V.offset.value+V.size),X=new Uint8Array(qe(U)),se=new Uint8Array(X.length);return Ne(X),be(X,se),new DataView(se.buffer)}function Le(V){var U=V.array.slice(V.offset.value,V.offset.value+V.size),X=$x(U),se=new Uint8Array(X.length);return Ne(X),be(X,se),new DataView(se.buffer)}function tt(V){for(var U=V.viewer,X={value:V.offset.value},se=new Uint16Array(V.width*V.scanlineBlockSize*(V.channels*V.type)),ie=new Uint8Array(8192),ce=0,Ee=new Array(V.channels),Pe=0;Pe<V.channels;Pe++)Ee[Pe]={},Ee[Pe].start=ce,Ee[Pe].end=Ee[Pe].start,Ee[Pe].nx=V.width,Ee[Pe].ny=V.lines,Ee[Pe].size=V.type,ce+=Ee[Pe].nx*Ee[Pe].ny*Ee[Pe].size;var Ve=Me(U,X),He=Me(U,X);if(He>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ve<=He)for(var Pe=0;Pe<He-Ve+1;Pe++)ie[Pe+Ve]=he(U,X);var $e=new Uint16Array(65536),Ce=F(ie,$e),wt=_t(U,X);Fe(V.array,U,X,wt,se,ce);for(var Pe=0;Pe<V.channels;++Pe)for(var ut=Ee[Pe],pt=0;pt<Ee[Pe].size;++pt)ke(se,ut.start+pt,ut.nx,ut.size,ut.ny,ut.nx*ut.size,Ce);Z($e,se,ce);for(var Dt=0,Ht=new Uint8Array(se.buffer.byteLength),jt=0;jt<V.lines;jt++)for(var yt=0;yt<V.channels;yt++){var ut=Ee[yt],Ut=ut.nx*ut.size,It=new Uint8Array(se.buffer,ut.end*2,Ut*2);Ht.set(It,Dt),Dt+=Ut*2,ut.end+=Ut}return new DataView(Ht.buffer)}function Ke(V){var U=V.array.slice(V.offset.value,V.offset.value+V.size),X=$x(U);const se=V.lines*V.channels*V.width,ie=V.type==1?new Uint16Array(se):new Uint32Array(se);let ce=0,Ee=0;const Pe=new Array(4);for(let Ve=0;Ve<V.lines;Ve++)for(let He=0;He<V.channels;He++){let $e=0;switch(V.type){case 1:Pe[0]=ce,Pe[1]=Pe[0]+V.width,ce=Pe[1]+V.width;for(let Ce=0;Ce<V.width;++Ce){const wt=X[Pe[0]++]<<8|X[Pe[1]++];$e+=wt,ie[Ee]=$e,Ee++}break;case 2:Pe[0]=ce,Pe[1]=Pe[0]+V.width,Pe[2]=Pe[1]+V.width,ce=Pe[2]+V.width;for(let Ce=0;Ce<V.width;++Ce){const wt=X[Pe[0]++]<<24|X[Pe[1]++]<<16|X[Pe[2]++]<<8;$e+=wt,ie[Ee]=$e,Ee++}break}}return new DataView(ie.buffer)}function st(V){var U=V.viewer,X={value:V.offset.value},se=new Uint8Array(V.width*V.lines*(V.channels*V.type*2)),ie={version:Ue(U,X),unknownUncompressedSize:Ue(U,X),unknownCompressedSize:Ue(U,X),acCompressedSize:Ue(U,X),dcCompressedSize:Ue(U,X),rleCompressedSize:Ue(U,X),rleUncompressedSize:Ue(U,X),rleRawSize:Ue(U,X),totalAcUncompressedCount:Ue(U,X),totalDcUncompressedCount:Ue(U,X),acCompression:Ue(U,X)};if(ie.version<2)throw"EXRLoader.parse: "+Ur.compression+" version "+ie.version+" is unsupported";for(var ce=new Array,Ee=Me(U,X)-2;Ee>0;){var Pe=Et(U.buffer,X),Ve=he(U,X),He=Ve>>2&3,$e=(Ve>>4)-1,Ce=new Int8Array([$e])[0],wt=he(U,X);ce.push({name:Pe,index:Ce,type:wt,compression:He}),Ee-=Pe.length+3}for(var ut=Ur.channels,pt=new Array(V.channels),Dt=0;Dt<V.channels;++Dt){var Ht=pt[Dt]={},jt=ut[Dt];Ht.name=jt.name,Ht.compression=0,Ht.decoded=!1,Ht.type=jt.pixelType,Ht.pLinear=jt.pLinear,Ht.width=V.width,Ht.height=V.lines}for(var yt={idx:new Array(3)},Ut=0;Ut<V.channels;++Ut)for(var Ht=pt[Ut],Dt=0;Dt<ce.length;++Dt){var It=ce[Dt];Ht.name==It.name&&(Ht.compression=It.compression,It.index>=0&&(yt.idx[It.index]=Ut),Ht.offset=Ut)}if(ie.acCompressedSize>0)switch(ie.acCompression){case 0:var Zt=new Uint16Array(ie.totalAcUncompressedCount);Fe(V.array,U,X,ie.acCompressedSize,Zt,ie.totalAcUncompressedCount);break;case 1:var Vt=V.array.slice(X.value,X.value+ie.totalAcUncompressedCount),Dn=$x(Vt),Zt=new Uint16Array(Dn.buffer);X.value+=ie.totalAcUncompressedCount;break}if(ie.dcCompressedSize>0){var kn={array:V.array,offset:X,size:ie.dcCompressedSize},Mn=new Uint16Array(Le(kn).buffer);X.value+=ie.dcCompressedSize}if(ie.rleRawSize>0){var Vt=V.array.slice(X.value,X.value+ie.rleCompressedSize),Dn=$x(Vt),On=qe(Dn.buffer);X.value+=ie.rleCompressedSize}for(var er=0,Kt=new Array(pt.length),Dt=0;Dt<Kt.length;++Dt)Kt[Dt]=new Array;for(var dr=0;dr<V.lines;++dr)for(var In=0;In<pt.length;++In)Kt[In].push(er),er+=pt[In].width*V.type*2;Be(yt,Kt,pt,Zt,Mn,se);for(var Dt=0;Dt<pt.length;++Dt){var Ht=pt[Dt];if(!Ht.decoded)switch(Ht.compression){case 2:for(var xn=0,tr=0,dr=0;dr<V.lines;++dr){for(var $a=Kt[Dt][xn],Fr=0;Fr<Ht.width;++Fr){for(var xo=0;xo<2*Ht.type;++xo)se[$a++]=On[tr+xo*Ht.width*Ht.height];tr++}xn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(se.buffer)}function Et(V,U){for(var X=new Uint8Array(V),se=0;X[U.value+se]!=0;)se+=1;var ie=new TextDecoder().decode(X.slice(U.value,U.value+se));return U.value=U.value+se+1,ie}function ft(V,U,X){var se=new TextDecoder().decode(new Uint8Array(V).slice(U.value,U.value+X));return U.value=U.value+X,se}function ze(V,U){var X=Ot(V,U),se=_t(V,U);return[X,se]}function zt(V,U){var X=_t(V,U),se=_t(V,U);return[X,se]}function Ot(V,U){var X=V.getInt32(U.value,!0);return U.value=U.value+4,X}function _t(V,U){var X=V.getUint32(U.value,!0);return U.value=U.value+4,X}function St(V,U){var X=V[U.value];return U.value=U.value+1,X}function he(V,U){var X=V.getUint8(U.value);return U.value=U.value+1,X}const Ue=function(V,U){let X;return"getBigInt64"in DataView.prototype?X=Number(V.getBigInt64(U.value,!0)):X=V.getUint32(U.value+4,!0)+Number(V.getUint32(U.value,!0)<<32),U.value+=8,X};function nt(V,U){var X=V.getFloat32(U.value,!0);return U.value+=4,X}function de(V,U){return eh.toHalfFloat(nt(V,U))}function we(V){var U=(V&31744)>>10,X=V&1023;return(V>>15?-1:1)*(U?U===31?X?NaN:1/0:Math.pow(2,U-15)*(1+X/1024):6103515625e-14*(X/1024))}function Me(V,U){var X=V.getUint16(U.value,!0);return U.value+=2,X}function Qe(V,U){return we(Me(V,U))}function gt(V,U,X,se){for(var ie=X.value,ce=[];X.value<ie+se-1;){var Ee=Et(U,X),Pe=Ot(V,X),Ve=he(V,X);X.value+=3;var He=Ot(V,X),$e=Ot(V,X);ce.push({name:Ee,pixelType:Pe,pLinear:Ve,xSampling:He,ySampling:$e})}return X.value+=1,ce}function un(V,U){var X=nt(V,U),se=nt(V,U),ie=nt(V,U),ce=nt(V,U),Ee=nt(V,U),Pe=nt(V,U),Ve=nt(V,U),He=nt(V,U);return{redX:X,redY:se,greenX:ie,greenY:ce,blueX:Ee,blueY:Pe,whiteX:Ve,whiteY:He}}function dn(V,U){var X=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],se=he(V,U);return X[se]}function An(V,U){var X=_t(V,U),se=_t(V,U),ie=_t(V,U),ce=_t(V,U);return{xMin:X,yMin:se,xMax:ie,yMax:ce}}function yr(V,U){var X=["INCREASING_Y"],se=he(V,U);return X[se]}function bn(V,U){var X=nt(V,U),se=nt(V,U);return[X,se]}function xr(V,U){var X=nt(V,U),se=nt(V,U),ie=nt(V,U);return[X,se,ie]}function jn(V,U,X,se,ie){if(se==="string"||se==="stringvector"||se==="iccProfile")return ft(U,X,ie);if(se==="chlist")return gt(V,U,X,ie);if(se==="chromaticities")return un(V,X);if(se==="compression")return dn(V,X);if(se==="box2i")return An(V,X);if(se==="lineOrder")return yr(V,X);if(se==="float")return nt(V,X);if(se==="v2f")return bn(V,X);if(se==="v3f")return xr(V,X);if(se==="int")return Ot(V,X);if(se==="rational")return ze(V,X);if(se==="timecode")return zt(V,X);if(se==="preview")return X.value+=ie,"skipped";X.value+=ie}function Us(V,U,X){const se={};if(V.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";se.version=V.getUint8(4);const ie=V.getUint8(5);se.spec={singleTile:!!(ie&2),longName:!!(ie&4),deepFormat:!!(ie&8),multiPart:!!(ie&16)},X.value=8;for(var ce=!0;ce;){var Ee=Et(U,X);if(Ee==0)ce=!1;else{var Pe=Et(U,X),Ve=_t(V,X),He=jn(V,U,X,Pe,Ve);He===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Pe}'.`):se[Ee]=He}}if((ie&-5)!=0)throw console.error("EXRHeader:",se),"THREE.EXRLoader: provided file is currently unsupported.";return se}function yo(V,U,X,se,ie){const ce={size:0,viewer:U,array:X,offset:se,width:V.dataWindow.xMax-V.dataWindow.xMin+1,height:V.dataWindow.yMax-V.dataWindow.yMin+1,channels:V.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:V.channels[0].pixelType,uncompress:null,getter:null,format:null,[zg?"colorSpace":"encoding"]:null};switch(V.compression){case"NO_COMPRESSION":ce.lines=1,ce.uncompress=le;break;case"RLE_COMPRESSION":ce.lines=1,ce.uncompress=Q;break;case"ZIPS_COMPRESSION":ce.lines=1,ce.uncompress=Le;break;case"ZIP_COMPRESSION":ce.lines=16,ce.uncompress=Le;break;case"PIZ_COMPRESSION":ce.lines=32,ce.uncompress=tt;break;case"PXR24_COMPRESSION":ce.lines=16,ce.uncompress=Ke;break;case"DWAA_COMPRESSION":ce.lines=32,ce.uncompress=st;break;case"DWAB_COMPRESSION":ce.lines=256,ce.uncompress=st;break;default:throw"EXRLoader.parse: "+V.compression+" is unsupported"}if(ce.scanlineBlockSize=ce.lines,ce.type==1)switch(ie){case hi:ce.getter=Qe,ce.inputSize=2;break;case Ai:ce.getter=Me,ce.inputSize=2;break}else if(ce.type==2)switch(ie){case hi:ce.getter=nt,ce.inputSize=4;break;case Ai:ce.getter=de,ce.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+ce.type+" for "+V.compression+".";ce.blockCount=(V.dataWindow.yMax+1)/ce.scanlineBlockSize;for(var Ee=0;Ee<ce.blockCount;Ee++)Ue(U,se);ce.outputChannels=ce.channels==3?4:ce.channels;const Pe=ce.width*ce.height*ce.outputChannels;switch(ie){case hi:ce.byteArray=new Float32Array(Pe),ce.channels<ce.outputChannels&&ce.byteArray.fill(1,0,Pe);break;case Ai:ce.byteArray=new Uint16Array(Pe),ce.channels<ce.outputChannels&&ce.byteArray.fill(15360,0,Pe);break;default:console.error("THREE.EXRLoader: unsupported type: ",ie);break}return ce.bytesPerLine=ce.width*ce.inputSize*ce.channels,ce.outputChannels==4?ce.format=fi:ce.format=DR,zg?ce.colorSpace="srgb-linear":ce.encoding=3e3,ce}const Go=new DataView(e),ji=new Uint8Array(e),ra={value:0},Ur=Us(Go,e,ra),an=yo(Ur,Go,ji,ra,this.type),Eu={value:0},zc={R:0,G:1,B:2,A:3,Y:0};for(let V=0;V<an.height/an.scanlineBlockSize;V++){const U=_t(Go,ra);an.size=_t(Go,ra),an.lines=U+an.scanlineBlockSize>an.height?an.height-U:an.scanlineBlockSize;const se=an.size<an.lines*an.bytesPerLine?an.uncompress(an):le(an);ra.value+=an.size;for(let ie=0;ie<an.scanlineBlockSize;ie++){const ce=ie+V*an.scanlineBlockSize;if(ce>=an.height)break;for(let Ee=0;Ee<an.channels;Ee++){const Pe=zc[Ur.channels[Ee].name];for(let Ve=0;Ve<an.width;Ve++){Eu.value=(ie*(an.channels*an.width)+Ee*an.width+Ve)*an.inputSize;const He=(an.height-1-ce)*(an.width*an.outputChannels)+Ve*an.outputChannels+Pe;an.byteArray[He]=an.getter(se,Eu)}}}}return{header:Ur,width:an.width,height:an.height,data:an.byteArray,format:an.format,[zg?"colorSpace":"encoding"]:an[zg?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(o,s){zg?o.colorSpace=s.colorSpace:o.encoding=s.encoding,o.minFilter=zn,o.magFilter=zn,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,s)}return super.load(e,a,r,i)}}const nk=new go,Xx=new ne;class PO extends mO{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new Lt(e,3)),this.setAttribute("uv",new Lt(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new j_(n,6,1);return this.setAttribute("instanceStart",new uo(r,3,0)),this.setAttribute("instanceEnd",new uo(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,n=3){let r;e instanceof Float32Array?r=e:Array.isArray(e)&&(r=new Float32Array(e));const i=new j_(r,n*2,1);return this.setAttribute("instanceColorStart",new uo(i,n,0)),this.setAttribute("instanceColorEnd",new uo(i,n,n)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new sO(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new go);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),nk.setFromBufferAttribute(n),this.boundingBox.union(nk))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)Xx.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Xx)),Xx.fromBufferAttribute(n,a),i=Math.max(i,r.distanceToSquared(Xx));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class AW extends PO{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e,n=3){const r=e.length-n,i=new Float32Array(2*r);if(n===3)for(let a=0;a<r;a+=n)i[2*a]=e[a],i[2*a+1]=e[a+1],i[2*a+2]=e[a+2],i[2*a+3]=e[a+3],i[2*a+4]=e[a+4],i[2*a+5]=e[a+5];else for(let a=0;a<r;a+=n)i[2*a]=e[a],i[2*a+1]=e[a+1],i[2*a+2]=e[a+2],i[2*a+3]=e[a+3],i[2*a+4]=e[a+4],i[2*a+5]=e[a+5],i[2*a+6]=e[a+6],i[2*a+7]=e[a+7];return super.setColors(i,n),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class CO extends Wa{constructor(e){super({type:"LineMaterial",uniforms:z_.clone(z_.merge([mt.common,mt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Ge(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${Mw>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const rM=new Pn,rk=new ne,ik=new ne,Ui=new Pn,Fi=new Pn,Zs=new Pn,iM=new ne,aM=new sn,zi=new Y8,ak=new ne,Yx=new go,Kx=new vo,Js=new Pn;let Qs,ph;function ok(t,e,n){return Js.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Js.multiplyScalar(1/Js.w),Js.x=ph/n.width,Js.y=ph/n.height,Js.applyMatrix4(t.projectionMatrixInverse),Js.multiplyScalar(1/Js.w),Math.abs(Math.max(Js.x,Js.y))}function Poe(t,e){const n=t.matrixWorld,r=t.geometry,i=r.attributes.instanceStart,a=r.attributes.instanceEnd,o=Math.min(r.instanceCount,i.count);for(let s=0,l=o;s<l;s++){zi.start.fromBufferAttribute(i,s),zi.end.fromBufferAttribute(a,s),zi.applyMatrix4(n);const u=new ne,f=new ne;Qs.distanceSqToSegment(zi.start,zi.end,f,u),f.distanceTo(u)<ph*.5&&e.push({point:f,pointOnLine:u,distance:Qs.origin.distanceTo(f),object:t,face:null,faceIndex:s,uv:null,[xW]:null})}}function Coe(t,e,n){const r=e.projectionMatrix,a=t.material.resolution,o=t.matrixWorld,s=t.geometry,l=s.attributes.instanceStart,u=s.attributes.instanceEnd,f=Math.min(s.instanceCount,l.count),h=-e.near;Qs.at(1,Zs),Zs.w=1,Zs.applyMatrix4(e.matrixWorldInverse),Zs.applyMatrix4(r),Zs.multiplyScalar(1/Zs.w),Zs.x*=a.x/2,Zs.y*=a.y/2,Zs.z=0,iM.copy(Zs),aM.multiplyMatrices(e.matrixWorldInverse,o);for(let p=0,v=f;p<v;p++){if(Ui.fromBufferAttribute(l,p),Fi.fromBufferAttribute(u,p),Ui.w=1,Fi.w=1,Ui.applyMatrix4(aM),Fi.applyMatrix4(aM),Ui.z>h&&Fi.z>h)continue;if(Ui.z>h){const b=Ui.z-Fi.z,T=(Ui.z-h)/b;Ui.lerp(Fi,T)}else if(Fi.z>h){const b=Fi.z-Ui.z,T=(Fi.z-h)/b;Fi.lerp(Ui,T)}Ui.applyMatrix4(r),Fi.applyMatrix4(r),Ui.multiplyScalar(1/Ui.w),Fi.multiplyScalar(1/Fi.w),Ui.x*=a.x/2,Ui.y*=a.y/2,Fi.x*=a.x/2,Fi.y*=a.y/2,zi.start.copy(Ui),zi.start.z=0,zi.end.copy(Fi),zi.end.z=0;const S=zi.closestPointToPointParameter(iM,!0);zi.at(S,ak);const x=qH.lerp(Ui.z,Fi.z,S),w=x>=-1&&x<=1,E=iM.distanceTo(ak)<ph*.5;if(w&&E){zi.start.fromBufferAttribute(l,p),zi.end.fromBufferAttribute(u,p),zi.start.applyMatrix4(o),zi.end.applyMatrix4(o);const b=new ne,T=new ne;Qs.distanceSqToSegment(zi.start,zi.end,T,b),n.push({point:T,pointOnLine:b,distance:Qs.origin.distanceTo(T),object:t,face:null,faceIndex:p,uv:null,[xW]:null})}}}class TW extends Gr{constructor(e=new PO,n=new CO({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let o=0,s=0,l=n.count;o<l;o++,s+=2)rk.fromBufferAttribute(n,o),ik.fromBufferAttribute(r,o),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+rk.distanceTo(ik);const a=new j_(i,2,1);return e.setAttribute("instanceDistanceStart",new uo(a,1,0)),e.setAttribute("instanceDistanceEnd",new uo(a,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const a=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Qs=e.ray;const o=this.matrixWorld,s=this.geometry,l=this.material;ph=l.linewidth+a,s.boundingSphere===null&&s.computeBoundingSphere(),Kx.copy(s.boundingSphere).applyMatrix4(o);let u;if(r)u=ph*.5;else{const h=Math.max(i.near,Kx.distanceToPoint(Qs.origin));u=ok(i,h,l.resolution)}if(Kx.radius+=u,Qs.intersectsSphere(Kx)===!1)return;s.boundingBox===null&&s.computeBoundingBox(),Yx.copy(s.boundingBox).applyMatrix4(o);let f;if(r)f=ph*.5;else{const h=Math.max(i.near,Yx.distanceToPoint(Qs.origin));f=ok(i,h,l.resolution)}Yx.expandByScalar(f),Qs.intersectsBox(Yx)!==!1&&(r?Poe(this,n):Coe(this,i,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(rM),this.material.uniforms.resolution.value.set(rM.z,rM.w))}}class Roe extends TW{constructor(e=new AW,n=new CO({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}const Ooe=te.forwardRef(function({points:e,color:n=16777215,vertexColors:r,linewidth:i,lineWidth:a,segments:o,dashed:s,...l},u){var f,h;const p=ga(w=>w.size),v=te.useMemo(()=>o?new TW:new Roe,[o]),[_]=te.useState(()=>new CO),S=(r==null||(f=r[0])==null?void 0:f.length)===4?4:3,x=te.useMemo(()=>{const w=o?new PO:new AW,E=e.map(b=>{const T=Array.isArray(b);return b instanceof ne||b instanceof Pn?[b.x,b.y,b.z]:b instanceof Ge?[b.x,b.y,0]:T&&b.length===3?[b[0],b[1],b[2]]:T&&b.length===2?[b[0],b[1],0]:b});if(w.setPositions(E.flat()),r){n=16777215;const b=r.map(T=>T instanceof Mt?T.toArray():T);w.setColors(b.flat(),S)}return w},[e,o,r,S]);return te.useLayoutEffect(()=>{v.computeLineDistances()},[e,v]),te.useLayoutEffect(()=>{s?_.defines.USE_DASH="":delete _.defines.USE_DASH,_.needsUpdate=!0},[s,_]),te.useEffect(()=>()=>{x.dispose(),_.dispose()},[x]),te.createElement("primitive",wh({object:v,ref:u},l),te.createElement("primitive",{object:x,attach:"geometry"}),te.createElement("primitive",wh({object:_,attach:"material",color:n,vertexColors:!!r,resolution:[p.width,p.height],linewidth:(h=i??a)!==null&&h!==void 0?h:1,dashed:s,transparent:S===4},l)))}),RO=te.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...u},f)=>{const h=ga(C=>C.invalidate),p=ga(C=>C.camera),v=ga(C=>C.gl),_=ga(C=>C.events),S=ga(C=>C.setEvents),x=ga(C=>C.set),w=ga(C=>C.get),E=ga(C=>C.performance),b=e||p,T=r||_.connected||v.domElement,P=te.useMemo(()=>new Eoe(b),[b]);return Dh(()=>{P.enabled&&P.update()},-1),te.useEffect(()=>(a&&P.connect(a===!0?T:a),P.connect(T),()=>void P.dispose()),[a,T,n,P,h]),te.useEffect(()=>{const C=I=>{h(),n&&E.regress(),o&&o(I)},L=I=>{s&&s(I)},D=I=>{l&&l(I)};return P.addEventListener("change",C),P.addEventListener("start",L),P.addEventListener("end",D),()=>{P.removeEventListener("start",L),P.removeEventListener("end",D),P.removeEventListener("change",C)}},[o,s,l,P,h,S]),te.useEffect(()=>{if(t){const C=w().controls;return x({controls:P}),()=>x({controls:C})}},[t,P]),te.createElement("primitive",wh({ref:f,object:P,enableDamping:i},u))});var oM={exports:{}},sM,sk;function Ioe(){if(sk)return sM;sk=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sM=t,sM}var lM,lk;function Loe(){if(lk)return lM;lk=1;var t=Ioe();function e(){}function n(){}return n.resetWarningCache=e,lM=function(){function r(o,s,l,u,f,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},lM}var uk;function Noe(){return uk||(uk=1,oM.exports=Loe()()),oM.exports}var Doe=Noe();const Wn=$n(Doe),koe=3e3,Uoe=3001,PW=(t,e,n)=>{let r;switch(t){case co:r=new Uint8ClampedArray(e*n*4);break;case Ai:r=new Uint16Array(e*n*4);break;case el:r=new Uint32Array(e*n*4);break;case OR:r=new Int8Array(e*n*4);break;case IR:r=new Int16Array(e*n*4);break;case Z1:r=new Int32Array(e*n*4);break;case hi:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let Zx;const Foe=(t,e,n,r)=>{if(Zx!==void 0)return Zx;const i=new mo(1,1,r);e.setRenderTarget(i);const a=new Gr(new Ih,new _u({color:16777215}));e.render(a,n),e.setRenderTarget(null);const o=PW(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),a.geometry.dispose(),a.material.dispose(),Zx=o[0]!==0,Zx};class OO{constructor(e){var n,r,i,a,o,s,l,u,f,h,p,v,_,S,x,w;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(b){throw this._renderer.setRenderTarget(null),b}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const E={format:fi,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter:zn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:zn,samples:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.samples:void 0,wrapS:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS:br,wrapT:((_=e.renderTargetOptions)===null||_===void 0?void 0:_.wrapT)!==void 0?(S=e.renderTargetOptions)===null||S===void 0?void 0:S.wrapT:br};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=OO.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new jy,this._camera=new Cs,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Foe(this._type,this._renderer,this._camera,E)){let b;switch(this._type){case Ai:b=this._renderer.extensions.has("EXT_color_buffer_float")?hi:void 0;break}b!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${hi}`),this._type=b):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Gr(new Ih,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new mo(this.width,this.height,E),this._renderTarget.texture.mapping=((x=e.renderTargetOptions)===null||x===void 0?void 0:x.mapping)!==void 0?(w=e.renderTargetOptions)===null||w===void 0?void 0:w.mapping:Tc}static instantiateRenderer(){const e=new nw;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=PW(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new hh(this.toArray(),this.width,this.height,fi,this._type,(e==null?void 0:e.mapping)||Tc,(e==null?void 0:e.wrapS)||br,(e==null?void 0:e.wrapT)||br,(e==null?void 0:e.magFilter)||zn,(e==null?void 0:e.minFilter)||zn,(e==null?void 0:e.anisotropy)||1,Ha);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Wa&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof ir&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof ir&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Boe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,zoe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class joe extends Wa{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:a,maxDisplayBoost:o,hdrCapacityMin:s,hdrCapacityMax:l,sdr:u,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:Boe,fragmentShader:zoe,uniforms:{sdr:{value:u},gainMap:{value:f},gamma:{value:new ne(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new ne().fromArray(n)},offsetSdr:{value:new ne().fromArray(r)},gainMapMin:{value:new ne().fromArray(i)},gainMapMax:{value:new ne().fromArray(a)},weightFactor:{value:(Math.log2(o)-s)/(l-s)}},blending:ol,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=s,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class CW extends Error{}class RW extends Error{}const jg=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const a=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},Voe=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const a=jg(i,"hdrgm:GainMapMin","0"),o=jg(i,"hdrgm:GainMapMax"),s=jg(i,"hdrgm:Gamma","1"),l=jg(i,"hdrgm:OffsetSDR","0.015625"),u=jg(i,"hdrgm:OffsetHDR","0.015625"),f=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),h=f?f[1]:"0",p=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!p)throw new Error("Incomplete gainmap metadata");const v=p[1];return{gainMapMin:Array.isArray(a)?a.map(_=>parseFloat(_)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(o)?o.map(_=>parseFloat(_)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(s)?s.map(_=>parseFloat(_)):[parseFloat(s),parseFloat(s),parseFloat(s)],offsetSdr:Array.isArray(l)?l.map(_=>parseFloat(_)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(_=>parseFloat(_)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(h),hdrCapacityMax:parseFloat(v)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class Hoe{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=a.byteLength;let s=2,l=0,u;for(;s<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops 😵`));return}if(a.getUint8(s)!==255){r(new Error(`Not a valid marker at offset 0x${s.toString(16)}, found: 0x${a.getUint8(s).toString(16)}`));return}if(u=a.getUint8(s+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const f=s+4;if(a.getUint32(f)===1297106432){const h=f+4;let p;if(a.getUint16(h)===18761)p=!1;else if(a.getUint16(h)===19789)p=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(h+2,!p)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const v=a.getUint32(h+4,!p);if(v<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const _=h+v,S=a.getUint16(_,!p),x=_+2;let w=0;for(let P=x;P<x+12*S;P+=12)a.getUint16(P,!p)===45057&&(w=a.getUint32(P+8,!p));const b=_+2+S*12+4,T=[];for(let P=b;P<b+w*16;P+=16){const C={MPType:a.getUint32(P,!p),size:a.getUint32(P+4,!p),dataOffset:a.getUint32(P+8,!p),dependantImages:a.getUint32(P+12,!p),start:-1,end:-1,isFII:!1};C.dataOffset?(C.start=h+C.dataOffset,C.isFII=!1):(C.start=0,C.isFII=!0),C.end=C.start+C.size,T.push(C)}if(this.options.extractNonFII&&T.length){const P=new Blob([a]),C=[];for(const L of T){if(L.isFII&&!this.options.extractFII)continue;const D=P.slice(L.start,L.end+1,"image/jpeg");C.push(D)}n(C)}}}s+=2+a.getUint16(s+2)}})}}const Woe=async t=>{const e=Voe(t);if(!e)throw new RW("Gain map XMP metadata not found");const r=await new Hoe({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new CW("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},ck=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class OW extends Ma{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new ww}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new joe({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new ir,sdr:new ir});return new OO({width:16,height:16,type:Ai,colorSpace:Ha,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,i){const a=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let s,l,u=!1;if(typeof createImageBitmap>"u"){const p=await Promise.all([a?ck(a):Promise.resolve(void 0),ck(o)]);l=p[0],s=p[1],u=!0}else{const p=await Promise.all([a?createImageBitmap(a,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=p[0],s=p[1]}const f=new ir(l||new ImageData(2,2),Tc,br,br,zn,NP,fi,co,1,Ha);f.flipY=u,f.needsUpdate=!0;const h=new ir(s,Tc,br,br,zn,NP,fi,co,1,fn);h.flipY=u,h.needsUpdate=!0,e.width=s.width,e.height=s.height,e.material.gainMap=f,e.material.sdr=h,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Goe extends OW{load([e,n,r],i,a,o){const s=this.prepareQuadRenderer();let l,u,f;const h=async()=>{if(l&&u&&f){try{await this.render(s,f,l,u)}catch(I){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof o=="function"&&o(I),s.disposeOnDemandRenderer();return}typeof i=="function"&&i(s),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),s.disposeOnDemandRenderer()}};let p=!0,v=0,_=0,S=!0,x=0,w=0,E=!0,b=0,T=0;const P=()=>{if(typeof a=="function"){const I=v+x+b,F=_+w+T,z=p&&S&&E;a(new ProgressEvent("progress",{lengthComputable:z,loaded:F,total:I}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const C=new ho(this._internalLoadingManager);C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(e,async I=>{if(typeof I=="string")throw new Error("Invalid sdr buffer");l=I,await h()},I=>{p=I.lengthComputable,_=I.loaded,v=I.total,P()},I=>{this.manager.itemError(e),typeof o=="function"&&o(I)});const L=new ho(this._internalLoadingManager);L.setResponseType("arraybuffer"),L.setRequestHeader(this.requestHeader),L.setPath(this.path),L.setWithCredentials(this.withCredentials),L.load(n,async I=>{if(typeof I=="string")throw new Error("Invalid gainmap buffer");u=I,await h()},I=>{S=I.lengthComputable,w=I.loaded,x=I.total,P()},I=>{this.manager.itemError(n),typeof o=="function"&&o(I)});const D=new ho(this._internalLoadingManager);return D.setRequestHeader(this.requestHeader),D.setPath(this.path),D.setWithCredentials(this.withCredentials),D.load(r,async I=>{if(typeof I!="string")throw new Error("Invalid metadata string");f=JSON.parse(I),await h()},I=>{E=I.lengthComputable,T=I.loaded,b=I.total,P()},I=>{this.manager.itemError(r),typeof o=="function"&&o(I)}),s}}class $oe extends OW{load(e,n,r,i){const a=this.prepareQuadRenderer(),o=new ho(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async s=>{if(typeof s=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(s);let u,f,h;try{const p=await Woe(l);u=p.sdr,f=p.gainMap,h=p.metadata}catch(p){if(p instanceof RW||p instanceof CW)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw p}try{await this.render(a,h,u,f)}catch(p){this.manager.itemError(e),typeof i=="function"&&i(p),a.disposeOnDemandRenderer();return}typeof n=="function"&&n(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},r,s=>{this.manager.itemError(e),typeof i=="function"&&i(s)}),a}}const Kv={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},IW="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Cp=t=>Array.isArray(t),IO=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Ew({files:t=IO,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let a=null,o=!1;n&&(LO(n),t=Kv[n],e=IW),o=Cp(t);const{extension:s,isCubemap:l}=NO(t);if(a=DO(s),!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=ga(v=>v.gl);te.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function v(){zp.clear(a,o?[t]:t)}u.domElement.addEventListener("webglcontextlost",v,{once:!0})},[t,u.domElement]);const f=zp(a,o?[t]:t,v=>{(s==="webp"||s==="jpg"||s==="jpeg")&&v.setRenderer(u),v.setPath==null||v.setPath(e),i&&i(v)});let h=o?f[0]:f;if(s==="jpg"||s==="jpeg"||s==="webp"){var p;h=(p=h.renderTarget)==null?void 0:p.texture}return h.mapping=l?du:kp,"colorSpace"in h?h.colorSpace=r??l?"srgb":"srgb-linear":h.encoding=r??l?Uoe:koe,h}const qoe={files:IO,path:"",preset:void 0,extensions:void 0};Ew.preload=t=>{const e={...qoe,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:a}=e;i&&(LO(i),n=Kv[i],r=IW);const{extension:o}=NO(n);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const s=DO(o);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);zp.preload(s,Cp(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),a&&a(l)})};const Xoe={files:IO,preset:void 0};Ew.clear=t=>{const e={...Xoe,...t};let{files:n}=e;const{preset:r}=e;r&&(LO(r),n=Kv[r]);const{extension:i}=NO(n),a=DO(i);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);zp.clear(a,Cp(n)?[n]:n)};function LO(t){if(!(t in Kv))throw new Error("Preset must be one of: "+Object.keys(Kv).join(", "))}function NO(t){var e;const n=Cp(t)&&t.length===6,r=Cp(t)&&t.length===3&&t.some(o=>o.endsWith("json")),i=Cp(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function DO(t){return t==="cube"?U8:t==="hdr"?Aoe:t==="exr"?Toe:t==="jpg"||t==="jpeg"?$oe:t==="webp"?Goe:null}const Yoe=t=>t.current&&t.current.isScene,Koe=t=>Yoe(t)?t.current:t;function kO(t,e,n,r,i={}){var a,o,s,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=Koe(e||n),f=u.background,h=u.environment,p={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(a=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(s=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&s!==void 0?s:[0,0,0]};return t!=="only"&&(u.environment=r),t&&(u.background=r),dc(u,i),()=>{t!=="only"&&(u.environment=h),t&&(u.background=f),dc(u,p)}}function UO({scene:t,background:e=!1,map:n,...r}){const i=ga(a=>a.scene);return te.useLayoutEffect(()=>{if(n)return kO(e,t,i,n,r)}),null}function LW({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:o,environmentRotation:s,...l}){const u=Ew(l),f=ga(h=>h.scene);return te.useLayoutEffect(()=>kO(t,e,f,u,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:o,environmentRotation:s})),te.useEffect(()=>()=>{u.dispose()},[u]),null}function Zoe({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:a,background:o=!1,blur:s,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:f,environmentIntensity:h,environmentRotation:p,scene:v,files:_,path:S,preset:x=void 0,extensions:w}){const E=ga(D=>D.gl),b=ga(D=>D.scene),T=te.useRef(null),[P]=te.useState(()=>new jy),C=te.useMemo(()=>{const D=new qR(r);return D.texture.type=Ai,D},[r]);te.useEffect(()=>()=>{C.dispose()},[C]),te.useLayoutEffect(()=>{if(i===1){const D=E.autoClear;E.autoClear=!0,T.current.update(E,P),E.autoClear=D}return kO(o,v,b,C.texture,{backgroundBlurriness:s??l,backgroundIntensity:u,backgroundRotation:f,environmentIntensity:h,environmentRotation:p})},[t,P,C.texture,v,b,o,i,E]);let L=1;return Dh(()=>{if(i===1/0||L<i){const D=E.autoClear;E.autoClear=!0,T.current.update(E,P),E.autoClear=D,L++}}),te.createElement(te.Fragment,null,Cae(te.createElement(te.Fragment,null,t,te.createElement("cubeCamera",{ref:T,args:[e,n,C]}),_||x?te.createElement(LW,{background:!0,files:_,preset:x,path:S,extensions:w}):a?te.createElement(UO,{background:!0,map:a,extensions:w}):null),P))}function Joe(t){var e,n,r,i;const a=Ew(t),o=t.map||a;te.useMemo(()=>tW({GroundProjectedEnvImpl:voe}),[]),te.useEffect(()=>()=>{a.dispose()},[a]);const s=te.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,f=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return te.createElement(te.Fragment,null,te.createElement(UO,wh({},t,{map:o})),te.createElement("groundProjectedEnvImpl",{args:s,scale:f,height:l,radius:u}))}function Qoe(t){return t.ground?te.createElement(Joe,t):t.map?te.createElement(UO,t):t.children?te.createElement(Zoe,t):te.createElement(LW,t)}const ese=()=>{const t=te.useRef(null),e=2e3,{positions:n,colors:r}=te.useMemo(()=>{const i=new Float32Array(e*3),a=new Float32Array(e*3);for(let o=0;o<e;o++){const s=o*3;i[s]=(Math.random()-.5)*5,i[s+1]=(Math.random()-.5)*5,i[s+2]=(Math.random()-.5)*5,a[s]=Math.random()*.3+.7,a[s+1]=Math.random()*.2,a[s+2]=Math.random()*.5+.5}return{positions:i,colors:a}},[e]);return Dh(i=>{if(!t.current)return;const a=i.clock.getElapsedTime()*.2,o=t.current.geometry.attributes.position.array;for(let s=0;s<e;s++){const l=s*3;o[l+1]+=Math.sin(a+o[l]*.5)*.01,o[l]+=Math.cos(a+o[l+1]*.5)*.01}t.current.geometry.attributes.position.needsUpdate=!0}),W.jsxs("points",{ref:t,children:[W.jsxs("bufferGeometry",{children:[W.jsx("bufferAttribute",{attach:"attributes-position",count:e,array:n,itemSize:3}),W.jsx("bufferAttribute",{attach:"attributes-color",count:e,array:r,itemSize:3})]}),W.jsx("pointsMaterial",{size:.05,vertexColors:!0,transparent:!0,opacity:.8,sizeAttenuation:!0})]})},tse=()=>W.jsxs("section",{id:"home",className:"relative h-screen flex items-center overflow-hidden",children:[W.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-deep-blue to-cyber-black z-0"}),W.jsx("div",{className:"absolute inset-0 z-10",children:W.jsxs(AO,{camera:{position:[0,0,5],fov:75},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},children:[W.jsx("ambientLight",{intensity:.5}),W.jsx("directionalLight",{position:[10,10,5],intensity:1}),W.jsx(ese,{}),W.jsx(RO,{enableZoom:!1,enablePan:!1,enableRotate:!0,autoRotate:!0,autoRotateSpeed:.5,enableDamping:!0,dampingFactor:.05})]})}),W.jsx("div",{className:"container mx-auto px-4 z-20 relative",children:W.jsxs("div",{className:"max-w-3xl",children:[W.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:W.jsx("h4",{className:"text-cyber-green font-mono mb-2",children:"Intelligenza Artificiale & Ricerca Avanzata"})}),W.jsx(Xt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:W.jsx("h1",{className:"gradient-text mb-6",children:"Esplorando i confini dell'intelligenza artificiale"})}),W.jsx(Xt.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:W.jsx("p",{className:"subtitle mb-8",children:"Ricercatore specializzato in deep learning, computer vision e sistemi di intelligenza artificiale avanzati. Sviluppo soluzioni innovative per affrontare le sfide più complesse del nostro tempo."})}),W.jsxs(Xt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-wrap gap-4",children:[W.jsx(Xt.button,{className:"btn btn-primary",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Esplora Progetti"}),W.jsx(Xt.button,{className:"btn btn-outline",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Contattami"})]})]})}),W.jsx(Xt.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2},children:W.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M12 5L12 19M12 19L19 12M12 19L5 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),nse=()=>{const t=te.useRef(null),{nodes:e,edges:n}=te.useMemo(()=>{const r=[],i=[],a=[4,8,8,4],o=2;let s=0;a.forEach((u,f)=>{const h=f*o-(a.length-1)*o/2;for(let p=0;p<u;p++){const v=p*1.2-(u-1)*.6;r.push({id:s++,position:[h,v,0]})}});let l=0;for(let u=0;u<a.length-1;u++){for(let f=0;f<a[u];f++){const h=l+f;for(let p=0;p<a[u+1];p++){const v=l+a[u]+p;i.push({source:h,target:v})}}l+=a[u]}return{nodes:r,edges:i}},[]);return Dh(r=>{t.current&&(t.current.rotation.y+=.002)}),W.jsxs("group",{ref:t,children:[e.map(r=>W.jsxs("mesh",{position:r.position,children:[W.jsx("sphereGeometry",{args:[.2,16,16]}),W.jsx("meshStandardMaterial",{color:"#9D4EDD",emissive:"#9D4EDD",emissiveIntensity:.4,metalness:.3,roughness:.4})]},r.id)),n.map((r,i)=>{const a=e[r.source].position,o=e[r.target].position;return W.jsx(Ooe,{points:[a,o],color:"#4CC9F0",lineWidth:2,transparent:!0,opacity:.6},i)})]})},rse=()=>W.jsxs("section",{id:"neural-network",className:"section relative py-24",children:[W.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-deep-blue/20 to-cyber-black opacity-50"}),W.jsxs("div",{className:"mb-16 text-center relative z-10",children:[W.jsx(Xt.h2,{className:"gradient-text mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:"Visualizzazione Rete Neurale"}),W.jsx(Xt.p,{className:"subtitle max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:"Esplora il modello 3D interattivo di una rete neurale"})]}),W.jsxs("div",{className:"glass rounded-lg overflow-hidden h-[500px] relative z-10",children:[W.jsxs(AO,{camera:{position:[0,0,10],fov:50},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},children:[W.jsx("ambientLight",{intensity:.5}),W.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:1,castShadow:!0}),W.jsx(nse,{}),W.jsx(RO,{enablePan:!1,enableDamping:!0,dampingFactor:.05,minDistance:5,maxDistance:15}),W.jsx(Qoe,{preset:"city"})]}),W.jsxs("div",{className:"absolute bottom-4 left-4 glass p-3 rounded-md text-sm",children:[W.jsx("p",{className:"text-cyber-green font-mono",children:"Interagisci con il modello:"}),W.jsxs("ul",{className:"text-gray-300 mt-2 space-y-1",children:[W.jsx("li",{children:"• Ruota: Trascina con il mouse"}),W.jsx("li",{children:"• Zoom: Scorri con la rotellina"})]})]})]})]}),ise=[{year:"2025",title:"Riconoscimento Internazionale",description:"Premio per la ricerca innovativa nel campo dell'intelligenza artificiale applicata alla medicina personalizzata."},{year:"2024",title:"Pubblicazione Rivoluzionaria",description:"Articolo pubblicato su Nature AI riguardante nuovi algoritmi di apprendimento profondo."},{year:"2023",title:"Collaborazione con Stanford",description:"Progetto di ricerca congiunto sui sistemi di visione artificiale avanzati."},{year:"2022",title:"Brevetto Tecnologico",description:"Deposito di un brevetto per un nuovo sistema di elaborazione del linguaggio naturale."},{year:"2021",title:"Dottorato in AI",description:"Conseguimento del dottorato in Intelligenza Artificiale con lode."},{year:"2020",title:"Prima Pubblicazione",description:"Prima pubblicazione scientifica su algoritmi di machine learning."}],ase=({item:t,index:e})=>W.jsxs(Xt.div,{className:"timeline-item",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},viewport:{once:!0,margin:"-100px"},children:[W.jsx("div",{className:"absolute -top-3 -left-3 w-10 h-10 rounded-full bg-electric-purple flex items-center justify-center shadow-neon-purple",children:W.jsx("span",{className:"text-white font-mono text-sm",children:t.year})}),W.jsx("h3",{className:"text-xl font-display text-white mb-2 mt-4",children:t.title}),W.jsx("p",{className:"text-gray-300 text-sm",children:t.description})]}),ose=()=>{const t=te.useRef(null),{scrollXProgress:e}=uZ({container:t}),n=hZ(e,[0,1],["0%","-100%"]);return W.jsxs("section",{id:"timeline",className:"section relative overflow-hidden py-24",children:[W.jsx(Xt.div,{className:"absolute inset-0 cyber-grid opacity-20",style:{backgroundPosition:n}}),W.jsxs("div",{className:"mb-16 text-center",children:[W.jsx(Xt.h2,{className:"gradient-text mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:"Percorso Professionale"}),W.jsx(Xt.p,{className:"subtitle max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:"Un viaggio attraverso le tappe più significative della mia carriera nella ricerca sull'intelligenza artificiale"})]}),W.jsxs("div",{className:"relative",children:[W.jsx("div",{className:"absolute top-32 left-0 right-0 h-1 bg-dark-surface-lighter",children:W.jsx(Xt.div,{className:"absolute top-0 left-0 h-full bg-electric-purple",style:{width:e,maxWidth:"100%"}})}),W.jsxs("div",{ref:t,className:"flex gap-8 overflow-x-auto pb-10 pt-10 px-4 snap-x snap-mandatory scrollbar-thin scrollbar-thumb-electric-purple scrollbar-track-dark-surface",style:{scrollbarWidth:"thin"},children:[W.jsx("div",{className:"flex-shrink-0 w-[10vw]"}),ise.map((r,i)=>W.jsx("div",{className:"snap-center",children:W.jsx(ase,{item:r,index:i})},i)),W.jsx("div",{className:"flex-shrink-0 w-[10vw]"})]})]}),W.jsxs("div",{className:"flex justify-between mt-8 px-4",children:[W.jsxs(Xt.div,{className:"text-electric-purple flex items-center gap-2",animate:{x:[0,-5,0]},transition:{repeat:1/0,duration:1.5},children:[W.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M19 12H5M5 12L12 19M5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),W.jsx("span",{className:"hidden sm:inline",children:"Scorri a sinistra"})]}),W.jsxs(Xt.div,{className:"text-electric-purple flex items-center gap-2",animate:{x:[0,5,0]},transition:{repeat:1/0,duration:1.5},children:[W.jsx("span",{className:"hidden sm:inline",children:"Scorri a destra"}),W.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})},op=[{id:1,title:"NeuralVision AI",description:"Sistema di visione artificiale avanzato per il riconoscimento di pattern complessi in immagini mediche, con applicazioni nella diagnosi precoce.",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158",tags:["Computer Vision","Deep Learning","Healthcare"],link:"#"},{id:2,title:"QuantumNLP",description:"Framework innovativo per l'elaborazione del linguaggio naturale che utilizza principi di calcolo quantistico per migliorare la comprensione semantica.",image:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485",tags:["NLP","Quantum Computing","Semantics"],link:"#"},{id:3,title:"AutoML Platform",description:"Piattaforma di machine learning automatizzato che ottimizza la selezione di modelli e iperparametri per problemi di apprendimento supervisionato.",image:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb",tags:["AutoML","Optimization","Cloud Computing"],link:"#"},{id:4,title:"Reinforcement Learning in Robotics",description:"Applicazione di tecniche di apprendimento per rinforzo per il controllo autonomo di sistemi robotici in ambienti non strutturati.",image:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e",tags:["Reinforcement Learning","Robotics","Automation"],link:"#"}],fk=({project:t,index:e})=>W.jsxs(Xt.div,{className:"project-card",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},viewport:{once:!0,margin:"-50px"},children:[W.jsxs("div",{className:"relative h-48 overflow-hidden",children:[W.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-cyber-black to-transparent z-10"}),W.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover object-center"})]}),W.jsxs("div",{className:"p-6",children:[W.jsx("h3",{className:"text-xl font-display text-white mb-2",children:t.title}),W.jsx("p",{className:"text-gray-300 text-sm mb-4",children:t.description}),W.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map((n,r)=>W.jsx("span",{className:"skill-badge",children:n},r))}),W.jsxs(Xt.a,{href:t.link,className:"text-electric-purple inline-flex items-center gap-2 hover:text-neon-purple transition-colors",whileHover:{x:5},children:["Esplora progetto",W.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]}),sse=()=>{const[t,e]=te.useState(0),n=()=>{e(i=>(i+1)%op.length)},r=()=>{e(i=>(i-1+op.length)%op.length)};return W.jsxs("section",{id:"projects",className:"section relative py-24",children:[W.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-deep-blue/20 to-cyber-black opacity-50"}),W.jsxs("div",{className:"mb-16 text-center relative z-10",children:[W.jsx(Xt.h2,{className:"gradient-text mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:"Progetti di Ricerca"}),W.jsx(Xt.p,{className:"subtitle max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:"Esplora i miei progetti di ricerca più significativi nel campo dell'intelligenza artificiale"})]}),W.jsx("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 relative z-10",children:op.map((i,a)=>W.jsx(fk,{project:i,index:a},i.id))}),W.jsxs("div",{className:"md:hidden relative z-10",children:[W.jsx("div",{className:"overflow-hidden",children:W.jsx(Xt.div,{className:"flex",animate:{x:`-${t*100}%`},transition:{type:"spring",stiffness:300,damping:30},children:op.map((i,a)=>W.jsx("div",{className:"w-full flex-shrink-0 px-4",children:W.jsx(fk,{project:i,index:0})},i.id))})}),W.jsxs("div",{className:"flex justify-between mt-6",children:[W.jsx(Xt.button,{onClick:r,className:"w-10 h-10 rounded-full bg-dark-surface-lighter flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},children:W.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M19 12H5M5 12L12 19M5 12L12 5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),W.jsx("div",{className:"flex gap-2",children:op.map((i,a)=>W.jsx("button",{className:`w-2 h-2 rounded-full ${a===t?"bg-electric-purple":"bg-dark-surface-lighter"}`,onClick:()=>e(a)},a))}),W.jsx(Xt.button,{onClick:n,className:"w-10 h-10 rounded-full bg-dark-surface-lighter flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},children:W.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]})};function NW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _n(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NW(t))&&(r&&(r+=" "),r+=e);return r}var uM,hk;function Ga(){if(hk)return uM;hk=1;var t=Array.isArray;return uM=t,uM}var cM,dk;function DW(){if(dk)return cM;dk=1;var t=typeof Z0=="object"&&Z0&&Z0.Object===Object&&Z0;return cM=t,cM}var fM,pk;function dl(){if(pk)return fM;pk=1;var t=DW(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return fM=n,fM}var hM,mk;function Ky(){if(mk)return hM;mk=1;var t=dl(),e=t.Symbol;return hM=e,hM}var dM,gk;function lse(){if(gk)return dM;gk=1;var t=Ky(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var f=r.call(o);return u&&(s?o[i]=l:delete o[i]),f}return dM=a,dM}var pM,vk;function use(){if(vk)return pM;vk=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return pM=n,pM}var mM,yk;function wu(){if(yk)return mM;yk=1;var t=Ky(),e=lse(),n=use(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?e(s):n(s)}return mM=o,mM}var gM,xk;function Su(){if(xk)return gM;xk=1;function t(e){return e!=null&&typeof e=="object"}return gM=t,gM}var vM,_k;function Sm(){if(_k)return vM;_k=1;var t=wu(),e=Su(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return vM=r,vM}var yM,wk;function FO(){if(wk)return yM;wk=1;var t=Ga(),e=Sm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return yM=i,yM}var xM,Sk;function kc(){if(Sk)return xM;Sk=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return xM=t,xM}var _M,bk;function BO(){if(bk)return _M;bk=1;var t=wu(),e=kc(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==r||l==i||l==n||l==a}return _M=o,_M}var wM,Mk;function cse(){if(Mk)return wM;Mk=1;var t=dl(),e=t["__core-js_shared__"];return wM=e,wM}var SM,Ek;function fse(){if(Ek)return SM;Ek=1;var t=cse(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return SM=n,SM}var bM,Ak;function kW(){if(Ak)return bM;Ak=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return bM=n,bM}var MM,Tk;function hse(){if(Tk)return MM;Tk=1;var t=BO(),e=fse(),n=kc(),r=kW(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!n(p)||e(p))return!1;var v=t(p)?f:a;return v.test(r(p))}return MM=h,MM}var EM,Pk;function dse(){if(Pk)return EM;Pk=1;function t(e,n){return e==null?void 0:e[n]}return EM=t,EM}var AM,Ck;function kh(){if(Ck)return AM;Ck=1;var t=hse(),e=dse();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return AM=n,AM}var TM,Rk;function Aw(){if(Rk)return TM;Rk=1;var t=kh(),e=t(Object,"create");return TM=e,TM}var PM,Ok;function pse(){if(Ok)return PM;Ok=1;var t=Aw();function e(){this.__data__=t?t(null):{},this.size=0}return PM=e,PM}var CM,Ik;function mse(){if(Ik)return CM;Ik=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return CM=t,CM}var RM,Lk;function gse(){if(Lk)return RM;Lk=1;var t=Aw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return r.call(o,a)?o[a]:void 0}return RM=i,RM}var OM,Nk;function vse(){if(Nk)return OM;Nk=1;var t=Aw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return OM=r,OM}var IM,Dk;function yse(){if(Dk)return IM;Dk=1;var t=Aw(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return IM=n,IM}var LM,kk;function xse(){if(kk)return LM;kk=1;var t=pse(),e=mse(),n=gse(),r=vse(),i=yse();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,LM=a,LM}var NM,Uk;function _se(){if(Uk)return NM;Uk=1;function t(){this.__data__=[],this.size=0}return NM=t,NM}var DM,Fk;function zO(){if(Fk)return DM;Fk=1;function t(e,n){return e===n||e!==e&&n!==n}return DM=t,DM}var kM,Bk;function Tw(){if(Bk)return kM;Bk=1;var t=zO();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return kM=e,kM}var UM,zk;function wse(){if(zk)return UM;zk=1;var t=Tw(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return UM=r,UM}var FM,jk;function Sse(){if(jk)return FM;jk=1;var t=Tw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return FM=e,FM}var BM,Vk;function bse(){if(Vk)return BM;Vk=1;var t=Tw();function e(n){return t(this.__data__,n)>-1}return BM=e,BM}var zM,Hk;function Mse(){if(Hk)return zM;Hk=1;var t=Tw();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return zM=e,zM}var jM,Wk;function Pw(){if(Wk)return jM;Wk=1;var t=_se(),e=wse(),n=Sse(),r=bse(),i=Mse();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,jM=a,jM}var VM,Gk;function jO(){if(Gk)return VM;Gk=1;var t=kh(),e=dl(),n=t(e,"Map");return VM=n,VM}var HM,$k;function Ese(){if($k)return HM;$k=1;var t=xse(),e=Pw(),n=jO();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return HM=r,HM}var WM,qk;function Ase(){if(qk)return WM;qk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return WM=t,WM}var GM,Xk;function Cw(){if(Xk)return GM;Xk=1;var t=Ase();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return GM=e,GM}var $M,Yk;function Tse(){if(Yk)return $M;Yk=1;var t=Cw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return $M=e,$M}var qM,Kk;function Pse(){if(Kk)return qM;Kk=1;var t=Cw();function e(n){return t(this,n).get(n)}return qM=e,qM}var XM,Zk;function Cse(){if(Zk)return XM;Zk=1;var t=Cw();function e(n){return t(this,n).has(n)}return XM=e,XM}var YM,Jk;function Rse(){if(Jk)return YM;Jk=1;var t=Cw();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return YM=e,YM}var KM,Qk;function VO(){if(Qk)return KM;Qk=1;var t=Ese(),e=Tse(),n=Pse(),r=Cse(),i=Rse();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,KM=a,KM}var ZM,eU;function UW(){if(eU)return ZM;eU=1;var t=VO(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=r.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(n.Cache||t),a}return n.Cache=t,ZM=n,ZM}var JM,tU;function Ose(){if(tU)return JM;tU=1;var t=UW(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return JM=n,JM}var QM,nU;function Ise(){if(nU)return QM;nU=1;var t=Ose(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,u){a.push(l?u.replace(n,"$1"):s||o)}),a});return QM=r,QM}var eE,rU;function HO(){if(rU)return eE;rU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return eE=t,eE}var tE,iU;function Lse(){if(iU)return tE;iU=1;var t=Ky(),e=HO(),n=Ga(),r=Sm(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(n(s))return e(s,o)+"";if(r(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return tE=o,tE}var nE,aU;function FW(){if(aU)return nE;aU=1;var t=Lse();function e(n){return n==null?"":t(n)}return nE=e,nE}var rE,oU;function BW(){if(oU)return rE;oU=1;var t=Ga(),e=FO(),n=Ise(),r=FW();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return rE=i,rE}var iE,sU;function Rw(){if(sU)return iE;sU=1;var t=Sm();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return iE=e,iE}var aE,lU;function WO(){if(lU)return aE;lU=1;var t=BW(),e=Rw();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return aE=n,aE}var oE,uU;function zW(){if(uU)return oE;uU=1;var t=WO();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return oE=e,oE}var Nse=zW();const po=$n(Nse);var sE,cU;function Dse(){if(cU)return sE;cU=1;function t(e){return e==null}return sE=t,sE}var kse=Dse();const Sn=$n(kse);var lE,fU;function Use(){if(fU)return lE;fU=1;var t=wu(),e=Ga(),n=Su(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return lE=i,lE}var Fse=Use();const Sh=$n(Fse);var Bse=BO();const rn=$n(Bse);var zse=kc();const bm=$n(zse);var uE={exports:{}},Gn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hU;function jse(){if(hU)return Gn;hU=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function S(x){if(typeof x=="object"&&x!==null){var w=x.$$typeof;switch(w){case t:switch(x=x.type,x){case n:case i:case r:case u:case f:return x;default:switch(x=x&&x.$$typeof,x){case s:case o:case l:case p:case h:case a:return x;default:return w}}case e:return w}}}return Gn.ContextConsumer=o,Gn.ContextProvider=a,Gn.Element=t,Gn.ForwardRef=l,Gn.Fragment=n,Gn.Lazy=p,Gn.Memo=h,Gn.Portal=e,Gn.Profiler=i,Gn.StrictMode=r,Gn.Suspense=u,Gn.SuspenseList=f,Gn.isAsyncMode=function(){return!1},Gn.isConcurrentMode=function(){return!1},Gn.isContextConsumer=function(x){return S(x)===o},Gn.isContextProvider=function(x){return S(x)===a},Gn.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Gn.isForwardRef=function(x){return S(x)===l},Gn.isFragment=function(x){return S(x)===n},Gn.isLazy=function(x){return S(x)===p},Gn.isMemo=function(x){return S(x)===h},Gn.isPortal=function(x){return S(x)===e},Gn.isProfiler=function(x){return S(x)===i},Gn.isStrictMode=function(x){return S(x)===r},Gn.isSuspense=function(x){return S(x)===u},Gn.isSuspenseList=function(x){return S(x)===f},Gn.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===u||x===f||x===v||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===h||x.$$typeof===a||x.$$typeof===o||x.$$typeof===l||x.$$typeof===_||x.getModuleId!==void 0)},Gn.typeOf=S,Gn}var dU;function Vse(){return dU||(dU=1,uE.exports=jse()),uE.exports}var Hse=Vse(),cE,pU;function jW(){if(pU)return cE;pU=1;var t=wu(),e=Su(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return cE=r,cE}var fE,mU;function Wse(){if(mU)return fE;mU=1;var t=jW();function e(n){return t(n)&&n!=+n}return fE=e,fE}var Gse=Wse();const Zy=$n(Gse);var $se=jW();const qse=$n($se);var xa=function(e){return e===0?0:e>0?1:-1},rh=function(e){return Sh(e)&&e.indexOf("%")===e.length-1},ct=function(e){return qse(e)&&!Zy(e)},Xse=function(e){return Sn(e)},di=function(e){return ct(e)||Sh(e)},Yse=0,Jy=function(e){var n=++Yse;return"".concat(e||"").concat(n)},_a=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ct(e)&&!Sh(e))return r;var a;if(rh(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Zy(a)&&(a=r),i&&a>n&&(a=n),a},gc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Kse=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},pc=function(e,n){return ct(e)&&ct(n)?function(r){return e+r*(n-e)}:function(){return n}};function _C(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):po(r,e))===n})}var Zse=function(e,n){return ct(e)&&ct(n)?e-n:Sh(e)&&Sh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Rp(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function wC(t){"@babel/helpers - typeof";return wC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wC(t)}var Jse=["viewBox","children"],Qse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gU=["points","pathLength"],hE={svg:Jse,polygon:gU,polyline:gU},GO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],V_=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(te.isValidElement(e)&&(r=e.props),!bm(r))return null;var i={};return Object.keys(r).forEach(function(a){GO.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},ele=function(e,n,r){return function(i){return e(n,r,i),null}},bh=function(e,n,r){if(!bm(e)||wC(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];GO.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=ele(o,n,r))}),i},tle=["children"],nle=["children"];function vU(t,e){if(t==null)return{};var n=rle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},xU=null,dE=null,$O=function t(e){if(e===xU&&Array.isArray(dE))return dE;var n=[];return te.Children.forEach(e,function(r){Sn(r)||(Hse.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),dE=n,xU=e,n};function Vo(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return uu(i)}):r=[uu(e)],$O(t).forEach(function(i){var a=po(i,"type.displayName")||po(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function oo(t,e){var n=Vo(t,e);return n&&n[0]}var _U=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ct(r)||r<=0||!ct(i)||i<=0)},ile=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ale=function(e){return e&&e.type&&Sh(e.type)&&ile.indexOf(e.type)>=0},ole=function(e,n,r,i){var a,o=(a=hE==null?void 0:hE[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!rn(e)&&(i&&o.includes(n)||Qse.includes(n))||r&&GO.includes(n)},Qt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(te.isValidElement(e)&&(i=e.props),!bm(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;ole((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},SC=function t(e,n){if(e===n)return!0;var r=te.Children.count(e);if(r!==te.Children.count(n))return!1;if(r===0)return!0;if(r===1)return wU(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!wU(a,o))return!1}return!0},wU=function(e,n){if(Sn(e)&&Sn(n))return!0;if(!Sn(e)&&!Sn(n)){var r=e.props||{},i=r.children,a=vU(r,tle),o=n.props||{},s=o.children,l=vU(o,nle);return i&&s?Rp(a,l)&&SC(i,s):!i&&!s?Rp(a,l):!1}return!1},SU=function(e,n){var r=[],i={};return $O(e).forEach(function(a,o){if(ale(a))r.push(a);else if(a){var s=uu(a.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var h=u(a,s,o);r.push(h),i[s]=!0}}}),r},sle=function(e){var n=e&&e.type;return n&&yU[n]?yU[n]:null},lle=function(e,n){return $O(n).indexOf(e)},ule=["children","width","height","viewBox","className","style","title","desc"];function bC(){return bC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bC.apply(this,arguments)}function cle(t,e){if(t==null)return{};var n=fle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MC(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=cle(t,ule),f=i||{width:n,height:r,x:0,y:0},h=_n("recharts-surface",a);return ge.createElement("svg",bC({},Qt(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),ge.createElement("title",null,s),ge.createElement("desc",null,l),e)}var hle=["children","className"];function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EC.apply(this,arguments)}function dle(t,e){if(t==null)return{};var n=ple(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ple(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xn=ge.forwardRef(function(t,e){var n=t.children,r=t.className,i=dle(t,hle),a=_n("recharts-layer",r);return ge.createElement("g",EC({className:a},Qt(i,!0),{ref:e}),n)}),Rs=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},pE,bU;function mle(){if(bU)return pE;bU=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return pE=t,pE}var mE,MU;function gle(){if(MU)return mE;MU=1;var t=mle();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return mE=e,mE}var gE,EU;function VW(){if(EU)return gE;EU=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+a+"]");function l(u){return s.test(u)}return gE=l,gE}var vE,AU;function vle(){if(AU)return vE;AU=1;function t(e){return e.split("")}return vE=t,vE}var yE,TU;function yle(){if(TU)return yE;TU=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",_=u+"?",S="["+a+"]?",x="(?:"+v+"(?:"+[f,h,p].join("|")+")"+S+_+")*",w=S+_+x,E="(?:"+[f+s+"?",s,h,p,o].join("|")+")",b=RegExp(l+"(?="+l+")|"+E+w,"g");function T(P){return P.match(b)||[]}return yE=T,yE}var xE,PU;function xle(){if(PU)return xE;PU=1;var t=vle(),e=VW(),n=yle();function r(i){return e(i)?n(i):t(i)}return xE=r,xE}var _E,CU;function _le(){if(CU)return _E;CU=1;var t=gle(),e=VW(),n=xle(),r=FW();function i(a){return function(o){o=r(o);var s=e(o)?n(o):void 0,l=s?s[0]:o.charAt(0),u=s?t(s,1).join(""):o.slice(1);return l[a]()+u}}return _E=i,_E}var wE,RU;function wle(){if(RU)return wE;RU=1;var t=_le(),e=t("toUpperCase");return wE=e,wE}var Sle=wle();const Ow=$n(Sle);function cr(t){return function(){return t}}const HW=Math.cos,H_=Math.sin,Ds=Math.sqrt,W_=Math.PI,Iw=2*W_,AC=Math.PI,TC=2*AC,Wf=1e-6,ble=TC-Wf;function WW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Mle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return WW;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ele{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?WW:Mle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,f=o-e,h=s-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Wf)if(!(Math.abs(h*l-u*f)>Wf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,_=i-s,S=l*l+u*u,x=v*v+_*_,w=Math.sqrt(S),E=Math.sqrt(p),b=a*Math.tan((AC-Math.acos((S+p-x)/(2*w*E)))/2),T=b/E,P=b/w;Math.abs(T-1)>Wf&&this._append`L${e+T*f},${n+T*h}`,this._append`A${a},${a},0,0,${+(h*v>f*_)},${this._x1=e+P*l},${this._y1=n+P*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,f=n+l,h=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Wf||Math.abs(this._y1-f)>Wf)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%TC+TC),p>ble?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:p>Wf&&this._append`A${r},${r},0,${+(p>=AC)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ele(e)}function XO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GW(t){this._context=t}GW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Lw(t){return new GW(t)}function $W(t){return t[0]}function qW(t){return t[1]}function XW(t,e){var n=cr(!0),r=null,i=Lw,a=null,o=qO(s);t=typeof t=="function"?t:t===void 0?$W:cr(t),e=typeof e=="function"?e:e===void 0?qW:cr(e);function s(l){var u,f=(l=XO(l)).length,h,p=!1,v;for(r==null&&(a=i(v=o())),u=0;u<=f;++u)!(u<f&&n(h=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(h,u,l),+e(h,u,l));if(v)return a=null,v+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:cr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:cr(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:cr(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Jx(t,e,n){var r=null,i=cr(!0),a=null,o=Lw,s=null,l=qO(u);t=typeof t=="function"?t:t===void 0?$W:cr(+t),e=typeof e=="function"?e:cr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?qW:cr(+n);function u(h){var p,v,_,S=(h=XO(h)).length,x,w=!1,E,b=new Array(S),T=new Array(S);for(a==null&&(s=o(E=l())),p=0;p<=S;++p){if(!(p<S&&i(x=h[p],p,h))===w)if(w=!w)v=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=p-1;_>=v;--_)s.point(b[_],T[_]);s.lineEnd(),s.areaEnd()}w&&(b[p]=+t(x,p,h),T[p]=+e(x,p,h),s.point(r?+r(x,p,h):b[p],n?+n(x,p,h):T[p]))}if(E)return s=null,E+""||null}function f(){return XW().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:cr(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:cr(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:cr(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:cr(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:cr(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:cr(+h),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:cr(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),u):a},u}class YW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ale(t){return new YW(t,!0)}function Tle(t){return new YW(t,!1)}const YO={draw(t,e){const n=Ds(e/W_);t.moveTo(n,0),t.arc(0,0,n,0,Iw)}},Ple={draw(t,e){const n=Ds(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},KW=Ds(1/3),Cle=KW*2,Rle={draw(t,e){const n=Ds(e/Cle),r=n*KW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ole={draw(t,e){const n=Ds(e),r=-n/2;t.rect(r,r,n,n)}},Ile=.8908130915292852,ZW=H_(W_/10)/H_(7*W_/10),Lle=H_(Iw/10)*ZW,Nle=-HW(Iw/10)*ZW,Dle={draw(t,e){const n=Ds(e*Ile),r=Lle*n,i=Nle*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Iw*a/5,s=HW(o),l=H_(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},SE=Ds(3),kle={draw(t,e){const n=-Ds(e/(SE*3));t.moveTo(0,n*2),t.lineTo(-SE*n,-n),t.lineTo(SE*n,-n),t.closePath()}},Io=-.5,Lo=Ds(3)/2,PC=1/Ds(12),Ule=(PC/2+1)*3,Fle={draw(t,e){const n=Ds(e/Ule),r=n/2,i=n*PC,a=r,o=n*PC+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Io*r-Lo*i,Lo*r+Io*i),t.lineTo(Io*a-Lo*o,Lo*a+Io*o),t.lineTo(Io*s-Lo*l,Lo*s+Io*l),t.lineTo(Io*r+Lo*i,Io*i-Lo*r),t.lineTo(Io*a+Lo*o,Io*o-Lo*a),t.lineTo(Io*s+Lo*l,Io*l-Lo*s),t.closePath()}};function Ble(t,e){let n=null,r=qO(i);t=typeof t=="function"?t:cr(t||YO),e=typeof e=="function"?e:cr(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:cr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:cr(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function G_(){}function $_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function JW(t){this._context=t}JW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zle(t){return new JW(t)}function QW(t){this._context=t}QW.prototype={areaStart:G_,areaEnd:G_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jle(t){return new QW(t)}function e6(t){this._context=t}e6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vle(t){return new e6(t)}function t6(t){this._context=t}t6.prototype={areaStart:G_,areaEnd:G_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Hle(t){return new t6(t)}function OU(t){return t<0?-1:1}function IU(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(OU(a)+OU(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function LU(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function bE(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function q_(t){this._context=t}q_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bE(this,this._t0,LU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,bE(this,LU(this,n=IU(this,t,e)),n);break;default:bE(this,this._t0,n=IU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function n6(t){this._context=new r6(t)}(n6.prototype=Object.create(q_.prototype)).point=function(t,e){q_.prototype.point.call(this,e,t)};function r6(t){this._context=t}r6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Wle(t){return new q_(t)}function Gle(t){return new n6(t)}function i6(t){this._context=t}i6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=NU(t),i=NU(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NU(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function $le(t){return new i6(t)}function Nw(t,e){this._context=t,this._t=e}Nw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function qle(t){return new Nw(t,.5)}function Xle(t){return new Nw(t,0)}function Yle(t){return new Nw(t,1)}function Vp(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function CC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Kle(t,e){return t[e]}function Zle(t){const e=[];return e.key=t,e}function Jle(){var t=cr([]),e=CC,n=Vp,r=Kle;function i(a){var o=Array.from(t.apply(this,arguments),Zle),s,l=o.length,u=-1,f;for(const h of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(h,o[s].key,u,a)]).data=h;for(s=0,f=XO(e(o));s<l;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:cr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:cr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?CC:typeof a=="function"?a:cr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Vp,i):n},i}function Qle(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Vp(t,e)}}function eue(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Vp(t,e)}}function tue(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var f=t[e[s]],h=f[r][1]||0,p=f[r-1][1]||0,v=(h-p)/2,_=0;_<s;++_){var S=t[e[_]],x=S[r][1]||0,w=S[r-1][1]||0;v+=x-w}l+=h,u+=v*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Vp(t,e)}}function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}var nue=["type","size","sizeType"];function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RC.apply(this,arguments)}function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return e=iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=aue(t,"string");return Zv(e)=="symbol"?e:e+""}function aue(t,e){if(Zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oue(t,e){if(t==null)return{};var n=sue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var a6={symbolCircle:YO,symbolCross:Ple,symbolDiamond:Rle,symbolSquare:Ole,symbolStar:Dle,symbolTriangle:kle,symbolWye:Fle},lue=Math.PI/180,uue=function(e){var n="symbol".concat(Ow(e));return a6[n]||YO},cue=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*lue;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fue=function(e,n){a6["symbol".concat(Ow(e))]=n},KO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=oue(e,nue),u=kU(kU({},l),{},{type:r,size:a,sizeType:s}),f=function(){var x=uue(r),w=Ble().type(x).size(cue(a,s,r));return w()},h=u.className,p=u.cx,v=u.cy,_=Qt(u,!0);return p===+p&&v===+v&&a===+a?ge.createElement("path",RC({},_,{className:_n("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};KO.registerSymbol=fue;function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OC.apply(this,arguments)}function UU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(n),!0).forEach(function(r){Jv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s6(r.key),r)}}function mue(t,e,n){return e&&pue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gue(t,e,n){return e=X_(e),vue(t,o6()?Reflect.construct(e,n||[],X_(t).constructor):e.apply(t,n))}function vue(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yue(t)}function yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!t})()}function X_(t){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X_(t)}function xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IC(t,e)}function IC(t,e){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IC(t,e)}function Jv(t,e,n){return e=s6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s6(t){var e=_ue(t,"string");return Hp(e)=="symbol"?e:e+""}function _ue(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var No=32,ZO=function(t){function e(){return due(this,e),gue(this,e,arguments)}return xue(e,t),mue(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=No/2,o=No/6,s=No/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ge.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:No,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ge.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(No,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ge.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(No/8,"h").concat(No,"v").concat(No*3/4,"h").concat(-No,"z"),className:"recharts-legend-icon"});if(ge.isValidElement(r.legendIcon)){var u=hue({},r);return delete u.legendIcon,ge.cloneElement(r.legendIcon,u)}return ge.createElement(KO,{fill:l,cx:a,cy:a,size:No,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:No,height:No},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(v,_){var S=v.formatter||l,x=_n(Jv(Jv({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",v.inactive));if(v.type==="none")return null;var w=rn(v.value)?null:v.value;Rs(!rn(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=v.inactive?u:v.color;return ge.createElement("li",OC({className:x,style:h,key:"legend-item-".concat(_)},bh(r.props,v,_)),ge.createElement(MC,{width:o,height:o,viewBox:f,style:p},r.renderIcon(v)),ge.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},S?S(w,v,_):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ge.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(te.PureComponent);Jv(ZO,"displayName","Legend");Jv(ZO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ME,FU;function wue(){if(FU)return ME;FU=1;var t=Pw();function e(){this.__data__=new t,this.size=0}return ME=e,ME}var EE,BU;function Sue(){if(BU)return EE;BU=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return EE=t,EE}var AE,zU;function bue(){if(zU)return AE;zU=1;function t(e){return this.__data__.get(e)}return AE=t,AE}var TE,jU;function Mue(){if(jU)return TE;jU=1;function t(e){return this.__data__.has(e)}return TE=t,TE}var PE,VU;function Eue(){if(VU)return PE;VU=1;var t=Pw(),e=jO(),n=VO(),r=200;function i(a,o){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return PE=i,PE}var CE,HU;function l6(){if(HU)return CE;HU=1;var t=Pw(),e=wue(),n=Sue(),r=bue(),i=Mue(),a=Eue();function o(s){var l=this.__data__=new t(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,CE=o,CE}var RE,WU;function Aue(){if(WU)return RE;WU=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return RE=e,RE}var OE,GU;function Tue(){if(GU)return OE;GU=1;function t(e){return this.__data__.has(e)}return OE=t,OE}var IE,$U;function u6(){if($U)return IE;$U=1;var t=VO(),e=Aue(),n=Tue();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,IE=r,IE}var LE,qU;function c6(){if(qU)return LE;qU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return LE=t,LE}var NE,XU;function f6(){if(XU)return NE;XU=1;function t(e,n){return e.has(n)}return NE=t,NE}var DE,YU;function h6(){if(YU)return DE;YU=1;var t=u6(),e=c6(),n=f6(),r=1,i=2;function a(o,s,l,u,f,h){var p=l&r,v=o.length,_=s.length;if(v!=_&&!(p&&_>v))return!1;var S=h.get(o),x=h.get(s);if(S&&x)return S==s&&x==o;var w=-1,E=!0,b=l&i?new t:void 0;for(h.set(o,s),h.set(s,o);++w<v;){var T=o[w],P=s[w];if(u)var C=p?u(P,T,w,s,o,h):u(T,P,w,o,s,h);if(C!==void 0){if(C)continue;E=!1;break}if(b){if(!e(s,function(L,D){if(!n(b,D)&&(T===L||f(T,L,l,u,h)))return b.push(D)})){E=!1;break}}else if(!(T===P||f(T,P,l,u,h))){E=!1;break}}return h.delete(o),h.delete(s),E}return DE=a,DE}var kE,KU;function Pue(){if(KU)return kE;KU=1;var t=dl(),e=t.Uint8Array;return kE=e,kE}var UE,ZU;function Cue(){if(ZU)return UE;ZU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return UE=t,UE}var FE,JU;function JO(){if(JU)return FE;JU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return FE=t,FE}var BE,QU;function Rue(){if(QU)return BE;QU=1;var t=Ky(),e=Pue(),n=zO(),r=h6(),i=Cue(),a=JO(),o=1,s=2,l="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",v="[object RegExp]",_="[object Set]",S="[object String]",x="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",b=t?t.prototype:void 0,T=b?b.valueOf:void 0;function P(C,L,D,I,F,z,Y){switch(D){case E:if(C.byteLength!=L.byteLength||C.byteOffset!=L.byteOffset)return!1;C=C.buffer,L=L.buffer;case w:return!(C.byteLength!=L.byteLength||!z(new e(C),new e(L)));case l:case u:case p:return n(+C,+L);case f:return C.name==L.name&&C.message==L.message;case v:case S:return C==L+"";case h:var H=i;case _:var K=I&o;if(H||(H=a),C.size!=L.size&&!K)return!1;var ee=Y.get(C);if(ee)return ee==L;I|=s,Y.set(C,L);var oe=r(H(C),H(L),I,F,z,Y);return Y.delete(C),oe;case x:if(T)return T.call(C)==T.call(L)}return!1}return BE=P,BE}var zE,eF;function d6(){if(eF)return zE;eF=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return zE=t,zE}var jE,tF;function Oue(){if(tF)return jE;tF=1;var t=d6(),e=Ga();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return jE=n,jE}var VE,nF;function Iue(){if(nF)return VE;nF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var s=e[r];n(s,r,e)&&(o[a++]=s)}return o}return VE=t,VE}var HE,rF;function Lue(){if(rF)return HE;rF=1;function t(){return[]}return HE=t,HE}var WE,iF;function Nue(){if(iF)return WE;iF=1;var t=Iue(),e=Lue(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return r.call(o,s)}))}:e;return WE=a,WE}var GE,aF;function Due(){if(aF)return GE;aF=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return GE=t,GE}var $E,oF;function kue(){if(oF)return $E;oF=1;var t=wu(),e=Su(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return $E=r,$E}var qE,sF;function QO(){if(sF)return qE;sF=1;var t=kue(),e=Su(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return qE=a,qE}var tv={exports:{}},XE,lF;function Uue(){if(lF)return XE;lF=1;function t(){return!1}return XE=t,XE}tv.exports;var uF;function p6(){return uF||(uF=1,function(t,e){var n=dl(),r=Uue(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u}(tv,tv.exports)),tv.exports}var YE,cF;function eI(){if(cF)return YE;cF=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return YE=n,YE}var KE,fF;function tI(){if(fF)return KE;fF=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return KE=e,KE}var ZE,hF;function Fue(){if(hF)return ZE;hF=1;var t=wu(),e=tI(),n=Su(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",v="[object Set]",_="[object String]",S="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",b="[object Float64Array]",T="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",L="[object Uint8Array]",D="[object Uint8ClampedArray]",I="[object Uint16Array]",F="[object Uint32Array]",z={};z[E]=z[b]=z[T]=z[P]=z[C]=z[L]=z[D]=z[I]=z[F]=!0,z[r]=z[i]=z[x]=z[a]=z[w]=z[o]=z[s]=z[l]=z[u]=z[f]=z[h]=z[p]=z[v]=z[_]=z[S]=!1;function Y(H){return n(H)&&e(H.length)&&!!z[t(H)]}return ZE=Y,ZE}var JE,dF;function m6(){if(dF)return JE;dF=1;function t(e){return function(n){return e(n)}}return JE=t,JE}var nv={exports:{}};nv.exports;var pF;function Bue(){return pF||(pF=1,function(t,e){var n=DW(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s}(nv,nv.exports)),nv.exports}var QE,mF;function g6(){if(mF)return QE;mF=1;var t=Fue(),e=m6(),n=Bue(),r=n&&n.isTypedArray,i=r?e(r):t;return QE=i,QE}var eA,gF;function zue(){if(gF)return eA;gF=1;var t=Due(),e=QO(),n=Ga(),r=p6(),i=eI(),a=g6(),o=Object.prototype,s=o.hasOwnProperty;function l(u,f){var h=n(u),p=!h&&e(u),v=!h&&!p&&r(u),_=!h&&!p&&!v&&a(u),S=h||p||v||_,x=S?t(u.length,String):[],w=x.length;for(var E in u)(f||s.call(u,E))&&!(S&&(E=="length"||v&&(E=="offset"||E=="parent")||_&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,w)))&&x.push(E);return x}return eA=l,eA}var tA,vF;function jue(){if(vF)return tA;vF=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return tA=e,tA}var nA,yF;function v6(){if(yF)return nA;yF=1;function t(e,n){return function(r){return e(n(r))}}return nA=t,nA}var rA,xF;function Vue(){if(xF)return rA;xF=1;var t=v6(),e=t(Object.keys,Object);return rA=e,rA}var iA,_F;function Hue(){if(_F)return iA;_F=1;var t=jue(),e=Vue(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return iA=i,iA}var aA,wF;function Qy(){if(wF)return aA;wF=1;var t=BO(),e=tI();function n(r){return r!=null&&e(r.length)&&!t(r)}return aA=n,aA}var oA,SF;function Dw(){if(SF)return oA;SF=1;var t=zue(),e=Hue(),n=Qy();function r(i){return n(i)?t(i):e(i)}return oA=r,oA}var sA,bF;function Wue(){if(bF)return sA;bF=1;var t=Oue(),e=Nue(),n=Dw();function r(i){return t(i,n,e)}return sA=r,sA}var lA,MF;function Gue(){if(MF)return lA;MF=1;var t=Wue(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,u,f){var h=s&e,p=t(a),v=p.length,_=t(o),S=_.length;if(v!=S&&!h)return!1;for(var x=v;x--;){var w=p[x];if(!(h?w in o:r.call(o,w)))return!1}var E=f.get(a),b=f.get(o);if(E&&b)return E==o&&b==a;var T=!0;f.set(a,o),f.set(o,a);for(var P=h;++x<v;){w=p[x];var C=a[w],L=o[w];if(l)var D=h?l(L,C,w,o,a,f):l(C,L,w,a,o,f);if(!(D===void 0?C===L||u(C,L,s,l,f):D)){T=!1;break}P||(P=w=="constructor")}if(T&&!P){var I=a.constructor,F=o.constructor;I!=F&&"constructor"in a&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof F=="function"&&F instanceof F)&&(T=!1)}return f.delete(a),f.delete(o),T}return lA=i,lA}var uA,EF;function $ue(){if(EF)return uA;EF=1;var t=kh(),e=dl(),n=t(e,"DataView");return uA=n,uA}var cA,AF;function que(){if(AF)return cA;AF=1;var t=kh(),e=dl(),n=t(e,"Promise");return cA=n,cA}var fA,TF;function y6(){if(TF)return fA;TF=1;var t=kh(),e=dl(),n=t(e,"Set");return fA=n,fA}var hA,PF;function Xue(){if(PF)return hA;PF=1;var t=kh(),e=dl(),n=t(e,"WeakMap");return hA=n,hA}var dA,CF;function Yue(){if(CF)return dA;CF=1;var t=$ue(),e=jO(),n=que(),r=y6(),i=Xue(),a=wu(),o=kW(),s="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",v=o(t),_=o(e),S=o(n),x=o(r),w=o(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=p||e&&E(new e)!=s||n&&E(n.resolve())!=u||r&&E(new r)!=f||i&&E(new i)!=h)&&(E=function(b){var T=a(b),P=T==l?b.constructor:void 0,C=P?o(P):"";if(C)switch(C){case v:return p;case _:return s;case S:return u;case x:return f;case w:return h}return T}),dA=E,dA}var pA,RF;function Kue(){if(RF)return pA;RF=1;var t=l6(),e=h6(),n=Rue(),r=Gue(),i=Yue(),a=Ga(),o=p6(),s=g6(),l=1,u="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function _(S,x,w,E,b,T){var P=a(S),C=a(x),L=P?f:i(S),D=C?f:i(x);L=L==u?h:L,D=D==u?h:D;var I=L==h,F=D==h,z=L==D;if(z&&o(S)){if(!o(x))return!1;P=!0,I=!1}if(z&&!I)return T||(T=new t),P||s(S)?e(S,x,w,E,b,T):n(S,x,L,w,E,b,T);if(!(w&l)){var Y=I&&v.call(S,"__wrapped__"),H=F&&v.call(x,"__wrapped__");if(Y||H){var K=Y?S.value():S,ee=H?x.value():x;return T||(T=new t),b(K,ee,w,E,T)}}return z?(T||(T=new t),r(S,x,w,E,b,T)):!1}return pA=_,pA}var mA,OF;function nI(){if(OF)return mA;OF=1;var t=Kue(),e=Su();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,s)}return mA=n,mA}var gA,IF;function Zue(){if(IF)return gA;IF=1;var t=l6(),e=nI(),n=1,r=2;function i(a,o,s,l){var u=s.length,f=u,h=!l;if(a==null)return!f;for(a=Object(a);u--;){var p=s[u];if(h&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++u<f;){p=s[u];var v=p[0],_=a[v],S=p[1];if(h&&p[2]){if(_===void 0&&!(v in a))return!1}else{var x=new t;if(l)var w=l(_,S,v,a,o,x);if(!(w===void 0?e(S,_,n|r,l,x):w))return!1}}return!0}return gA=i,gA}var vA,LF;function x6(){if(LF)return vA;LF=1;var t=kc();function e(n){return n===n&&!t(n)}return vA=e,vA}var yA,NF;function Jue(){if(NF)return yA;NF=1;var t=x6(),e=Dw();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,t(s)]}return i}return yA=n,yA}var xA,DF;function _6(){if(DF)return xA;DF=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return xA=t,xA}var _A,kF;function Que(){if(kF)return _A;kF=1;var t=Zue(),e=Jue(),n=_6();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return _A=r,_A}var wA,UF;function ece(){if(UF)return wA;UF=1;function t(e,n){return e!=null&&n in Object(e)}return wA=t,wA}var SA,FF;function tce(){if(FF)return SA;FF=1;var t=BW(),e=QO(),n=Ga(),r=eI(),i=tI(),a=Rw();function o(s,l,u){l=t(l,s);for(var f=-1,h=l.length,p=!1;++f<h;){var v=a(l[f]);if(!(p=s!=null&&u(s,v)))break;s=s[v]}return p||++f!=h?p:(h=s==null?0:s.length,!!h&&i(h)&&r(v,h)&&(n(s)||e(s)))}return SA=o,SA}var bA,BF;function nce(){if(BF)return bA;BF=1;var t=ece(),e=tce();function n(r,i){return r!=null&&e(r,i,t)}return bA=n,bA}var MA,zF;function rce(){if(zF)return MA;zF=1;var t=nI(),e=zW(),n=nce(),r=FO(),i=x6(),a=_6(),o=Rw(),s=1,l=2;function u(f,h){return r(f)&&i(h)?a(o(f),h):function(p){var v=e(p,f);return v===void 0&&v===h?n(p,f):t(h,v,s|l)}}return MA=u,MA}var EA,jF;function Mm(){if(jF)return EA;jF=1;function t(e){return e}return EA=t,EA}var AA,VF;function ice(){if(VF)return AA;VF=1;function t(e){return function(n){return n==null?void 0:n[e]}}return AA=t,AA}var TA,HF;function ace(){if(HF)return TA;HF=1;var t=WO();function e(n){return function(r){return t(r,n)}}return TA=e,TA}var PA,WF;function oce(){if(WF)return PA;WF=1;var t=ice(),e=ace(),n=FO(),r=Rw();function i(a){return n(a)?t(r(a)):e(a)}return PA=i,PA}var CA,GF;function pl(){if(GF)return CA;GF=1;var t=Que(),e=rce(),n=Mm(),r=Ga(),i=oce();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return CA=a,CA}var RA,$F;function w6(){if($F)return RA;$F=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return RA=t,RA}var OA,qF;function sce(){if(qF)return OA;qF=1;function t(e){return e!==e}return OA=t,OA}var IA,XF;function lce(){if(XF)return IA;XF=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return IA=t,IA}var LA,YF;function uce(){if(YF)return LA;YF=1;var t=w6(),e=sce(),n=lce();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return LA=r,LA}var NA,KF;function cce(){if(KF)return NA;KF=1;var t=uce();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return NA=e,NA}var DA,ZF;function fce(){if(ZF)return DA;ZF=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return DA=t,DA}var kA,JF;function hce(){if(JF)return kA;JF=1;function t(){}return kA=t,kA}var UA,QF;function dce(){if(QF)return UA;QF=1;var t=y6(),e=hce(),n=JO(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return UA=i,UA}var FA,eB;function pce(){if(eB)return FA;eB=1;var t=u6(),e=cce(),n=fce(),r=f6(),i=dce(),a=JO(),o=200;function s(l,u,f){var h=-1,p=e,v=l.length,_=!0,S=[],x=S;if(f)_=!1,p=n;else if(v>=o){var w=u?null:i(l);if(w)return a(w);_=!1,p=r,x=new t}else x=u?[]:S;e:for(;++h<v;){var E=l[h],b=u?u(E):E;if(E=f||E!==0?E:0,_&&b===b){for(var T=x.length;T--;)if(x[T]===b)continue e;u&&x.push(b),S.push(E)}else p(x,b,f)||(x!==S&&x.push(b),S.push(E))}return S}return FA=s,FA}var BA,tB;function mce(){if(tB)return BA;tB=1;var t=pl(),e=pce();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return BA=n,BA}var gce=mce();const nB=$n(gce);function S6(t,e,n){return e===!0?nB(t,n):rn(e)?nB(t,e):t}function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}var vce=["ref"];function rB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(n),!0).forEach(function(r){kw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M6(r.key),r)}}function xce(t,e,n){return e&&iB(t.prototype,e),n&&iB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ce(t,e,n){return e=Y_(e),wce(t,b6()?Reflect.construct(e,n||[],Y_(t).constructor):e.apply(t,n))}function wce(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sce(t)}function Sce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!t})()}function Y_(t){return Y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y_(t)}function bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LC(t,e)}function LC(t,e){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LC(t,e)}function kw(t,e,n){return e=M6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M6(t){var e=Mce(t,"string");return Wp(e)=="symbol"?e:e+""}function Mce(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ece(t,e){if(t==null)return{};var n=Ace(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ace(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tce(t){return t.value}function Pce(t,e){if(ge.isValidElement(t))return ge.cloneElement(t,e);if(typeof t=="function")return ge.createElement(t,e);e.ref;var n=Ece(e,vce);return ge.createElement(ZO,n)}var aB=1,Op=function(t){function e(){var n;yce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_ce(this,e,[].concat(i)),kw(n,"lastBoundingBox",{width:-1,height:-1}),n}return bce(e,t),xce(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aB||Math.abs(i.height-this.lastBoundingBox.height)>aB)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?tu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,h,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var v=this.getBBoxSnapshot();h={left:((u||0)-v.width)/2}}else h=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var _=this.getBBoxSnapshot();p={top:((f||0)-_.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return tu(tu({},h),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=tu(tu({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ge.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){r.wrapperNode=v}},Pce(a,tu(tu({},this.props),{},{payload:S6(f,u,Tce)})))}}],[{key:"getWithHeight",value:function(r,i){var a=tu(tu({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ct(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(te.PureComponent);kw(Op,"displayName","Legend");kw(Op,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zA,oB;function Cce(){if(oB)return zA;oB=1;var t=Ky(),e=QO(),n=Ga(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return zA=i,zA}var jA,sB;function E6(){if(sB)return jA;sB=1;var t=d6(),e=Cce();function n(r,i,a,o,s){var l=-1,u=r.length;for(a||(a=e),s||(s=[]);++l<u;){var f=r[l];i>0&&a(f)?i>1?n(f,i-1,a,o,s):t(s,f):o||(s[s.length]=f)}return s}return jA=n,jA}var VA,lB;function Rce(){if(lB)return VA;lB=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var u=s[e?l:++a];if(r(o[u],u,o)===!1)break}return n}}return VA=t,VA}var HA,uB;function Oce(){if(uB)return HA;uB=1;var t=Rce(),e=t();return HA=e,HA}var WA,cB;function A6(){if(cB)return WA;cB=1;var t=Oce(),e=Dw();function n(r,i){return r&&t(r,i,e)}return WA=n,WA}var GA,fB;function Ice(){if(fB)return GA;fB=1;var t=Qy();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,s=r?o:-1,l=Object(i);(r?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return GA=e,GA}var $A,hB;function rI(){if(hB)return $A;hB=1;var t=A6(),e=Ice(),n=e(t);return $A=n,$A}var qA,dB;function T6(){if(dB)return qA;dB=1;var t=rI(),e=Qy();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(s,l,u){o[++a]=i(s,l,u)}),o}return qA=n,qA}var XA,pB;function Lce(){if(pB)return XA;pB=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return XA=t,XA}var YA,mB;function Nce(){if(mB)return YA;mB=1;var t=Sm();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,s=t(n),l=r!==void 0,u=r===null,f=r===r,h=t(r);if(!u&&!h&&!s&&n>r||s&&l&&f&&!u&&!h||a&&l&&f||!i&&f||!o)return 1;if(!a&&!s&&!h&&n<r||h&&i&&o&&!a&&!s||u&&i&&o||!l&&o||!f)return-1}return 0}return YA=e,YA}var KA,gB;function Dce(){if(gB)return KA;gB=1;var t=Nce();function e(n,r,i){for(var a=-1,o=n.criteria,s=r.criteria,l=o.length,u=i.length;++a<l;){var f=t(o[a],s[a]);if(f){if(a>=u)return f;var h=i[a];return f*(h=="desc"?-1:1)}}return n.index-r.index}return KA=e,KA}var ZA,vB;function kce(){if(vB)return ZA;vB=1;var t=HO(),e=WO(),n=pl(),r=T6(),i=Lce(),a=m6(),o=Dce(),s=Mm(),l=Ga();function u(f,h,p){h.length?h=t(h,function(S){return l(S)?function(x){return e(x,S.length===1?S[0]:S)}:S}):h=[s];var v=-1;h=t(h,a(n));var _=r(f,function(S,x,w){var E=t(h,function(b){return b(S)});return{criteria:E,index:++v,value:S}});return i(_,function(S,x){return o(S,x,p)})}return ZA=u,ZA}var JA,yB;function Uce(){if(yB)return JA;yB=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return JA=t,JA}var QA,xB;function Fce(){if(xB)return QA;xB=1;var t=Uce(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),u=Array(l);++s<l;)u[s]=o[i+s];s=-1;for(var f=Array(i+1);++s<i;)f[s]=o[s];return f[i]=a(u),t(r,this,f)}}return QA=n,QA}var eT,_B;function Bce(){if(_B)return eT;_B=1;function t(e){return function(){return e}}return eT=t,eT}var tT,wB;function P6(){if(wB)return tT;wB=1;var t=kh(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return tT=e,tT}var nT,SB;function zce(){if(SB)return nT;SB=1;var t=Bce(),e=P6(),n=Mm(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return nT=r,nT}var rT,bB;function jce(){if(bB)return rT;bB=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=e-(s-o);if(o=s,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return rT=r,rT}var iT,MB;function Vce(){if(MB)return iT;MB=1;var t=zce(),e=jce(),n=e(t);return iT=n,iT}var aT,EB;function Hce(){if(EB)return aT;EB=1;var t=Mm(),e=Fce(),n=Vce();function r(i,a){return n(e(i,a,t),i+"")}return aT=r,aT}var oT,AB;function Uw(){if(AB)return oT;AB=1;var t=zO(),e=Qy(),n=eI(),r=kc();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?e(s)&&n(o,s.length):l=="string"&&o in s)?t(s[o],a):!1}return oT=i,oT}var sT,TB;function Wce(){if(TB)return sT;TB=1;var t=E6(),e=kce(),n=Hce(),r=Uw(),i=n(function(a,o){if(a==null)return[];var s=o.length;return s>1&&r(a,o[0],o[1])?o=[]:s>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return sT=i,sT}var Gce=Wce();const iI=$n(Gce);function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function NC(){return NC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NC.apply(this,arguments)}function $ce(t,e){return Kce(t)||Yce(t,e)||Xce(t,e)||qce()}function qce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xce(t,e){if(t){if(typeof t=="string")return PB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PB(t,e)}}function PB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Kce(t){if(Array.isArray(t))return t}function CB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(n),!0).forEach(function(r){Zce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zce(t,e,n){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Qce(t,"string");return Qv(e)=="symbol"?e:e+""}function Qce(t,e){if(Qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function efe(t){return Array.isArray(t)&&di(t[0])&&di(t[1])?t.join(" ~ "):t}var tfe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,h=e.formatter,p=e.itemSorter,v=e.wrapperClassName,_=e.labelClassName,S=e.label,x=e.labelFormatter,w=e.accessibilityLayer,E=w===void 0?!1:w,b=function(){if(f&&f.length){var Y={padding:0,margin:0},H=(p?iI(f,p):f).map(function(K,ee){if(K.type==="none")return null;var oe=lT({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},s),ae=K.formatter||h||efe,$=K.value,re=K.name,J=$,j=re;if(ae&&J!=null&&j!=null){var q=ae($,re,K,ee,f);if(Array.isArray(q)){var pe=$ce(q,2);J=pe[0],j=pe[1]}else J=q}return ge.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:oe},di(j)?ge.createElement("span",{className:"recharts-tooltip-item-name"},j):null,di(j)?ge.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ge.createElement("span",{className:"recharts-tooltip-item-value"},J),ge.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return ge.createElement("ul",{className:"recharts-tooltip-item-list",style:Y},H)}return null},T=lT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=lT({margin:0},u),C=!Sn(S),L=C?S:"",D=_n("recharts-default-tooltip",v),I=_n("recharts-tooltip-label",_);C&&x&&f!==void 0&&f!==null&&(L=x(S,f));var F=E?{role:"status","aria-live":"assertive"}:{};return ge.createElement("div",NC({className:D,style:T},F),ge.createElement("p",{className:I,style:P},ge.isValidElement(L)?L:"".concat(L)),b())};function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function Qx(t,e,n){return e=nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return ey(e)=="symbol"?e:e+""}function rfe(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vg="recharts-tooltip-wrapper",ife={visibility:"hidden"};function afe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return _n(Vg,Qx(Qx(Qx(Qx({},"".concat(Vg,"-right"),ct(n)&&e&&ct(e.x)&&n>=e.x),"".concat(Vg,"-left"),ct(n)&&e&&ct(e.x)&&n<e.x),"".concat(Vg,"-bottom"),ct(r)&&e&&ct(e.y)&&r>=e.y),"".concat(Vg,"-top"),ct(r)&&e&&ct(e.y)&&r<e.y))}function RB(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ct(a[r]))return a[r];var f=n[r]-s-i,h=n[r]+i;if(e[r])return o[r]?f:h;if(o[r]){var p=f,v=l[r];return p<v?Math.max(h,l[r]):Math.max(f,l[r])}var _=h+s,S=l[r]+u;return _>S?Math.max(f,l[r]):Math.max(h,l[r])}function ofe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function sfe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,h;return o.height>0&&o.width>0&&n?(f=RB({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),h=RB({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=ofe({translateX:f,translateY:h,useTranslate3d:s})):u=ife,{cssProperties:u,cssClasses:afe({translateX:f,translateY:h,coordinate:n})}}function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function OB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(n),!0).forEach(function(r){kC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ufe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R6(r.key),r)}}function cfe(t,e,n){return e&&ufe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ffe(t,e,n){return e=K_(e),hfe(t,C6()?Reflect.construct(e,n||[],K_(t).constructor):e.apply(t,n))}function hfe(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dfe(t)}function dfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C6=function(){return!!t})()}function K_(t){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K_(t)}function pfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DC(t,e)}function DC(t,e){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DC(t,e)}function kC(t,e,n){return e=R6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R6(t){var e=mfe(t,"string");return Gp(e)=="symbol"?e:e+""}function mfe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LB=1,gfe=function(t){function e(){var n;lfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ffe(this,e,[].concat(i)),kC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),kC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return pfe(e,t),cfe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>LB||Math.abs(r.height-this.state.lastBoundingBox.height)>LB)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,v=i.offset,_=i.position,S=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,E=i.wrapperStyle,b=sfe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:_,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),T=b.cssClasses,P=b.cssProperties,C=IB(IB({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},E);return ge.createElement("div",{tabIndex:-1,className:T,style:C,ref:function(D){r.wrapperNode=D}},u)}}])}(te.PureComponent),vfe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Em={isSsr:vfe()};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){aI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I6(r.key),r)}}function _fe(t,e,n){return e&&xfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wfe(t,e,n){return e=Z_(e),Sfe(t,O6()?Reflect.construct(e,n||[],Z_(t).constructor):e.apply(t,n))}function Sfe(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bfe(t)}function bfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!t})()}function Z_(t){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z_(t)}function Mfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UC(t,e)}function UC(t,e){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UC(t,e)}function aI(t,e,n){return e=I6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I6(t){var e=Efe(t,"string");return $p(e)=="symbol"?e:e+""}function Efe(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Afe(t){return t.dataKey}function Tfe(t,e){return ge.isValidElement(t)?ge.cloneElement(t,e):typeof t=="function"?ge.createElement(t,e):ge.createElement(tfe,e)}var Ss=function(t){function e(){return yfe(this,e),wfe(this,e,arguments)}return Mfe(e,t),_fe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,p=i.isAnimationActive,v=i.offset,_=i.payload,S=i.payloadUniqBy,x=i.position,w=i.reverseDirection,E=i.useTranslate3d,b=i.viewBox,T=i.wrapperStyle,P=_??[];h&&P.length&&(P=S6(_.filter(function(L){return L.value!=null&&(L.hide!==!0||r.props.includeHidden)}),S,Afe));var C=P.length>0;return ge.createElement(gfe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:f,hasPayload:C,offset:v,position:x,reverseDirection:w,useTranslate3d:E,viewBox:b,wrapperStyle:T},Tfe(u,DB(DB({},this.props),{},{payload:P})))}}])}(te.PureComponent);aI(Ss,"displayName","Tooltip");aI(Ss,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Em.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uT,kB;function Pfe(){if(kB)return uT;kB=1;var t=dl(),e=function(){return t.Date.now()};return uT=e,uT}var cT,UB;function Cfe(){if(UB)return cT;UB=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return cT=e,cT}var fT,FB;function Rfe(){if(FB)return fT;FB=1;var t=Cfe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return fT=n,fT}var hT,BB;function L6(){if(BB)return hT;BB=1;var t=Rfe(),e=kc(),n=Sm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=a.test(u);return h||o.test(u)?s(u.slice(2),h?2:8):i.test(u)?r:+u}return hT=l,hT}var dT,zB;function Ofe(){if(zB)return dT;zB=1;var t=kc(),e=Pfe(),n=L6(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var f,h,p,v,_,S,x=0,w=!1,E=!1,b=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,t(u)&&(w=!!u.leading,E="maxWait"in u,p=E?i(n(u.maxWait)||0,l):p,b="trailing"in u?!!u.trailing:b);function T(H){var K=f,ee=h;return f=h=void 0,x=H,v=s.apply(ee,K),v}function P(H){return x=H,_=setTimeout(D,l),w?T(H):v}function C(H){var K=H-S,ee=H-x,oe=l-K;return E?a(oe,p-ee):oe}function L(H){var K=H-S,ee=H-x;return S===void 0||K>=l||K<0||E&&ee>=p}function D(){var H=e();if(L(H))return I(H);_=setTimeout(D,C(H))}function I(H){return _=void 0,b&&f?T(H):(f=h=void 0,v)}function F(){_!==void 0&&clearTimeout(_),x=0,f=S=h=_=void 0}function z(){return _===void 0?v:I(e())}function Y(){var H=e(),K=L(H);if(f=arguments,h=this,S=H,K){if(_===void 0)return P(S);if(E)return clearTimeout(_),_=setTimeout(D,l),T(S)}return _===void 0&&(_=setTimeout(D,l)),v}return Y.cancel=F,Y.flush=z,Y}return dT=o,dT}var pT,jB;function Ife(){if(jB)return pT;jB=1;var t=Ofe(),e=kc(),n="Expected a function";function r(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),t(i,a,{leading:s,maxWait:a,trailing:l})}return pT=r,pT}var Lfe=Ife();const N6=$n(Lfe);function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function VB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(n),!0).forEach(function(r){Nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nfe(t,e,n){return e=Dfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=kfe(t,"string");return ty(e)=="symbol"?e:e+""}function kfe(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ufe(t,e){return jfe(t)||zfe(t,e)||Bfe(t,e)||Ffe()}function Ffe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bfe(t,e){if(t){if(typeof t=="string")return HB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HB(t,e)}}function HB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function jfe(t){if(Array.isArray(t))return t}var D6=te.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,p=t.maxHeight,v=t.children,_=t.debounce,S=_===void 0?0:_,x=t.id,w=t.className,E=t.onResize,b=t.style,T=b===void 0?{}:b,P=te.useRef(null),C=te.useRef();C.current=E,te.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var L=te.useState({containerWidth:i.width,containerHeight:i.height}),D=Ufe(L,2),I=D[0],F=D[1],z=te.useCallback(function(H,K){F(function(ee){var oe=Math.round(H),ae=Math.round(K);return ee.containerWidth===oe&&ee.containerHeight===ae?ee:{containerWidth:oe,containerHeight:ae}})},[]);te.useEffect(function(){var H=function(re){var J,j=re[0].contentRect,q=j.width,pe=j.height;z(q,pe),(J=C.current)===null||J===void 0||J.call(C,q,pe)};S>0&&(H=N6(H,S,{trailing:!0,leading:!1}));var K=new ResizeObserver(H),ee=P.current.getBoundingClientRect(),oe=ee.width,ae=ee.height;return z(oe,ae),K.observe(P.current),function(){K.disconnect()}},[z,S]);var Y=te.useMemo(function(){var H=I.containerWidth,K=I.containerHeight;if(H<0||K<0)return null;Rs(rh(o)||rh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Rs(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ee=rh(o)?H:o,oe=rh(l)?K:l;n&&n>0&&(ee?oe=ee/n:oe&&(ee=oe*n),p&&oe>p&&(oe=p)),Rs(ee>0||oe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,oe,o,l,f,h,n);var ae=!Array.isArray(v)&&uu(v.type).endsWith("Chart");return ge.Children.map(v,function($){return ge.isValidElement($)?te.cloneElement($,e_({width:ee,height:oe},ae?{style:e_({height:"100%",width:"100%",maxHeight:oe,maxWidth:ee},$.props.style)}:{})):$})},[n,v,l,p,h,f,I,o]);return ge.createElement("div",{id:x?"".concat(x):void 0,className:_n("recharts-responsive-container",w),style:e_(e_({},T),{},{width:o,height:l,minWidth:f,minHeight:h,maxHeight:p}),ref:P},Y)}),Fw=function(e){return null};Fw.displayName="Cell";function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){Vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vfe(t,e,n){return e=Hfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t){var e=Wfe(t,"string");return ny(e)=="symbol"?e:e+""}function Wfe(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sp={widthCache:{},cacheCount:0},Gfe=2e3,$fe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GB="recharts_measurement_span";function qfe(t){var e=FC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var _v=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Em.isSsr)return{width:0,height:0};var r=qfe(n),i=JSON.stringify({text:e,copyStyle:r});if(sp.widthCache[i])return sp.widthCache[i];try{var a=document.getElementById(GB);a||(a=document.createElement("span"),a.setAttribute("id",GB),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=FC(FC({},$fe),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return sp.widthCache[i]=l,++sp.cacheCount>Gfe&&(sp.cacheCount=0,sp.widthCache={}),l}catch{return{width:0,height:0}}},Xfe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function J_(t,e){return Jfe(t)||Zfe(t,e)||Kfe(t,e)||Yfe()}function Yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kfe(t,e){if(t){if(typeof t=="string")return $B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $B(t,e)}}function $B(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Jfe(t){if(Array.isArray(t))return t}function Qfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,the(r.key),r)}}function ehe(t,e,n){return e&&qB(t.prototype,e),n&&qB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function the(t){var e=nhe(t,"string");return ry(e)=="symbol"?e:e+""}function nhe(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ihe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,k6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ahe=Object.keys(k6),bp="NaN";function ohe(t,e){return t*k6[e]}var t_=function(){function t(e,n){Qfe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!rhe.test(n)&&(this.num=NaN,this.unit=""),ahe.includes(n)&&(this.num=ohe(e,n),this.unit="px")}return ehe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=ihe.exec(n))!==null&&r!==void 0?r:[],a=J_(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function U6(t){if(t.includes(bp))return bp;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=XB.exec(e))!==null&&n!==void 0?n:[],i=J_(r,4),a=i[1],o=i[2],s=i[3],l=t_.parse(a??""),u=t_.parse(s??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return bp;e=e.replace(XB,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=YB.exec(e))!==null&&h!==void 0?h:[],v=J_(p,4),_=v[1],S=v[2],x=v[3],w=t_.parse(_??""),E=t_.parse(x??""),b=S==="+"?w.add(E):w.subtract(E);if(b.isNaN())return bp;e=e.replace(YB,b.toString())}return e}var KB=/\(([^()]*)\)/;function she(t){for(var e=t;e.includes("(");){var n=KB.exec(e),r=J_(n,2),i=r[1];e=e.replace(KB,U6(i))}return e}function lhe(t){var e=t.replace(/\s+/g,"");return e=she(e),e=U6(e),e}function uhe(t){try{return lhe(t)}catch{return bp}}function mT(t){var e=uhe(t.slice(5,-1));return e===bp?"":e}var che=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fhe=["dx","dy","angle","className","breakAll"];function BC(){return BC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BC.apply(this,arguments)}function ZB(t,e){if(t==null)return{};var n=hhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JB(t,e){return ghe(t)||mhe(t,e)||phe(t,e)||dhe()}function dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function phe(t,e){if(t){if(typeof t=="string")return QB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QB(t,e)}}function QB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ghe(t){if(Array.isArray(t))return t}var F6=/[ \f\n\r\t\v\u2028\u2029]+/,B6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Sn(n)||(r?a=n.toString().split(""):a=n.toString().split(F6));var o=a.map(function(l){return{word:l,width:_v(l,i).width}}),s=r?0:_v(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},vhe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=ct(o),h=s,p=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(oe,ae){var $=ae.word,re=ae.width,J=oe[oe.length-1];if(J&&(i==null||a||J.width+re+r<Number(i)))J.words.push($),J.width+=re+r;else{var j={words:[$],width:re};oe.push(j)}return oe},[])},v=p(n),_=function(ee){return ee.reduce(function(oe,ae){return oe.width>ae.width?oe:ae})};if(!f)return v;for(var S="…",x=function(ee){var oe=h.slice(0,ee),ae=B6({breakAll:u,style:l,children:oe+S}).wordsWithComputedWidth,$=p(ae),re=$.length>o||_($).width>Number(i);return[re,$]},w=0,E=h.length-1,b=0,T;w<=E&&b<=h.length-1;){var P=Math.floor((w+E)/2),C=P-1,L=x(C),D=JB(L,2),I=D[0],F=D[1],z=x(P),Y=JB(z,1),H=Y[0];if(!I&&!H&&(w=P+1),I&&H&&(E=P-1),!I&&H){T=F;break}b++}return T||v},ez=function(e){var n=Sn(e)?[]:e.toString().split(F6);return[{words:n}]},yhe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Em.isSsr){var l,u,f=B6({breakAll:o,children:i,style:a});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;l=h,u=p}else return ez(i);return vhe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return ez(i)},tz="#808080",Mh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,h=f===void 0?!1:f,p=e.textAnchor,v=p===void 0?"start":p,_=e.verticalAnchor,S=_===void 0?"end":_,x=e.fill,w=x===void 0?tz:x,E=ZB(e,che),b=te.useMemo(function(){return yhe({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:h,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,h,E.style,E.width]),T=E.dx,P=E.dy,C=E.angle,L=E.className,D=E.breakAll,I=ZB(E,fhe);if(!di(r)||!di(a))return null;var F=r+(ct(T)?T:0),z=a+(ct(P)?P:0),Y;switch(S){case"start":Y=mT("calc(".concat(u,")"));break;case"middle":Y=mT("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:Y=mT("calc(".concat(b.length-1," * -").concat(s,")"));break}var H=[];if(h){var K=b[0].width,ee=E.width;H.push("scale(".concat((ct(ee)?ee/K:1)/K,")"))}return C&&H.push("rotate(".concat(C,", ").concat(F,", ").concat(z,")")),H.length&&(I.transform=H.join(" ")),ge.createElement("text",BC({},Qt(I,!0),{x:F,y:z,className:_n("recharts-text",L),textAnchor:v,fill:w.includes("url")?tz:w}),b.map(function(oe,ae){var $=oe.words.join(D?"":" ");return ge.createElement("tspan",{x:F,dy:ae===0?Y:s,key:"".concat($,"-").concat(ae)},$)}))};function Mc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xhe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oI(t){let e,n,r;t.length!==2?(e=Mc,n=(s,l)=>Mc(t(s),l),r=(s,l)=>t(s)-l):(e=t===Mc||t===xhe?t:_he,n=t,r=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;n(s[h],l)<0?u=h+1:f=h}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;n(s[h],l)<=0?u=h+1:f=h}while(u<f)}return u}function o(s,l,u=0,f=s.length){const h=i(s,l,u,f-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function _he(){return 0}function z6(t){return t===null?NaN:+t}function*whe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const She=oI(Mc),e0=She.right;oI(z6).center;class nz extends Map{constructor(e,n=Ehe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rz(this,e))}has(e){return super.has(rz(this,e))}set(e,n){return super.set(bhe(this,e),n)}delete(e){return super.delete(Mhe(this,e))}}function rz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bhe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Mhe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ehe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ahe(t=Mc){if(t===Mc)return j6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function j6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const The=Math.sqrt(50),Phe=Math.sqrt(10),Che=Math.sqrt(2);function Q_(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=The?10:a>=Phe?5:a>=Che?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Q_(t,e,n*2):[s,l,u]}function zC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Q_(e,t,n):Q_(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function jC(t,e,n){return e=+e,t=+t,n=+n,Q_(t,e,n)[2]}function VC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?jC(e,t,n):jC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function iz(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function az(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function V6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?j6:Ahe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(n,Math.floor(e-u*h/l+p)),_=Math.min(r,Math.floor(e+(l-u)*h/l+p));V6(t,e,v,_,i)}const a=t[e];let o=n,s=r;for(Hg(t,n,e),i(t[r],a)>0&&Hg(t,n,r);o<s;){for(Hg(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Hg(t,n,s):(++s,Hg(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Hg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Rhe(t,e,n){if(t=Float64Array.from(whe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return az(t);if(e>=1)return iz(t);var r,i=(r-1)*e,a=Math.floor(i),o=iz(V6(t,a).subarray(0,a+1)),s=az(t.subarray(a+1));return o+(s-o)*(i-a)}}function Ohe(t,e,n=z6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Ihe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Wo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const HC=Symbol("implicit");function sI(){var t=new nz,e=[],n=[],r=HC;function i(a){let o=t.get(a);if(o===void 0){if(r!==HC)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new nz;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sI(e,n).unknown(r)},Wo.apply(i,arguments),i}function iy(){var t=sI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete t.unknown;function h(){var p=e().length,v=i<r,_=v?i:r,S=v?r:i;a=(S-_)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),_+=(S-_-a*(p-l))*f,o=a*(1-l),s&&(_=Math.round(_),o=Math.round(o));var x=Ihe(p).map(function(w){return _+a*w});return n(v?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,h()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),h()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},t.copy=function(){return iy(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},Wo.apply(h(),arguments)}function H6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return H6(e())},t}function wv(){return H6(iy.apply(null,arguments).paddingInner(1))}function lI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function W6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function t0(){}var ay=.7,e1=1/ay,Ip="\\s*([+-]?\\d+)\\s*",oy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lhe=/^#([0-9a-f]{3,8})$/,Nhe=new RegExp(`^rgb\\(${Ip},${Ip},${Ip}\\)$`),Dhe=new RegExp(`^rgb\\(${ll},${ll},${ll}\\)$`),khe=new RegExp(`^rgba\\(${Ip},${Ip},${Ip},${oy}\\)$`),Uhe=new RegExp(`^rgba\\(${ll},${ll},${ll},${oy}\\)$`),Fhe=new RegExp(`^hsl\\(${oy},${ll},${ll}\\)$`),Bhe=new RegExp(`^hsla\\(${oy},${ll},${ll},${oy}\\)$`),oz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lI(t0,Eh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sz,formatHex:sz,formatHex8:zhe,formatHsl:jhe,formatRgb:lz,toString:lz});function sz(){return this.rgb().formatHex()}function zhe(){return this.rgb().formatHex8()}function jhe(){return G6(this).formatHsl()}function lz(){return this.rgb().formatRgb()}function Eh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Lhe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uz(e):n===3?new ja(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?n_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?n_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nhe.exec(t))?new ja(e[1],e[2],e[3],1):(e=Dhe.exec(t))?new ja(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=khe.exec(t))?n_(e[1],e[2],e[3],e[4]):(e=Uhe.exec(t))?n_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fhe.exec(t))?hz(e[1],e[2]/100,e[3]/100,1):(e=Bhe.exec(t))?hz(e[1],e[2]/100,e[3]/100,e[4]):oz.hasOwnProperty(t)?uz(oz[t]):t==="transparent"?new ja(NaN,NaN,NaN,0):null}function uz(t){return new ja(t>>16&255,t>>8&255,t&255,1)}function n_(t,e,n,r){return r<=0&&(t=e=n=NaN),new ja(t,e,n,r)}function Vhe(t){return t instanceof t0||(t=Eh(t)),t?(t=t.rgb(),new ja(t.r,t.g,t.b,t.opacity)):new ja}function WC(t,e,n,r){return arguments.length===1?Vhe(t):new ja(t,e,n,r??1)}function ja(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}lI(ja,WC,W6(t0,{brighter(t){return t=t==null?e1:Math.pow(e1,t),new ja(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ay:Math.pow(ay,t),new ja(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ja(mh(this.r),mh(this.g),mh(this.b),t1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cz,formatHex:cz,formatHex8:Hhe,formatRgb:fz,toString:fz}));function cz(){return`#${ih(this.r)}${ih(this.g)}${ih(this.b)}`}function Hhe(){return`#${ih(this.r)}${ih(this.g)}${ih(this.b)}${ih((isNaN(this.opacity)?1:this.opacity)*255)}`}function fz(){const t=t1(this.opacity);return`${t===1?"rgb(":"rgba("}${mh(this.r)}, ${mh(this.g)}, ${mh(this.b)}${t===1?")":`, ${t})`}`}function t1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ih(t){return t=mh(t),(t<16?"0":"")+t.toString(16)}function hz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new As(t,e,n,r)}function G6(t){if(t instanceof As)return new As(t.h,t.s,t.l,t.opacity);if(t instanceof t0||(t=Eh(t)),!t)return new As;if(t instanceof As)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new As(o,s,l,t.opacity)}function Whe(t,e,n,r){return arguments.length===1?G6(t):new As(t,e,n,r??1)}function As(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}lI(As,Whe,W6(t0,{brighter(t){return t=t==null?e1:Math.pow(e1,t),new As(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ay:Math.pow(ay,t),new As(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ja(gT(t>=240?t-240:t+120,i,r),gT(t,i,r),gT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new As(dz(this.h),r_(this.s),r_(this.l),t1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=t1(this.opacity);return`${t===1?"hsl(":"hsla("}${dz(this.h)}, ${r_(this.s)*100}%, ${r_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dz(t){return t=(t||0)%360,t<0?t+360:t}function r_(t){return Math.max(0,Math.min(1,t||0))}function gT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uI=t=>()=>t;function Ghe(t,e){return function(n){return t+n*e}}function $he(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qhe(t){return(t=+t)==1?$6:function(e,n){return n-e?$he(e,n,t):uI(isNaN(e)?n:e)}}function $6(t,e){var n=e-t;return n?Ghe(t,n):uI(isNaN(t)?e:t)}const n1=function t(e){var n=qhe(e);function r(i,a){var o=n((i=WC(i)).r,(a=WC(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=$6(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function Xhe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Yhe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Khe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Am(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Zhe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Es(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Jhe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Am(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var GC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vT=new RegExp(GC.source,"g");function Qhe(t){return function(){return t}}function ede(t){return function(e){return t(e)+""}}function q6(t,e){var n=GC.lastIndex=vT.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=GC.exec(t))&&(i=vT.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Es(r,i)})),n=vT.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?ede(l[0].x):Qhe(e):(e=l.length,function(u){for(var f=0,h;f<e;++f)s[(h=l[f]).i]=h.x(u);return s.join("")})}function Am(t,e){var n=typeof e,r;return e==null||n==="boolean"?uI(e):(n==="number"?Es:n==="string"?(r=Eh(e))?(e=r,n1):q6:e instanceof Eh?n1:e instanceof Date?Zhe:Yhe(e)?Xhe:Array.isArray(e)?Khe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Jhe:Es)(t,e)}function cI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var pz=180/Math.PI,$C={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function X6(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*pz,skewX:Math.atan(l)*pz,scaleX:o,scaleY:s}}var i_;function tde(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$C:X6(e.a,e.b,e.c,e.d,e.e,e.f)}function nde(t){return t==null||(i_||(i_=document.createElementNS("http://www.w3.org/2000/svg","g")),i_.setAttribute("transform",t),!(t=i_.transform.baseVal.consolidate()))?$C:(t=t.matrix,X6(t.a,t.b,t.c,t.d,t.e,t.f))}function Y6(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,f,h,p,v,_){if(u!==h||f!==p){var S=v.push("translate(",null,e,null,n);_.push({i:S-4,x:Es(u,h)},{i:S-2,x:Es(f,p)})}else(h||p)&&v.push("translate("+h+e+p+n)}function o(u,f,h,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Es(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function s(u,f,h,p){u!==f?p.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Es(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function l(u,f,h,p,v,_){if(u!==h||f!==p){var S=v.push(i(v)+"scale(",null,",",null,")");_.push({i:S-4,x:Es(u,h)},{i:S-2,x:Es(f,p)})}else(h!==1||p!==1)&&v.push(i(v)+"scale("+h+","+p+")")}return function(u,f){var h=[],p=[];return u=t(u),f=t(f),a(u.translateX,u.translateY,f.translateX,f.translateY,h,p),o(u.rotate,f.rotate,h,p),s(u.skewX,f.skewX,h,p),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,p),u=f=null,function(v){for(var _=-1,S=p.length,x;++_<S;)h[(x=p[_]).i]=x.x(v);return h.join("")}}}var rde=Y6(tde,"px, ","px)","deg)"),ide=Y6(nde,", ",")",")");function ade(t,e){e===void 0&&(e=t,t=Am);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function ode(t){return function(){return t}}function r1(t){return+t}var mz=[0,1];function wa(t){return t}function qC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ode(isNaN(e)?NaN:.5)}function sde(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lde(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=qC(i,r),a=n(o,a)):(r=qC(r,i),a=n(a,o)),function(s){return a(r(s))}}function ude(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=qC(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=e0(t,s,1,r)-1;return a[l](i[l](s))}}function n0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bw(){var t=mz,e=mz,n=Am,r,i,a,o=wa,s,l,u;function f(){var p=Math.min(t.length,e.length);return o!==wa&&(o=sde(t[0],t[p-1])),s=p>2?ude:lde,l=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(r),e,n)))(r(o(p)))}return h.invert=function(p){return o(i((u||(u=s(e,t.map(r),Es)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,r1),f()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),n=cI,f()},h.clamp=function(p){return arguments.length?(o=p?!0:wa,f()):o!==wa},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,v){return r=p,i=v,f()}}function fI(){return Bw()(wa,wa)}function cde(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function i1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qp(t){return t=i1(Math.abs(t)),t?t[1]:NaN}function fde(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function hde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var dde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sy(t){if(!(e=dde.exec(t)))throw new Error("invalid format: "+t);var e;return new hI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sy.prototype=hI.prototype;function hI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var K6;function mde(t,e){var n=i1(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(K6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+i1(t,Math.max(0,e+a-1))[0]}function gz(t,e){var n=i1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cde,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gz(t*100,e),r:gz,s:mde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yz(t){return t}var xz=Array.prototype.map,_z=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gde(t){var e=t.grouping===void 0||t.thousands===void 0?yz:fde(xz.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?yz:hde(xz.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=sy(h);var p=h.fill,v=h.align,_=h.sign,S=h.symbol,x=h.zero,w=h.width,E=h.comma,b=h.precision,T=h.trim,P=h.type;P==="n"?(E=!0,P="g"):vz[P]||(b===void 0&&(b=12),T=!0,P="g"),(x||p==="0"&&v==="=")&&(x=!0,p="0",v="=");var C=S==="$"?n:S==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",L=S==="$"?r:/[%p]/.test(P)?o:"",D=vz[P],I=/[defgprs%]/.test(P);b=b===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function F(z){var Y=C,H=L,K,ee,oe;if(P==="c")H=D(z)+H,z="";else{z=+z;var ae=z<0||1/z<0;if(z=isNaN(z)?l:D(Math.abs(z),b),T&&(z=pde(z)),ae&&+z==0&&_!=="+"&&(ae=!1),Y=(ae?_==="("?_:s:_==="-"||_==="("?"":_)+Y,H=(P==="s"?_z[8+K6/3]:"")+H+(ae&&_==="("?")":""),I){for(K=-1,ee=z.length;++K<ee;)if(oe=z.charCodeAt(K),48>oe||oe>57){H=(oe===46?i+z.slice(K+1):z.slice(K))+H,z=z.slice(0,K);break}}}E&&!x&&(z=e(z,1/0));var $=Y.length+z.length+H.length,re=$<w?new Array(w-$+1).join(p):"";switch(E&&x&&(z=e(re+z,re.length?w-H.length:1/0),re=""),v){case"<":z=Y+z+H+re;break;case"=":z=Y+re+z+H;break;case"^":z=re.slice(0,$=re.length>>1)+Y+z+H+re.slice($);break;default:z=re+Y+z+H;break}return a(z)}return F.toString=function(){return h+""},F}function f(h,p){var v=u((h=sy(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(qp(p)/3)))*3,S=Math.pow(10,-_),x=_z[8+_/3];return function(w){return v(S*w)+x}}return{format:u,formatPrefix:f}}var a_,dI,Z6;vde({thousands:",",grouping:[3],currency:["$",""]});function vde(t){return a_=gde(t),dI=a_.format,Z6=a_.formatPrefix,a_}function yde(t){return Math.max(0,-qp(Math.abs(t)))}function xde(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qp(e)/3)))*3-qp(Math.abs(t)))}function _de(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qp(e)-qp(t))+1}function J6(t,e,n,r){var i=VC(t,e,n),a;switch(r=sy(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=xde(i,o))&&(r.precision=a),Z6(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=_de(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=yde(i))&&(r.precision=a-(r.type==="%")*2);break}}return dI(r)}function Uc(t){var e=t.domain;return t.ticks=function(n){var r=e();return zC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return J6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=jC(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function a1(){var t=fI();return t.copy=function(){return n0(t,a1())},Wo.apply(t,arguments),Uc(t)}function Q6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,r1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Q6(t).unknown(e)},t=arguments.length?Array.from(t,r1):[0,1],Uc(n)}function eG(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function wz(t){return Math.log(t)}function Sz(t){return Math.exp(t)}function wde(t){return-Math.log(-t)}function Sde(t){return-Math.exp(-t)}function bde(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Mde(t){return t===10?bde:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ede(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bz(t){return(e,n)=>-t(-e,n)}function pI(t){const e=t(wz,Sz),n=e.domain;let r=10,i,a;function o(){return i=Ede(r),a=Mde(r),n()[0]<0?(i=bz(i),a=bz(a),t(wde,Sde)):t(wz,Sz),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const h=f<u;h&&([u,f]=[f,u]);let p=i(u),v=i(f),_,S;const x=s==null?10:+s;let w=[];if(!(r%1)&&v-p<x){if(p=Math.floor(p),v=Math.ceil(v),u>0){for(;p<=v;++p)for(_=1;_<r;++_)if(S=p<0?_/a(-p):_*a(p),!(S<u)){if(S>f)break;w.push(S)}}else for(;p<=v;++p)for(_=r-1;_>=1;--_)if(S=p>0?_/a(-p):_*a(p),!(S<u)){if(S>f)break;w.push(S)}w.length*2<x&&(w=zC(u,f,x))}else w=zC(p,v,Math.min(v-p,x)).map(a);return h?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=sy(l)).precision==null&&(l.trim=!0),l=dI(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?l(f):""}},e.nice=()=>n(eG(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function tG(){const t=pI(Bw()).domain([1,10]);return t.copy=()=>n0(t,tG()).base(t.base()),Wo.apply(t,arguments),t}function Mz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ez(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function mI(t){var e=1,n=t(Mz(e),Ez(e));return n.constant=function(r){return arguments.length?t(Mz(e=+r),Ez(e)):e},Uc(n)}function nG(){var t=mI(Bw());return t.copy=function(){return n0(t,nG()).constant(t.constant())},Wo.apply(t,arguments)}function Az(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ade(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tde(t){return t<0?-t*t:t*t}function gI(t){var e=t(wa,wa),n=1;function r(){return n===1?t(wa,wa):n===.5?t(Ade,Tde):t(Az(n),Az(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Uc(e)}function vI(){var t=gI(Bw());return t.copy=function(){return n0(t,vI()).exponent(t.exponent())},Wo.apply(t,arguments),t}function Pde(){return vI.apply(null,arguments).exponent(.5)}function Tz(t){return Math.sign(t)*t*t}function Cde(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function rG(){var t=fI(),e=[0,1],n=!1,r;function i(a){var o=Cde(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(Tz(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,r1)).map(Tz)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rG(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Wo.apply(i,arguments),Uc(i)}function iG(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Ohe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[e0(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Mc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return iG().domain(t).range(e).unknown(r)},Wo.apply(a,arguments)}function aG(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[e0(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return aG().domain([t,e]).range(i).unknown(a)},Wo.apply(Uc(o),arguments)}function oG(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[e0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return oG().domain(t).range(e).unknown(n)},Wo.apply(i,arguments)}const yT=new Date,xT=new Date;function gi(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>gi(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(yT.setTime(+a),xT.setTime(+o),t(yT),t(xT),Math.floor(n(yT,xT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const o1=gi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);o1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):o1);o1.range;const ou=1e3,jo=ou*60,su=jo*60,pu=su*24,yI=pu*7,Pz=pu*30,_T=pu*365,ah=gi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ou)},(t,e)=>(e-t)/ou,t=>t.getUTCSeconds());ah.range;const xI=gi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ou)},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getMinutes());xI.range;const _I=gi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getUTCMinutes());_I.range;const wI=gi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ou-t.getMinutes()*jo)},(t,e)=>{t.setTime(+t+e*su)},(t,e)=>(e-t)/su,t=>t.getHours());wI.range;const SI=gi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*su)},(t,e)=>(e-t)/su,t=>t.getUTCHours());SI.range;const r0=gi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jo)/pu,t=>t.getDate()-1);r0.range;const zw=gi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pu,t=>t.getUTCDate()-1);zw.range;const sG=gi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pu,t=>Math.floor(t/pu));sG.range;function Uh(t){return gi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*jo)/yI)}const jw=Uh(0),s1=Uh(1),Rde=Uh(2),Ode=Uh(3),Xp=Uh(4),Ide=Uh(5),Lde=Uh(6);jw.range;s1.range;Rde.range;Ode.range;Xp.range;Ide.range;Lde.range;function Fh(t){return gi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/yI)}const Vw=Fh(0),l1=Fh(1),Nde=Fh(2),Dde=Fh(3),Yp=Fh(4),kde=Fh(5),Ude=Fh(6);Vw.range;l1.range;Nde.range;Dde.range;Yp.range;kde.range;Ude.range;const bI=gi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());bI.range;const MI=gi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());MI.range;const mu=gi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());mu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});mu.range;const gu=gi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());gu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});gu.range;function lG(t,e,n,r,i,a){const o=[[ah,1,ou],[ah,5,5*ou],[ah,15,15*ou],[ah,30,30*ou],[a,1,jo],[a,5,5*jo],[a,15,15*jo],[a,30,30*jo],[i,1,su],[i,3,3*su],[i,6,6*su],[i,12,12*su],[r,1,pu],[r,2,2*pu],[n,1,yI],[e,1,Pz],[e,3,3*Pz],[t,1,_T]];function s(u,f,h){const p=f<u;p&&([u,f]=[f,u]);const v=h&&typeof h.range=="function"?h:l(u,f,h),_=v?v.range(u,+f+1):[];return p?_.reverse():_}function l(u,f,h){const p=Math.abs(f-u)/h,v=oI(([,,x])=>x).right(o,p);if(v===o.length)return t.every(VC(u/_T,f/_T,h));if(v===0)return o1.every(Math.max(VC(u,f,h),1));const[_,S]=o[p/o[v-1][2]<o[v][2]/p?v-1:v];return _.every(S)}return[s,l]}const[Fde,Bde]=lG(gu,MI,Vw,sG,SI,_I),[zde,jde]=lG(mu,bI,jw,r0,wI,xI);function wT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ST(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Vde(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Gg(i),f=$g(i),h=Gg(a),p=$g(a),v=Gg(o),_=$g(o),S=Gg(s),x=$g(s),w=Gg(l),E=$g(l),b={a:ae,A:$,b:re,B:J,c:null,d:Nz,e:Nz,f:fpe,g:wpe,G:bpe,H:lpe,I:upe,j:cpe,L:uG,m:hpe,M:dpe,p:j,q,Q:Uz,s:Fz,S:ppe,u:mpe,U:gpe,V:vpe,w:ype,W:xpe,x:null,X:null,y:_pe,Y:Spe,Z:Mpe,"%":kz},T={a:pe,A:_e,b:Re,B:Ie,c:null,d:Dz,e:Dz,f:Ppe,g:Fpe,G:zpe,H:Epe,I:Ape,j:Tpe,L:fG,m:Cpe,M:Rpe,p:Ye,q:Xe,Q:Uz,s:Fz,S:Ope,u:Ipe,U:Lpe,V:Npe,w:Dpe,W:kpe,x:null,X:null,y:Upe,Y:Bpe,Z:jpe,"%":kz},P={a:F,A:z,b:Y,B:H,c:K,d:Iz,e:Iz,f:ipe,g:Oz,G:Rz,H:Lz,I:Lz,j:epe,L:rpe,m:Qde,M:tpe,p:I,q:Jde,Q:ope,s:spe,S:npe,u:qde,U:Xde,V:Yde,w:$de,W:Kde,x:ee,X:oe,y:Oz,Y:Rz,Z:Zde,"%":ape};b.x=C(n,b),b.X=C(r,b),b.c=C(e,b),T.x=C(n,T),T.X=C(r,T),T.c=C(e,T);function C(ke,Ze){return function(Fe){var Z=[],Ne=-1,be=0,qe=ke.length,Be,ot,lt;for(Fe instanceof Date||(Fe=new Date(+Fe));++Ne<qe;)ke.charCodeAt(Ne)===37&&(Z.push(ke.slice(be,Ne)),(ot=Cz[Be=ke.charAt(++Ne)])!=null?Be=ke.charAt(++Ne):ot=Be==="e"?" ":"0",(lt=Ze[Be])&&(Be=lt(Fe,ot)),Z.push(Be),be=Ne+1);return Z.push(ke.slice(be,Ne)),Z.join("")}}function L(ke,Ze){return function(Fe){var Z=Wg(1900,void 0,1),Ne=D(Z,ke,Fe+="",0),be,qe;if(Ne!=Fe.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Ze&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(be=ST(Wg(Z.y,0,1)),qe=be.getUTCDay(),be=qe>4||qe===0?l1.ceil(be):l1(be),be=zw.offset(be,(Z.V-1)*7),Z.y=be.getUTCFullYear(),Z.m=be.getUTCMonth(),Z.d=be.getUTCDate()+(Z.w+6)%7):(be=wT(Wg(Z.y,0,1)),qe=be.getDay(),be=qe>4||qe===0?s1.ceil(be):s1(be),be=r0.offset(be,(Z.V-1)*7),Z.y=be.getFullYear(),Z.m=be.getMonth(),Z.d=be.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),qe="Z"in Z?ST(Wg(Z.y,0,1)).getUTCDay():wT(Wg(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(qe+5)%7:Z.w+Z.U*7-(qe+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,ST(Z)):wT(Z)}}function D(ke,Ze,Fe,Z){for(var Ne=0,be=Ze.length,qe=Fe.length,Be,ot;Ne<be;){if(Z>=qe)return-1;if(Be=Ze.charCodeAt(Ne++),Be===37){if(Be=Ze.charAt(Ne++),ot=P[Be in Cz?Ze.charAt(Ne++):Be],!ot||(Z=ot(ke,Fe,Z))<0)return-1}else if(Be!=Fe.charCodeAt(Z++))return-1}return Z}function I(ke,Ze,Fe){var Z=u.exec(Ze.slice(Fe));return Z?(ke.p=f.get(Z[0].toLowerCase()),Fe+Z[0].length):-1}function F(ke,Ze,Fe){var Z=v.exec(Ze.slice(Fe));return Z?(ke.w=_.get(Z[0].toLowerCase()),Fe+Z[0].length):-1}function z(ke,Ze,Fe){var Z=h.exec(Ze.slice(Fe));return Z?(ke.w=p.get(Z[0].toLowerCase()),Fe+Z[0].length):-1}function Y(ke,Ze,Fe){var Z=w.exec(Ze.slice(Fe));return Z?(ke.m=E.get(Z[0].toLowerCase()),Fe+Z[0].length):-1}function H(ke,Ze,Fe){var Z=S.exec(Ze.slice(Fe));return Z?(ke.m=x.get(Z[0].toLowerCase()),Fe+Z[0].length):-1}function K(ke,Ze,Fe){return D(ke,e,Ze,Fe)}function ee(ke,Ze,Fe){return D(ke,n,Ze,Fe)}function oe(ke,Ze,Fe){return D(ke,r,Ze,Fe)}function ae(ke){return o[ke.getDay()]}function $(ke){return a[ke.getDay()]}function re(ke){return l[ke.getMonth()]}function J(ke){return s[ke.getMonth()]}function j(ke){return i[+(ke.getHours()>=12)]}function q(ke){return 1+~~(ke.getMonth()/3)}function pe(ke){return o[ke.getUTCDay()]}function _e(ke){return a[ke.getUTCDay()]}function Re(ke){return l[ke.getUTCMonth()]}function Ie(ke){return s[ke.getUTCMonth()]}function Ye(ke){return i[+(ke.getUTCHours()>=12)]}function Xe(ke){return 1+~~(ke.getUTCMonth()/3)}return{format:function(ke){var Ze=C(ke+="",b);return Ze.toString=function(){return ke},Ze},parse:function(ke){var Ze=L(ke+="",!1);return Ze.toString=function(){return ke},Ze},utcFormat:function(ke){var Ze=C(ke+="",T);return Ze.toString=function(){return ke},Ze},utcParse:function(ke){var Ze=L(ke+="",!0);return Ze.toString=function(){return ke},Ze}}}var Cz={"-":"",_:" ",0:"0"},Ti=/^\s*\d+/,Hde=/^%/,Wde=/[\\^$*+?|[\]().{}]/g;function Bn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Gde(t){return t.replace(Wde,"\\$&")}function Gg(t){return new RegExp("^(?:"+t.map(Gde).join("|")+")","i")}function $g(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $de(t,e,n){var r=Ti.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qde(t,e,n){var r=Ti.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Xde(t,e,n){var r=Ti.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Yde(t,e,n){var r=Ti.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Kde(t,e,n){var r=Ti.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Rz(t,e,n){var r=Ti.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Oz(t,e,n){var r=Ti.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zde(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Jde(t,e,n){var r=Ti.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Qde(t,e,n){var r=Ti.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Iz(t,e,n){var r=Ti.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function epe(t,e,n){var r=Ti.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Lz(t,e,n){var r=Ti.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tpe(t,e,n){var r=Ti.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function npe(t,e,n){var r=Ti.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rpe(t,e,n){var r=Ti.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ipe(t,e,n){var r=Ti.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ape(t,e,n){var r=Hde.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ope(t,e,n){var r=Ti.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function spe(t,e,n){var r=Ti.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Nz(t,e){return Bn(t.getDate(),e,2)}function lpe(t,e){return Bn(t.getHours(),e,2)}function upe(t,e){return Bn(t.getHours()%12||12,e,2)}function cpe(t,e){return Bn(1+r0.count(mu(t),t),e,3)}function uG(t,e){return Bn(t.getMilliseconds(),e,3)}function fpe(t,e){return uG(t,e)+"000"}function hpe(t,e){return Bn(t.getMonth()+1,e,2)}function dpe(t,e){return Bn(t.getMinutes(),e,2)}function ppe(t,e){return Bn(t.getSeconds(),e,2)}function mpe(t){var e=t.getDay();return e===0?7:e}function gpe(t,e){return Bn(jw.count(mu(t)-1,t),e,2)}function cG(t){var e=t.getDay();return e>=4||e===0?Xp(t):Xp.ceil(t)}function vpe(t,e){return t=cG(t),Bn(Xp.count(mu(t),t)+(mu(t).getDay()===4),e,2)}function ype(t){return t.getDay()}function xpe(t,e){return Bn(s1.count(mu(t)-1,t),e,2)}function _pe(t,e){return Bn(t.getFullYear()%100,e,2)}function wpe(t,e){return t=cG(t),Bn(t.getFullYear()%100,e,2)}function Spe(t,e){return Bn(t.getFullYear()%1e4,e,4)}function bpe(t,e){var n=t.getDay();return t=n>=4||n===0?Xp(t):Xp.ceil(t),Bn(t.getFullYear()%1e4,e,4)}function Mpe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Bn(e/60|0,"0",2)+Bn(e%60,"0",2)}function Dz(t,e){return Bn(t.getUTCDate(),e,2)}function Epe(t,e){return Bn(t.getUTCHours(),e,2)}function Ape(t,e){return Bn(t.getUTCHours()%12||12,e,2)}function Tpe(t,e){return Bn(1+zw.count(gu(t),t),e,3)}function fG(t,e){return Bn(t.getUTCMilliseconds(),e,3)}function Ppe(t,e){return fG(t,e)+"000"}function Cpe(t,e){return Bn(t.getUTCMonth()+1,e,2)}function Rpe(t,e){return Bn(t.getUTCMinutes(),e,2)}function Ope(t,e){return Bn(t.getUTCSeconds(),e,2)}function Ipe(t){var e=t.getUTCDay();return e===0?7:e}function Lpe(t,e){return Bn(Vw.count(gu(t)-1,t),e,2)}function hG(t){var e=t.getUTCDay();return e>=4||e===0?Yp(t):Yp.ceil(t)}function Npe(t,e){return t=hG(t),Bn(Yp.count(gu(t),t)+(gu(t).getUTCDay()===4),e,2)}function Dpe(t){return t.getUTCDay()}function kpe(t,e){return Bn(l1.count(gu(t)-1,t),e,2)}function Upe(t,e){return Bn(t.getUTCFullYear()%100,e,2)}function Fpe(t,e){return t=hG(t),Bn(t.getUTCFullYear()%100,e,2)}function Bpe(t,e){return Bn(t.getUTCFullYear()%1e4,e,4)}function zpe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Yp(t):Yp.ceil(t),Bn(t.getUTCFullYear()%1e4,e,4)}function jpe(){return"+0000"}function kz(){return"%"}function Uz(t){return+t}function Fz(t){return Math.floor(+t/1e3)}var lp,dG,pG;Vpe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vpe(t){return lp=Vde(t),dG=lp.format,lp.parse,pG=lp.utcFormat,lp.utcParse,lp}function Hpe(t){return new Date(t)}function Wpe(t){return t instanceof Date?+t:+new Date(+t)}function EI(t,e,n,r,i,a,o,s,l,u){var f=fI(),h=f.invert,p=f.domain,v=u(".%L"),_=u(":%S"),S=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),E=u("%b %d"),b=u("%B"),T=u("%Y");function P(C){return(l(C)<C?v:s(C)<C?_:o(C)<C?S:a(C)<C?x:r(C)<C?i(C)<C?w:E:n(C)<C?b:T)(C)}return f.invert=function(C){return new Date(h(C))},f.domain=function(C){return arguments.length?p(Array.from(C,Wpe)):p().map(Hpe)},f.ticks=function(C){var L=p();return t(L[0],L[L.length-1],C??10)},f.tickFormat=function(C,L){return L==null?P:u(L)},f.nice=function(C){var L=p();return(!C||typeof C.range!="function")&&(C=e(L[0],L[L.length-1],C??10)),C?p(eG(L,C)):f},f.copy=function(){return n0(f,EI(t,e,n,r,i,a,o,s,l,u))},f}function Gpe(){return Wo.apply(EI(zde,jde,mu,bI,jw,r0,wI,xI,ah,dG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $pe(){return Wo.apply(EI(Fde,Bde,gu,MI,Vw,zw,SI,_I,ah,pG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hw(){var t=0,e=1,n,r,i,a,o=wa,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(a(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(p){var v,_;return arguments.length?([v,_]=p,o=h(v,_),u):[o(0),o(1)]}}return u.range=f(Am),u.rangeRound=f(cI),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Fc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mG(){var t=Uc(Hw()(wa));return t.copy=function(){return Fc(t,mG())},bu.apply(t,arguments)}function gG(){var t=pI(Hw()).domain([1,10]);return t.copy=function(){return Fc(t,gG()).base(t.base())},bu.apply(t,arguments)}function vG(){var t=mI(Hw());return t.copy=function(){return Fc(t,vG()).constant(t.constant())},bu.apply(t,arguments)}function AI(){var t=gI(Hw());return t.copy=function(){return Fc(t,AI()).exponent(t.exponent())},bu.apply(t,arguments)}function qpe(){return AI.apply(null,arguments).exponent(.5)}function yG(){var t=[],e=wa;function n(r){if(r!=null&&!isNaN(r=+r))return e((e0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Mc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Rhe(t,a/r))},n.copy=function(){return yG(e).domain(t)},bu.apply(n,arguments)}function Ww(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=wa,f,h=!1,p;function v(S){return isNaN(S=+S)?p:(S=.5+((S=+f(S))-a)*(r*S<r*a?s:l),u(h?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([t,e,n]=S,i=f(t=+t),a=f(e=+e),o=f(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(S){return arguments.length?(h=!!S,v):h},v.interpolator=function(S){return arguments.length?(u=S,v):u};function _(S){return function(x){var w,E,b;return arguments.length?([w,E,b]=x,u=ade(S,[w,E,b]),v):[u(0),u(.5),u(1)]}}return v.range=_(Am),v.rangeRound=_(cI),v.unknown=function(S){return arguments.length?(p=S,v):p},function(S){return f=S,i=S(t),a=S(e),o=S(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,v}}function xG(){var t=Uc(Ww()(wa));return t.copy=function(){return Fc(t,xG())},bu.apply(t,arguments)}function _G(){var t=pI(Ww()).domain([.1,1,10]);return t.copy=function(){return Fc(t,_G()).base(t.base())},bu.apply(t,arguments)}function wG(){var t=mI(Ww());return t.copy=function(){return Fc(t,wG()).constant(t.constant())},bu.apply(t,arguments)}function TI(){var t=gI(Ww());return t.copy=function(){return Fc(t,TI()).exponent(t.exponent())},bu.apply(t,arguments)}function Xpe(){return TI.apply(null,arguments).exponent(.5)}const Bz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:iy,scaleDiverging:xG,scaleDivergingLog:_G,scaleDivergingPow:TI,scaleDivergingSqrt:Xpe,scaleDivergingSymlog:wG,scaleIdentity:Q6,scaleImplicit:HC,scaleLinear:a1,scaleLog:tG,scaleOrdinal:sI,scalePoint:wv,scalePow:vI,scaleQuantile:iG,scaleQuantize:aG,scaleRadial:rG,scaleSequential:mG,scaleSequentialLog:gG,scaleSequentialPow:AI,scaleSequentialQuantile:yG,scaleSequentialSqrt:qpe,scaleSequentialSymlog:vG,scaleSqrt:Pde,scaleSymlog:nG,scaleThreshold:oG,scaleTime:Gpe,scaleUtc:$pe,tickFormat:J6},Symbol.toStringTag,{value:"Module"}));var bT,zz;function Gw(){if(zz)return bT;zz=1;var t=Sm();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,f=s}return f}return bT=e,bT}var MT,jz;function SG(){if(jz)return MT;jz=1;function t(e,n){return e>n}return MT=t,MT}var ET,Vz;function Ype(){if(Vz)return ET;Vz=1;var t=Gw(),e=SG(),n=Mm();function r(i){return i&&i.length?t(i,n,e):void 0}return ET=r,ET}var Kpe=Ype();const $w=$n(Kpe);var AT,Hz;function bG(){if(Hz)return AT;Hz=1;function t(e,n){return e<n}return AT=t,AT}var TT,Wz;function Zpe(){if(Wz)return TT;Wz=1;var t=Gw(),e=bG(),n=Mm();function r(i){return i&&i.length?t(i,n,e):void 0}return TT=r,TT}var Jpe=Zpe();const qw=$n(Jpe);var PT,Gz;function Qpe(){if(Gz)return PT;Gz=1;var t=HO(),e=pl(),n=T6(),r=Ga();function i(a,o){var s=r(a)?t:n;return s(a,e(o,3))}return PT=i,PT}var CT,$z;function eme(){if($z)return CT;$z=1;var t=E6(),e=Qpe();function n(r,i){return t(e(r,i),1)}return CT=n,CT}var tme=eme();const nme=$n(tme);var RT,qz;function rme(){if(qz)return RT;qz=1;var t=nI();function e(n,r){return t(n,r)}return RT=e,RT}var ime=rme();const Xw=$n(ime);var Tm=1e9,ame={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CI,Mr=!0,Ho="[DecimalError] ",gh=Ho+"Invalid argument: ",PI=Ho+"Exponent out of range: ",Pm=Math.floor,Gf=Math.pow,ome=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,so,Mi=1e7,gr=7,MG=9007199254740991,u1=Pm(MG/gr),Ct={};Ct.absoluteValue=Ct.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ct.comparedTo=Ct.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ct.decimalPlaces=Ct.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*gr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ct.dividedBy=Ct.div=function(t){return cu(this,new this.constructor(t))};Ct.dividedToIntegerBy=Ct.idiv=function(t){var e=this,n=e.constructor;return ar(cu(e,new n(t),0,1),n.precision)};Ct.equals=Ct.eq=function(t){return!this.cmp(t)};Ct.exponent=function(){return ti(this)};Ct.greaterThan=Ct.gt=function(t){return this.cmp(t)>0};Ct.greaterThanOrEqualTo=Ct.gte=function(t){return this.cmp(t)>=0};Ct.isInteger=Ct.isint=function(){return this.e>this.d.length-2};Ct.isNegative=Ct.isneg=function(){return this.s<0};Ct.isPositive=Ct.ispos=function(){return this.s>0};Ct.isZero=function(){return this.s===0};Ct.lessThan=Ct.lt=function(t){return this.cmp(t)<0};Ct.lessThanOrEqualTo=Ct.lte=function(t){return this.cmp(t)<1};Ct.logarithm=Ct.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(so))throw Error(Ho+"NaN");if(n.s<1)throw Error(Ho+(n.s?"NaN":"-Infinity"));return n.eq(so)?new r(0):(Mr=!1,e=cu(ly(n,a),ly(t,a),a),Mr=!0,ar(e,i))};Ct.minus=Ct.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TG(e,t):EG(e,(t.s=-t.s,t))};Ct.modulo=Ct.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ho+"NaN");return n.s?(Mr=!1,e=cu(n,t,0,1).times(t),Mr=!0,n.minus(e)):ar(new r(n),i)};Ct.naturalExponential=Ct.exp=function(){return AG(this)};Ct.naturalLogarithm=Ct.ln=function(){return ly(this)};Ct.negated=Ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ct.plus=Ct.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EG(e,t):TG(e,(t.s=-t.s,t))};Ct.precision=Ct.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gh+t);if(e=ti(i)+1,r=i.d.length-1,n=r*gr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ct.squareRoot=Ct.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ho+"NaN")}for(t=ti(s),Mr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=nl(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(cu(s,a,o+2)).times(.5),nl(a.d).slice(0,o)===(e=nl(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ar(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Mr=!0,ar(r,n)};Ct.times=Ct.mul=function(t){var e,n,r,i,a,o,s,l,u,f=this,h=f.constructor,p=f.d,v=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,l=p.length,u=v.length,l<u&&(a=p,p=v,v=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+v[r]*p[i-r-1]+e,a[i--]=s%Mi|0,e=s/Mi|0;a[i]=(a[i]+e)%Mi|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Mr?ar(t,h.precision):t};Ct.toDecimalPlaces=Ct.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fl(t,0,Tm),e===void 0?e=r.rounding:fl(e,0,8),ar(n,t+ti(n)+1,e))};Ct.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ah(r,!0):(fl(t,0,Tm),e===void 0?e=i.rounding:fl(e,0,8),r=ar(new i(r),t+1,e),n=Ah(r,!0,t+1)),n};Ct.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ah(i):(fl(t,0,Tm),e===void 0?e=a.rounding:fl(e,0,8),r=ar(new a(i),t+ti(i)+1,e),n=Ah(r.abs(),!1,t+ti(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ct.toInteger=Ct.toint=function(){var t=this,e=t.constructor;return ar(new e(t),ti(t)+1,e.rounding)};Ct.toNumber=function(){return+this};Ct.toPower=Ct.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(so);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ho+"Infinity");return s}if(s.eq(so))return s;if(r=l.precision,t.eq(so))return ar(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=f<0?-f:f)<=MG){for(i=new l(so),e=Math.ceil(r/gr+4),Mr=!1;n%2&&(i=i.times(s),Yz(i.d,e)),n=Pm(n/2),n!==0;)s=s.times(s),Yz(s.d,e);return Mr=!0,t.s<0?new l(so).div(i):ar(i,r)}}else if(a<0)throw Error(Ho+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Mr=!1,i=t.times(ly(s,r+u)),Mr=!0,i=AG(i),i.s=a,i};Ct.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ti(i),r=Ah(i,n<=a.toExpNeg||n>=a.toExpPos)):(fl(t,1,Tm),e===void 0?e=a.rounding:fl(e,0,8),i=ar(new a(i),t,e),n=ti(i),r=Ah(i,t<=n||n<=a.toExpNeg,t)),r};Ct.toSignificantDigits=Ct.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fl(t,1,Tm),e===void 0?e=r.rounding:fl(e,0,8)),ar(new r(n),t,e)};Ct.toString=Ct.valueOf=Ct.val=Ct.toJSON=Ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ti(t),n=t.constructor;return Ah(t,e<=n.toExpNeg||e>=n.toExpPos)};function EG(t,e){var n,r,i,a,o,s,l,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Mr?ar(e,h):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(h/gr),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Mi|0,l[a]%=Mi;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Mr?ar(e,h):e}function fl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gh+t)}function nl(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=gr-r.length,n&&(a+=mc(n)),a+=r;o=t[e],r=o+"",n=gr-r.length,n&&(a+=mc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var cu=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Mi|0,o=a/Mi|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Mi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,f,h,p,v,_,S,x,w,E,b,T,P,C,L,D,I=r.constructor,F=r.s==i.s?1:-1,z=r.d,Y=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Ho+"Division by zero");for(l=r.e-i.e,L=Y.length,P=z.length,v=new I(F),_=v.d=[],u=0;Y[u]==(z[u]||0);)++u;if(Y[u]>(z[u]||0)&&--l,a==null?E=a=I.precision:o?E=a+(ti(r)-ti(i))+1:E=a,E<0)return new I(0);if(E=E/gr+2|0,u=0,L==1)for(f=0,Y=Y[0],E++;(u<P||f)&&E--;u++)b=f*Mi+(z[u]||0),_[u]=b/Y|0,f=b%Y|0;else{for(f=Mi/(Y[0]+1)|0,f>1&&(Y=t(Y,f),z=t(z,f),L=Y.length,P=z.length),T=L,S=z.slice(0,L),x=S.length;x<L;)S[x++]=0;D=Y.slice(),D.unshift(0),C=Y[0],Y[1]>=Mi/2&&++C;do f=0,s=e(Y,S,L,x),s<0?(w=S[0],L!=x&&(w=w*Mi+(S[1]||0)),f=w/C|0,f>1?(f>=Mi&&(f=Mi-1),h=t(Y,f),p=h.length,x=S.length,s=e(h,S,p,x),s==1&&(f--,n(h,L<p?D:Y,p))):(f==0&&(s=f=1),h=Y.slice()),p=h.length,p<x&&h.unshift(0),n(S,h,x),s==-1&&(x=S.length,s=e(Y,S,L,x),s<1&&(f++,n(S,L<x?D:Y,x))),x=S.length):s===0&&(f++,S=[0]),_[u++]=f,s&&S[0]?S[x++]=z[T]||0:(S=[z[T]],x=1);while((T++<P||S[0]!==void 0)&&E--)}return _[0]||_.shift(),v.e=l,ar(v,o?a+ti(v)+1:a)}}();function AG(t,e){var n,r,i,a,o,s,l=0,u=0,f=t.constructor,h=f.precision;if(ti(t)>16)throw Error(PI+ti(t));if(!t.s)return new f(so);for(Mr=!1,s=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Gf(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new f(so),f.precision=s;;){if(i=ar(i.times(t),s),n=n.times(++l),o=a.plus(cu(i,n,s)),nl(o.d).slice(0,s)===nl(a.d).slice(0,s)){for(;u--;)a=ar(a.times(a),s);return f.precision=h,e==null?(Mr=!0,ar(a,h)):a}a=o}}function ti(t){for(var e=t.e*gr,n=t.d[0];n>=10;n/=10)e++;return e}function OT(t,e,n){if(e>t.LN10.sd())throw Mr=!0,n&&(t.precision=n),Error(Ho+"LN10 precision limit exceeded");return ar(new t(t.LN10),e)}function mc(t){for(var e="";t--;)e+="0";return e}function ly(t,e){var n,r,i,a,o,s,l,u,f,h=1,p=10,v=t,_=v.d,S=v.constructor,x=S.precision;if(v.s<1)throw Error(Ho+(v.s?"NaN":"-Infinity"));if(v.eq(so))return new S(0);if(e==null?(Mr=!1,u=x):u=e,v.eq(10))return e==null&&(Mr=!0),OT(S,u);if(u+=p,S.precision=u,n=nl(_),r=n.charAt(0),a=ti(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=nl(v.d),r=n.charAt(0),h++;a=ti(v),r>1?(v=new S("0."+n),a++):v=new S(r+"."+n.slice(1))}else return l=OT(S,u+2,x).times(a+""),v=ly(new S(r+"."+n.slice(1)),u-p).plus(l),S.precision=x,e==null?(Mr=!0,ar(v,x)):v;for(s=o=v=cu(v.minus(so),v.plus(so),u),f=ar(v.times(v),u),i=3;;){if(o=ar(o.times(f),u),l=s.plus(cu(o,new S(i),u)),nl(l.d).slice(0,u)===nl(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(OT(S,u+2,x).times(a+""))),s=cu(s,new S(h),u),S.precision=x,e==null?(Mr=!0,ar(s,x)):s;s=l,i+=2}}function Xz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Pm(n/gr),t.d=[],r=(n+1)%gr,n<0&&(r+=gr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=gr;r<i;)t.d.push(+e.slice(r,r+=gr));e=e.slice(r),r=gr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Mr&&(t.e>u1||t.e<-u1))throw Error(PI+n)}else t.s=0,t.e=0,t.d=[0];return t}function ar(t,e,n){var r,i,a,o,s,l,u,f,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=gr,i=e,u=h[f=0];else{if(f=Math.ceil((r+1)/gr),a=h.length,f>=a)return t;for(u=a=h[f],o=1;a>=10;a/=10)o++;r%=gr,i=r-gr+o}if(n!==void 0&&(a=Gf(10,o-i-1),s=u/a%10|0,l=e<0||h[f+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Gf(10,o-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(a=ti(t),h.length=1,e=e-a-1,h[0]=Gf(10,(gr-e%gr)%gr),t.e=Pm(-e/gr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=Gf(10,gr-r),h[f]=i>0?(u/Gf(10,o-i)%Gf(10,i)|0)*a:0),l)for(;;)if(f==0){(h[0]+=a)==Mi&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=Mi)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(Mr&&(t.e>u1||t.e<-u1))throw Error(PI+ti(t));return t}function TG(t,e){var n,r,i,a,o,s,l,u,f,h,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Mr?ar(e,v):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,s=h.length):(n=h,r=u,s=l.length),i=Math.max(Math.ceil(v/gr),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=h.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}o=0}for(f&&(n=l,l=h,h=n,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=Mi-1;--l[a],l[i]+=Mi}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Mr?ar(e,v):e):new p(0)}function Ah(t,e,n){var r,i=ti(t),a=nl(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+mc(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+mc(-i-1)+a,n&&(r=n-o)>0&&(a+=mc(r))):i>=o?(a+=mc(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+mc(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=mc(r))),t.s<0?"-"+a:a}function Yz(t,e){if(t.length>e)return t.length=e,!0}function PG(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(gh+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Xz(o,a.toString())}else if(typeof a!="string")throw Error(gh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ome.test(a))Xz(o,a);else throw Error(gh+a)}if(i.prototype=Ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PG,i.config=i.set=sme,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function sme(t){if(!t||typeof t!="object")throw Error(Ho+"Object expected");var e,n,r,i=["precision",1,Tm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Pm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gh+n+": "+r);return this}var CI=PG(ame);so=new CI(1);const Qn=CI;function lme(t){return hme(t)||fme(t)||cme(t)||ume()}function ume(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cme(t,e){if(t){if(typeof t=="string")return XC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XC(t,e)}}function fme(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hme(t){if(Array.isArray(t))return XC(t)}function XC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dme=function(e){return e},CG={},RG=function(e){return e===CG},Kz=function(e){return function n(){return arguments.length===0||arguments.length===1&&RG(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},pme=function t(e,n){return e===1?n:Kz(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==CG}).length;return o>=e?n.apply(void 0,i):t(e-o,Kz(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(h){return RG(h)?l.shift():h});return n.apply(void 0,lme(f).concat(l))}))})},Yw=function(e){return pme(e.length,e)},YC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},mme=Yw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),gme=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return dme;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},KC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},OG=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function vme(t){var e;return t===0?e=1:e=Math.floor(new Qn(t).abs().log(10).toNumber())+1,e}function yme(t,e,n){for(var r=new Qn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var xme=Yw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),_me=Yw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),wme=Yw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Kw={rangeStep:yme,getDigitCount:vme,interpolateNumber:xme,uninterpolateNumber:_me,uninterpolateTruncation:wme};function ZC(t){return Mme(t)||bme(t)||IG(t)||Sme()}function Sme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Mme(t){if(Array.isArray(t))return JC(t)}function uy(t,e){return Tme(t)||Ame(t,e)||IG(t,e)||Eme()}function Eme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IG(t,e){if(t){if(typeof t=="string")return JC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JC(t,e)}}function JC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ame(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Tme(t){if(Array.isArray(t))return t}function LG(t){var e=uy(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function NG(t,e,n){if(t.lte(0))return new Qn(0);var r=Kw.getDigitCount(t.toNumber()),i=new Qn(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Qn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Qn(Math.ceil(l))}function Pme(t,e,n){var r=1,i=new Qn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Qn(10).pow(Kw.getDigitCount(t)-1),i=new Qn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Qn(Math.floor(t)))}else t===0?i=new Qn(Math.floor((e-1)/2)):n||(i=new Qn(Math.floor(t)));var o=Math.floor((e-1)/2),s=gme(mme(function(l){return i.add(new Qn(l-o).mul(r)).toNumber()}),YC);return s(0,e)}function DG(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Qn(0),tickMin:new Qn(0),tickMax:new Qn(0)};var a=NG(new Qn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Qn(0):(o=new Qn(t).add(e).div(2),o=o.sub(new Qn(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Qn(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?DG(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Qn(s).mul(a)),tickMax:o.add(new Qn(l).mul(a))})}function Cme(t){var e=uy(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=LG([n,r]),l=uy(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(ZC(YC(0,i-1).map(function(){return 1/0}))):[].concat(ZC(YC(0,i-1).map(function(){return-1/0})),[f]);return n>r?KC(h):h}if(u===f)return Pme(u,i,a);var p=DG(u,f,o,a),v=p.step,_=p.tickMin,S=p.tickMax,x=Kw.rangeStep(_,S.add(new Qn(.1).mul(v)),v);return n>r?KC(x):x}function Rme(t,e){var n=uy(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=LG([r,i]),s=uy(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),h=NG(new Qn(u).sub(l).div(f-1),a,0),p=[].concat(ZC(Kw.rangeStep(new Qn(l),new Qn(u).sub(new Qn(.99).mul(h)),h)),[u]);return r>i?KC(p):p}var Ome=OG(Cme),Ime=OG(Rme),Lme="Invariant failed";function Th(t,e){throw new Error(Lme)}var Nme=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(this,arguments)}function Dme(t,e){return Bme(t)||Fme(t,e)||Ume(t,e)||kme()}function kme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ume(t,e){if(t){if(typeof t=="string")return Zz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zz(t,e)}}function Zz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Bme(t){if(Array.isArray(t))return t}function zme(t,e){if(t==null)return{};var n=jme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FG(r.key),r)}}function Wme(t,e,n){return e&&Hme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gme(t,e,n){return e=f1(e),$me(t,kG()?Reflect.construct(e,n||[],f1(t).constructor):e.apply(t,n))}function $me(t,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qme(t)}function qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kG=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f1(t)}function Xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QC(t,e)}function QC(t,e){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QC(t,e)}function UG(t,e,n){return e=FG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t){var e=Yme(t,"string");return Kp(e)=="symbol"?e:e+""}function Yme(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zw=function(t){function e(){return Vme(this,e),Gme(this,e,arguments)}return Xme(e,t),Wme(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,p=zme(r,Nme),v=Qt(p,!1);this.props.direction==="x"&&f.type!=="number"&&Th();var _=l.map(function(S){var x=u(S,s),w=x.x,E=x.y,b=x.value,T=x.errorVal;if(!T)return null;var P=[],C,L;if(Array.isArray(T)){var D=Dme(T,2);C=D[0],L=D[1]}else C=L=T;if(a==="vertical"){var I=f.scale,F=E+i,z=F+o,Y=F-o,H=I(b-C),K=I(b+L);P.push({x1:K,y1:z,x2:K,y2:Y}),P.push({x1:H,y1:F,x2:K,y2:F}),P.push({x1:H,y1:z,x2:H,y2:Y})}else if(a==="horizontal"){var ee=h.scale,oe=w+i,ae=oe-o,$=oe+o,re=ee(b-C),J=ee(b+L);P.push({x1:ae,y1:J,x2:$,y2:J}),P.push({x1:oe,y1:re,x2:oe,y2:J}),P.push({x1:ae,y1:re,x2:$,y2:re})}return ge.createElement(Xn,c1({className:"recharts-errorBar",key:"bar-".concat(P.map(function(j){return"".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))},v),P.map(function(j){return ge.createElement("line",c1({},j,{key:"line-".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))}))});return ge.createElement(Xn,{className:"recharts-errorBars"},_)}}])}(ge.Component);UG(Zw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UG(Zw,"displayName","ErrorBar");function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function Jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(n),!0).forEach(function(r){Kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kme(t,e,n){return e=Zme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zme(t){var e=Jme(t,"string");return cy(e)=="symbol"?e:e+""}function Jme(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BG=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=oo(n,Op);if(!o)return null;var s=Op.defaultProps,l=s!==void 0?Uf(Uf({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(f,h){var p=h.item,v=h.props,_=v.sectors||v.data||[];return f.concat(_.map(function(S){return{type:o.props.iconType||p.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):u=(r||[]).map(function(f){var h=f.item,p=h.type.defaultProps,v=p!==void 0?Uf(Uf({},p),h.props):{},_=v.dataKey,S=v.name,x=v.legendType,w=v.hide;return{inactive:w,dataKey:_,type:l.iconType||x||"square",color:RI(h),value:S||_,payload:v}}),Uf(Uf(Uf({},l),Op.getWithHeight(o,i)),{},{payload:u,item:o})};function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function Qz(t){return nge(t)||tge(t)||ege(t)||Qme()}function Qme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ege(t,e){if(t){if(typeof t=="string")return e2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e2(t,e)}}function tge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nge(t){if(Array.isArray(t))return e2(t)}function e2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){Lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lp(t,e,n){return e=rge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rge(t){var e=ige(t,"string");return fy(e)=="symbol"?e:e+""}function ige(t,e){if(fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qi(t,e,n){return Sn(t)||Sn(e)?n:di(e)?po(t,e,n):rn(e)?e(t):n}function Sv(t,e,n,r){var i=nme(t,function(s){return Qi(s,e)});if(n==="number"){var a=i.filter(function(s){return ct(s)||parseFloat(s)});return a.length?[qw(a),$w(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Sn(s)}):i;return o.map(function(s){return di(s)||s instanceof Date?s:""})}var age=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,h=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(xa(h-f)!==xa(p-h)){var _=[];if(xa(p-h)===xa(l[1]-l[0])){v=p;var S=h+l[1]-l[0];_[0]=Math.min(S,(S+f)/2),_[1]=Math.max(S,(S+f)/2)}else{v=f;var x=p+l[1]-l[0];_[0]=Math.min(h,(x+h)/2),_[1]=Math.max(h,(x+h)/2)}var w=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>w[0]&&e<=w[1]||e>=_[0]&&e<=_[1]){o=i[u].index;break}}else{var E=Math.min(f,p),b=Math.max(f,p);if(e>(E+h)/2&&e<=(b+h)/2){o=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},RI=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},oge=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var f=a[s[l]].stackGroups,h=Object.keys(f),p=0,v=h.length;p<v;p++){var _=f[h[p]],S=_.items,x=_.cateAxisId,w=S.filter(function(L){return uu(L.type).indexOf("Bar")>=0});if(w&&w.length){var E=w[0].type.defaultProps,b=E!==void 0?Dr(Dr({},E),w[0].props):w[0].props,T=b.barSize,P=b[x];o[P]||(o[P]=[]);var C=Sn(T)?n:T;o[P].push({item:w[0],stackList:w.slice(1),barSize:Sn(C)?void 0:_a(C,r,0)})}}return o},sge=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=_a(n,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,v=i/l,_=o.reduce(function(T,P){return T+P.barSize||0},0);_+=(l-1)*u,_>=i&&(_-=(l-1)*u,u=0),_>=i&&v>0&&(p=!0,v*=.9,_=l*v);var S=(i-_)/2>>0,x={offset:S-u,size:0};f=o.reduce(function(T,P){var C={item:P.item,position:{offset:x.offset+x.size+u,size:p?v:P.barSize}},L=[].concat(Qz(T),[C]);return x=L[L.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(D){L.push({item:D,position:x})}),L},h)}else{var w=_a(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var E=(i-2*w-(l-1)*u)/l;E>1&&(E>>=0);var b=s===+s?Math.min(E,s):E;f=o.reduce(function(T,P,C){var L=[].concat(Qz(T),[{item:P.item,position:{offset:w+(E+u)*C+(E-b)/2,size:b}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(D){L.push({item:D,position:L[L.length-1].position})}),L},h)}return f},lge=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=BG({children:a,legendWidth:l});if(u){var f=i||{},h=f.width,p=f.height,v=u.align,_=u.verticalAlign,S=u.layout;if((S==="vertical"||S==="horizontal"&&_==="middle")&&v!=="center"&&ct(e[v]))return Dr(Dr({},e),{},Lp({},v,e[v]+(h||0)));if((S==="horizontal"||S==="vertical"&&v==="center")&&_!=="middle"&&ct(e[_]))return Dr(Dr({},e),{},Lp({},_,e[_]+(p||0)))}return e},uge=function(e,n,r){return Sn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},zG=function(e,n,r,i,a){var o=n.props.children,s=Vo(o,Zw).filter(function(u){return uge(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=Qi(f,r);if(Sn(h))return u;var p=Array.isArray(h)?[qw(h),$w(h)]:[h,h],v=l.reduce(function(_,S){var x=Qi(f,S,0),w=p[0]-Math.abs(Array.isArray(x)?x[0]:x),E=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,_[0]),Math.max(E,_[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},cge=function(e,n,r,i,a){var o=n.map(function(s){return zG(e,s,r,a,i)}).filter(function(s){return!Sn(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},jG=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&zG(e,l,u,i)||Sv(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,h=u.length;f<h;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},VG=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},HG=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},lu=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?xa(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var p=a?a.indexOf(h):h;return{coordinate:i(p)+u,value:h,offset:u}});return f.filter(function(h){return!Zy(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+u,value:h,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,p){return{coordinate:i(h)+u,value:a?a[h]:h,index:p,offset:u}})},IT=new WeakMap,o_=function(e,n){if(typeof n!="function")return e;IT.has(e)||IT.set(e,new WeakMap);var r=IT.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},WG=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:iy(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:a1(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:wv(),realScaleType:"point"}:a==="category"?{scale:iy(),realScaleType:"band"}:{scale:a1(),realScaleType:"linear"};if(Sh(i)){var l="scale".concat(Ow(i));return{scale:(Bz[l]||wv)(),realScaleType:Bz[l]?l:"point"}}return rn(i)?{scale:i}:{scale:wv(),realScaleType:"point"}},t4=1e-4,GG=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-t4,o=Math.max(i[0],i[1])+t4,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},fge=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},hge=function(e,n){if(!n||n.length!==2||!ct(n[0])||!ct(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ct(e[0])||e[0]<r)&&(a[0]=r),(!ct(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},dge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Zy(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},pge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Zy(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},mge={sign:dge,expand:Qle,none:Vp,silhouette:eue,wiggle:tue,positive:pge},gge=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=mge[r],o=Jle().keys(i).value(function(s,l){return+Qi(s,l,0)}).order(CC).offset(a);return o(e)},vge=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(h,p){var v,_=(v=p.type)!==null&&v!==void 0&&v.defaultProps?Dr(Dr({},p.type.defaultProps),p.props):p.props,S=_.stackId,x=_.hide;if(x)return h;var w=_[r],E=h[w]||{hasStack:!1,stackGroups:{}};if(di(S)){var b=E.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(p),E.hasStack=!0,E.stackGroups[S]=b}else E.stackGroups[Jy("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Dr(Dr({},h),{},Lp({},w,E))},l),f={};return Object.keys(u).reduce(function(h,p){var v=u[p];if(v.hasStack){var _={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(S,x){var w=v.stackGroups[x];return Dr(Dr({},S),{},Lp({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:gge(e,w.items,a)}))},_)}return Dr(Dr({},h),{},Lp({},p,v))},f)},$G=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Ome(u,a,s);return e.domain([qw(f),$w(f)]),{niceTicks:f}}if(a&&i==="number"){var h=e.domain(),p=Ime(h,a,s);return{niceTicks:p}}return null},n4=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Qi(o,n.dataKey,n.domain[s]);return Sn(l)?null:n.scale(l)-a/2+i},yge=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},xge=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(di(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},_ge=function(e){return e.reduce(function(n,r){return[qw(r.concat([n[0]]).filter(ct)),$w(r.concat([n[1]]).filter(ct))]},[1/0,-1/0])},qG=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,f){var h=_ge(f.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},r4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t2=function(e,n,r){if(rn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ct(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(r4.test(e[0])){var a=+r4.exec(e[0])[1];i[0]=n[0]-a}else rn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ct(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(i4.test(e[1])){var o=+i4.exec(e[1])[1];i[1]=n[1]+o}else rn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},h1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=iI(n,function(h){return h.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},a4=function(e,n,r){return!e||!e.length||Xw(e,po(r,"type.defaultProps.domain"))?n:e},XG=function(e,n){var r=e.type.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return Dr(Dr({},Qt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:RI(e),value:Qi(n,i),type:l,payload:n,chartType:u,hide:f})};function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){YG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YG(t,e,n){return e=wge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wge(t){var e=Sge(t,"string");return hy(e)=="symbol"?e:e+""}function Sge(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bge(t,e){return Tge(t)||Age(t,e)||Ege(t,e)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ege(t,e){if(t){if(typeof t=="string")return s4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s4(t,e)}}function s4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Age(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Tge(t){if(Array.isArray(t))return t}var d1=Math.PI/180,Pge=function(e){return e*180/Math.PI},hr=function(e,n,r,i){return{x:e+Math.cos(-d1*i)*r,y:n+Math.sin(-d1*i)*r}},KG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Cge=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,f=_a(e.cx,o,o/2),h=_a(e.cy,s,s/2),p=KG(o,s,r),v=_a(e.innerRadius,p,0),_=_a(e.outerRadius,p,p*.8),S=Object.keys(n);return S.reduce(function(x,w){var E=n[w],b=E.domain,T=E.reversed,P;if(Sn(E.range))i==="angleAxis"?P=[l,u]:i==="radiusAxis"&&(P=[v,_]),T&&(P=[P[1],P[0]]);else{P=E.range;var C=P,L=bge(C,2);l=L[0],u=L[1]}var D=WG(E,a),I=D.realScaleType,F=D.scale;F.domain(b).range(P),GG(F);var z=$G(F,ru(ru({},E),{},{realScaleType:I})),Y=ru(ru(ru({},E),z),{},{range:P,radius:_,realScaleType:I,scale:F,cx:f,cy:h,innerRadius:v,outerRadius:_,startAngle:l,endAngle:u});return ru(ru({},x),{},YG({},w,Y))},{})},Rge=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Oge=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Rge({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Pge(u),angleInRadian:u}},Ige=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Lge=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},l4=function(e,n){var r=e.x,i=e.y,a=Oge({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=Ige(n),h=f.startAngle,p=f.endAngle,v=s,_;if(h<=p){for(;v>p;)v-=360;for(;v<h;)v+=360;_=v>=h&&v<=p}else{for(;v>h;)v-=360;for(;v<p;)v+=360;_=v>=p&&v<=h}return _?ru(ru({},n),{},{radius:o,angle:Lge(v,n)}):null},ZG=function(e){return!te.isValidElement(e)&&!rn(e)&&typeof e!="boolean"?e.className:""};function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}var Nge=["offset"];function Dge(t){return Bge(t)||Fge(t)||Uge(t)||kge()}function kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uge(t,e){if(t){if(typeof t=="string")return n2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n2(t,e)}}function Fge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bge(t){if(Array.isArray(t))return n2(t)}function n2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zge(t,e){if(t==null)return{};var n=jge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(n),!0).forEach(function(r){Vge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vge(t,e,n){return e=Hge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hge(t){var e=Wge(t,"string");return dy(e)=="symbol"?e:e+""}function Wge(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}var Gge=function(e){var n=e.value,r=e.formatter,i=Sn(e.children)?n:e.children;return rn(r)?r(i):i},$ge=function(e,n){var r=xa(n-e),i=Math.min(Math.abs(n-e),360);return r*i},qge=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,f=l.cy,h=l.innerRadius,p=l.outerRadius,v=l.startAngle,_=l.endAngle,S=l.clockWise,x=(h+p)/2,w=$ge(v,_),E=w>=0?1:-1,b,T;i==="insideStart"?(b=v+E*o,T=S):i==="insideEnd"?(b=_-E*o,T=!S):i==="end"&&(b=_+E*o,T=S),T=w<=0?T:!T;var P=hr(u,f,x,b),C=hr(u,f,x,b+(T?1:-1)*359),L="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(C.x,",").concat(C.y),D=Sn(e.id)?Jy("recharts-radial-line-"):e.id;return ge.createElement("text",py({},r,{dominantBaseline:"central",className:_n("recharts-radial-bar-label",s)}),ge.createElement("defs",null,ge.createElement("path",{id:D,d:L})),ge.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Xge=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,h=a.endAngle,p=(f+h)/2;if(i==="outside"){var v=hr(o,s,u+r,p),_=v.x,S=v.y;return{x:_,y:S,textAnchor:_>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=hr(o,s,x,p),E=w.x,b=w.y;return{x:E,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Yge=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,f=o.height,h=f>=0?1:-1,p=h*i,v=h>0?"end":"start",_=h>0?"start":"end",S=u>=0?1:-1,x=S*i,w=S>0?"end":"start",E=S>0?"start":"end";if(a==="top"){var b={x:s+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:v};return ci(ci({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var T={x:s+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:_};return ci(ci({},T),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(a==="left"){var P={x:s-x,y:l+f/2,textAnchor:w,verticalAnchor:"middle"};return ci(ci({},P),r?{width:Math.max(P.x-r.x,0),height:f}:{})}if(a==="right"){var C={x:s+u+x,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return ci(ci({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:f}:{})}var L=r?{width:u,height:f}:{};return a==="insideLeft"?ci({x:s+x,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},L):a==="insideRight"?ci({x:s+u-x,y:l+f/2,textAnchor:w,verticalAnchor:"middle"},L):a==="insideTop"?ci({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:_},L):a==="insideBottom"?ci({x:s+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},L):a==="insideTopLeft"?ci({x:s+x,y:l+p,textAnchor:E,verticalAnchor:_},L):a==="insideTopRight"?ci({x:s+u-x,y:l+p,textAnchor:w,verticalAnchor:_},L):a==="insideBottomLeft"?ci({x:s+x,y:l+f-p,textAnchor:E,verticalAnchor:v},L):a==="insideBottomRight"?ci({x:s+u-x,y:l+f-p,textAnchor:w,verticalAnchor:v},L):bm(a)&&(ct(a.x)||rh(a.x))&&(ct(a.y)||rh(a.y))?ci({x:s+_a(a.x,u),y:l+_a(a.y,f),textAnchor:"end",verticalAnchor:"end"},L):ci({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Kge=function(e){return"cx"in e&&ct(e.cx)};function Ei(t){var e=t.offset,n=e===void 0?5:e,r=zge(t,Nge),i=ci({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,f=i.className,h=f===void 0?"":f,p=i.textBreakAll;if(!a||Sn(s)&&Sn(l)&&!te.isValidElement(u)&&!rn(u))return null;if(te.isValidElement(u))return te.cloneElement(u,i);var v;if(rn(u)){if(v=te.createElement(u,i),te.isValidElement(v))return v}else v=Gge(i);var _=Kge(a),S=Qt(i,!0);if(_&&(o==="insideStart"||o==="insideEnd"||o==="end"))return qge(i,v,S);var x=_?Xge(i):Yge(i);return ge.createElement(Mh,py({className:_n("recharts-label",h)},S,x,{breakAll:p}),v)}Ei.displayName="Label";var JG=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,p=e.y,v=e.top,_=e.left,S=e.width,x=e.height,w=e.clockWise,E=e.labelViewBox;if(E)return E;if(ct(S)&&ct(x)){if(ct(h)&&ct(p))return{x:h,y:p,width:S,height:x};if(ct(v)&&ct(_))return{x:v,y:_,width:S,height:x}}return ct(h)&&ct(p)?{x:h,y:p,width:0,height:0}:ct(n)&&ct(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Zge=function(e,n){return e?e===!0?ge.createElement(Ei,{key:"label-implicit",viewBox:n}):di(e)?ge.createElement(Ei,{key:"label-implicit",viewBox:n,value:e}):te.isValidElement(e)?e.type===Ei?te.cloneElement(e,{key:"label-implicit",viewBox:n}):ge.createElement(Ei,{key:"label-implicit",content:e,viewBox:n}):rn(e)?ge.createElement(Ei,{key:"label-implicit",content:e,viewBox:n}):bm(e)?ge.createElement(Ei,py({viewBox:n},e,{key:"label-implicit"})):null:null},Jge=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=JG(e),o=Vo(i,Ei).map(function(l,u){return te.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Zge(e.label,n||a);return[s].concat(Dge(o))};Ei.parseViewBox=JG;Ei.renderCallByParent=Jge;var LT,c4;function Qge(){if(c4)return LT;c4=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return LT=t,LT}var eve=Qge();const tve=$n(eve);function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}var nve=["valueAccessor"],rve=["data","dataKey","clockWise","id","textBreakAll"];function ive(t){return lve(t)||sve(t)||ove(t)||ave()}function ave(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(t,e){if(t){if(typeof t=="string")return r2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r2(t,e)}}function sve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lve(t){if(Array.isArray(t))return r2(t)}function r2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(this,arguments)}function f4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f4(Object(n),!0).forEach(function(r){uve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uve(t,e,n){return e=cve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cve(t){var e=fve(t,"string");return my(e)=="symbol"?e:e+""}function fve(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d4(t,e){if(t==null)return{};var n=hve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dve=function(e){return Array.isArray(e.value)?tve(e.value):e.value};function Ec(t){var e=t.valueAccessor,n=e===void 0?dve:e,r=d4(t,nve),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=d4(r,rve);return!i||!i.length?null:ge.createElement(Xn,{className:"recharts-label-list"},i.map(function(f,h){var p=Sn(a)?n(f,h):Qi(f&&f.payload,a),v=Sn(s)?{}:{id:"".concat(s,"-").concat(h)};return ge.createElement(Ei,p1({},Qt(f,!0),u,v,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:Ei.parseViewBox(Sn(o)?f:h4(h4({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ec.displayName="LabelList";function pve(t,e){return t?t===!0?ge.createElement(Ec,{key:"labelList-implicit",data:e}):ge.isValidElement(t)||rn(t)?ge.createElement(Ec,{key:"labelList-implicit",data:e,content:t}):bm(t)?ge.createElement(Ec,p1({data:e},t,{key:"labelList-implicit"})):null:null}function mve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Vo(r,Ec).map(function(o,s){return te.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=pve(t.label,e);return[a].concat(ive(i))}Ec.renderCallByParent=mve;function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function i2(){return i2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i2.apply(this,arguments)}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gve(t,e,n){return e=vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t){var e=yve(t,"string");return gy(e)=="symbol"?e:e+""}function yve(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xve=function(e,n){var r=xa(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},s_=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,h=Math.asin(l/f)/d1,p=u?a:a+o*h,v=hr(n,r,f,p),_=hr(n,r,i,p),S=u?a-o*h:a,x=hr(n,r,f*Math.cos(h*d1),S);return{center:v,circleTangency:_,lineTangency:x,theta:h}},QG=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=xve(o,s),u=o+l,f=hr(n,r,a,o),h=hr(n,r,a,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var v=hr(n,r,i,o),_=hr(n,r,i,u);p+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},_ve=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=xa(f-u),p=s_({cx:n,cy:r,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:l}),v=p.circleTangency,_=p.lineTangency,S=p.theta,x=s_({cx:n,cy:r,radius:a,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:l}),w=x.circleTangency,E=x.lineTangency,b=x.theta,T=l?Math.abs(u-f):Math.abs(u-f)-S-b;if(T<0)return s?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QG({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var P="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var C=s_({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),L=C.circleTangency,D=C.lineTangency,I=C.theta,F=s_({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),z=F.circleTangency,Y=F.lineTangency,H=F.theta,K=l?Math.abs(u-f):Math.abs(u-f)-I-H;if(K<0&&o===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(Y.x,",").concat(Y.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(h>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},wve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},e$=function(e){var n=m4(m4({},wve),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,p=n.className;if(o<a||f===h)return null;var v=_n("recharts-sector",p),_=o-a,S=_a(s,_,0,!0),x;return S>0&&Math.abs(f-h)<360?x=_ve({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(S,_/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):x=QG({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:h}),ge.createElement("path",i2({},Qt(n,!0),{className:v,d:x,role:"img"}))};function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a2.apply(this,arguments)}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){Sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sve(t,e,n){return e=bve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bve(t){var e=Mve(t,"string");return vy(e)=="symbol"?e:e+""}function Mve(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y4={curveBasisClosed:jle,curveBasisOpen:Vle,curveBasis:zle,curveBumpX:Ale,curveBumpY:Tle,curveLinearClosed:Hle,curveLinear:Lw,curveMonotoneX:Wle,curveMonotoneY:Gle,curveNatural:$le,curveStep:qle,curveStepAfter:Yle,curveStepBefore:Xle},l_=function(e){return e.x===+e.x&&e.y===+e.y},qg=function(e){return e.x},Xg=function(e){return e.y},Eve=function(e,n){if(rn(e))return e;var r="curve".concat(Ow(e));return(r==="curveMonotone"||r==="curveBump")&&n?y4["".concat(r).concat(n==="vertical"?"Y":"X")]:y4[r]||Lw},Ave=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=Eve(r,s),h=u?a.filter(function(S){return l_(S)}):a,p;if(Array.isArray(o)){var v=u?o.filter(function(S){return l_(S)}):o,_=h.map(function(S,x){return v4(v4({},S),{},{base:v[x]})});return s==="vertical"?p=Jx().y(Xg).x1(qg).x0(function(S){return S.base.x}):p=Jx().x(qg).y1(Xg).y0(function(S){return S.base.y}),p.defined(l_).curve(f),p(_)}return s==="vertical"&&ct(o)?p=Jx().y(Xg).x1(qg).x0(o):ct(o)?p=Jx().x(qg).y1(Xg).y0(o):p=XW().x(qg).y(Xg),p.defined(l_).curve(f),p(h)},o2=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Ave(e):i;return te.createElement("path",a2({},Qt(e,!1),V_(e),{className:_n("recharts-curve",n),d:o,ref:a}))},Tve=Object.getOwnPropertyNames,Pve=Object.getOwnPropertySymbols,Cve=Object.prototype.hasOwnProperty;function x4(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function u_(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function _4(t){return Tve(t).concat(Pve(t))}var Rve=Object.hasOwn||function(t,e){return Cve.call(t,e)};function Bh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ove="__v",Ive="__o",Lve="_owner",w4=Object.getOwnPropertyDescriptor,S4=Object.keys;function Nve(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Dve(t,e){return Bh(t.getTime(),e.getTime())}function kve(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Uve(t,e){return t===e}function b4(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),f=!1,h=0;(s=u.next())&&!s.done;){if(i[h]){h++;continue}var p=o.value,v=s.value;if(n.equals(p[0],v[0],l,h,t,e,n)&&n.equals(p[1],v[1],p[0],v[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;l++}return!0}var Fve=Bh;function Bve(t,e,n){var r=S4(t),i=r.length;if(S4(e).length!==i)return!1;for(;i-- >0;)if(!t$(t,e,n,r[i]))return!1;return!0}function Yg(t,e,n){var r=_4(t),i=r.length;if(_4(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!t$(t,e,n,a)||(o=w4(t,a),s=w4(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function zve(t,e){return Bh(t.valueOf(),e.valueOf())}function jve(t,e){return t.source===e.source&&t.flags===e.flags}function M4(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Vve(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Hve(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function t$(t,e,n,r){return(r===Lve||r===Ive||r===Ove)&&(t.$$typeof||e.$$typeof)?!0:Rve(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Wve="[object Arguments]",Gve="[object Boolean]",$ve="[object Date]",qve="[object Error]",Xve="[object Map]",Yve="[object Number]",Kve="[object Object]",Zve="[object RegExp]",Jve="[object Set]",Qve="[object String]",eye="[object URL]",tye=Array.isArray,E4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,A4=Object.assign,nye=Object.prototype.toString.call.bind(Object.prototype.toString);function rye(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(_,S,x){if(_===S)return!0;if(_==null||S==null)return!1;var w=typeof _;if(w!==typeof S)return!1;if(w!=="object")return w==="number"?o(_,S,x):w==="function"?i(_,S,x):!1;var E=_.constructor;if(E!==S.constructor)return!1;if(E===Object)return s(_,S,x);if(tye(_))return e(_,S,x);if(E4!=null&&E4(_))return h(_,S,x);if(E===Date)return n(_,S,x);if(E===RegExp)return u(_,S,x);if(E===Map)return a(_,S,x);if(E===Set)return f(_,S,x);var b=nye(_);return b===$ve?n(_,S,x):b===Zve?u(_,S,x):b===Xve?a(_,S,x):b===Jve?f(_,S,x):b===Kve?typeof _.then!="function"&&typeof S.then!="function"&&s(_,S,x):b===eye?p(_,S,x):b===qve?r(_,S,x):b===Wve?s(_,S,x):b===Gve||b===Yve||b===Qve?l(_,S,x):!1}}function iye(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Yg:Nve,areDatesEqual:Dve,areErrorsEqual:kve,areFunctionsEqual:Uve,areMapsEqual:r?x4(b4,Yg):b4,areNumbersEqual:Fve,areObjectsEqual:r?Yg:Bve,arePrimitiveWrappersEqual:zve,areRegExpsEqual:jve,areSetsEqual:r?x4(M4,Yg):M4,areTypedArraysEqual:r?Yg:Vve,areUrlsEqual:Hve};if(n&&(i=A4({},i,n(i))),e){var a=u_(i.areArraysEqual),o=u_(i.areMapsEqual),s=u_(i.areObjectsEqual),l=u_(i.areSetsEqual);i=A4({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function aye(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function oye(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var f=r(),h=f.cache,p=h===void 0?e?new WeakMap:void 0:h,v=f.meta;return n(l,u,{cache:p,equals:i,meta:v,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var sye=Bc();Bc({strict:!0});Bc({circular:!0});Bc({circular:!0,strict:!0});Bc({createInternalComparator:function(){return Bh}});Bc({strict:!0,createInternalComparator:function(){return Bh}});Bc({circular:!0,createInternalComparator:function(){return Bh}});Bc({circular:!0,createInternalComparator:function(){return Bh},strict:!0});function Bc(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=iye(t),l=rye(s),u=r?r(l):aye(l);return oye({circular:n,comparator:l,createState:i,equals:u,strict:o})}function lye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function T4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):lye(i)};requestAnimationFrame(r)}function s2(t){"@babel/helpers - typeof";return s2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s2(t)}function uye(t){return dye(t)||hye(t)||fye(t)||cye()}function cye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fye(t,e){if(t){if(typeof t=="string")return P4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P4(t,e)}}function P4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dye(t){if(Array.isArray(t))return t}function pye(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=uye(o),l=s[0],u=s.slice(1);if(typeof l=="number"){T4(i.bind(null,u),l);return}i(l),T4(i.bind(null,u));return}s2(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){n$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n$(t,e,n){return e=mye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mye(t){var e=gye(t,"string");return yy(e)==="symbol"?e:String(e)}function gye(t,e){if(yy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vye=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},yye=function(e){return e},xye=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},bv=function(e,n){return Object.keys(n).reduce(function(r,i){return R4(R4({},r),{},n$({},i,e(i,n[i])))},{})},O4=function(e,n,r){return e.map(function(i){return"".concat(xye(i)," ").concat(n,"ms ").concat(r)}).join(",")};function _ye(t,e){return bye(t)||Sye(t,e)||r$(t,e)||wye()}function wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function bye(t){if(Array.isArray(t))return t}function Mye(t){return Tye(t)||Aye(t)||r$(t)||Eye()}function Eye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r$(t,e){if(t){if(typeof t=="string")return l2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l2(t,e)}}function Aye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tye(t){if(Array.isArray(t))return l2(t)}function l2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var m1=1e-4,i$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},a$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},I4=function(e,n){return function(r){var i=i$(e,n);return a$(i,r)}},Pye=function(e,n){return function(r){var i=i$(e,n),a=[].concat(Mye(i.map(function(o,s){return o*s}).slice(1)),[0]);return a$(a,r)}},L4=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=_ye(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var h=I4(i,o),p=I4(a,s),v=Pye(i,o),_=function(w){return w>1?1:w<0?0:w},S=function(w){for(var E=w>1?1:w,b=E,T=0;T<8;++T){var P=h(b)-E,C=v(b);if(Math.abs(P-E)<m1||C<m1)return p(b);b=_(b-P/C)}return p(b)};return S.isStepper=!1,S},Cye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(f,h,p){var v=-(f-h)*r,_=p*a,S=p+(v-_)*s/1e3,x=p*s/1e3+f;return Math.abs(x-h)<m1&&Math.abs(S)<m1?[h,0]:[x,S]};return l.isStepper=!0,l.dt=s,l},Rye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return L4(i);case"spring":return Cye();default:if(i.split("(")[0]==="cubic-bezier")return L4(i)}return typeof i=="function"?i:null};function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function N4(t){return Lye(t)||Iye(t)||o$(t)||Oye()}function Oye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lye(t){if(Array.isArray(t))return c2(t)}function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){u2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u2(t,e,n){return e=Nye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nye(t){var e=Dye(t,"string");return xy(e)==="symbol"?e:String(e)}function Dye(t,e){if(xy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kye(t,e){return Bye(t)||Fye(t,e)||o$(t,e)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$(t,e){if(t){if(typeof t=="string")return c2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c2(t,e)}}function c2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Bye(t){if(Array.isArray(t))return t}var g1=function(e,n,r){return e+(n-e)*r},f2=function(e){var n=e.from,r=e.to;return n!==r},zye=function t(e,n,r){var i=bv(function(a,o){if(f2(o)){var s=e(o.from,o.to,o.velocity),l=kye(s,2),u=l[0],f=l[1];return Bi(Bi({},o),{},{from:u,velocity:f})}return o},n);return r<1?bv(function(a,o){return f2(o)?Bi(Bi({},o),{},{velocity:g1(o.velocity,i[a].velocity,r),from:g1(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const jye=function(t,e,n,r,i){var a=vye(t,e),o=a.reduce(function(x,w){return Bi(Bi({},x),{},u2({},w,[t[w],e[w]]))},{}),s=a.reduce(function(x,w){return Bi(Bi({},x),{},u2({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,f,h=function(){return null},p=function(){return bv(function(w,E){return E.from},s)},v=function(){return!Object.values(s).filter(f2).length},_=function(w){u||(u=w);var E=w-u,b=E/n.dt;s=zye(n,s,b),i(Bi(Bi(Bi({},t),e),p())),u=w,v()||(l=requestAnimationFrame(h))},S=function(w){f||(f=w);var E=(w-f)/r,b=bv(function(P,C){return g1.apply(void 0,N4(C).concat([n(E)]))},o);if(i(Bi(Bi(Bi({},t),e),b)),E<1)l=requestAnimationFrame(h);else{var T=bv(function(P,C){return g1.apply(void 0,N4(C).concat([n(1)]))},o);i(Bi(Bi(Bi({},t),e),T))}};return h=n.isStepper?_:S,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}var Vye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hye(t,e){if(t==null)return{};var n=Wye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wye(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NT(t){return Xye(t)||qye(t)||$ye(t)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ye(t,e){if(t){if(typeof t=="string")return h2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h2(t,e)}}function qye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xye(t){if(Array.isArray(t))return h2(t)}function h2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(r){rv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rv(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function Zye(t,e,n){return e&&Kye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s$(t){var e=Jye(t,"string");return Zp(e)==="symbol"?e:String(e)}function Jye(t,e){if(Zp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d2(t,e)}function d2(t,e){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d2(t,e)}function e0e(t){var e=t0e();return function(){var r=v1(t),i;if(e){var a=v1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return p2(this,i)}}function p2(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m2(t)}function m2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v1(t)}var vu=function(t){Qye(n,t);var e=e0e(n);function n(r,i){var a;Yye(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,h=o.steps,p=o.children,v=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(m2(a)),a.changeStyle=a.changeStyle.bind(m2(a)),!s||v<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:f}),p2(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof p=="function")return a.state={style:u},p2(a);a.state={style:l?rv({},l,u):u}}else a.state={style:{}};return a}return Zye(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,f=a.to,h=a.from,p=this.state.style;if(s){if(!o){var v={style:l?rv({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(v);return}if(!(sye(i.to,f)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=_||u?h:i.to;if(this.state&&p){var x={style:l?rv({},l,S):S};(l&&p[l]!==S||!l&&p!==S)&&this.setState(x)}this.runAnimation(xs(xs({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,v=jye(o,s,Rye(u),l,this.changeStyle),_=function(){a.stopJSAnimation=v()};this.manager.start([p,f,_,l,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,h=u.duration,p=h===void 0?0:h,v=function(S,x,w){if(w===0)return S;var E=x.duration,b=x.easing,T=b===void 0?"ease":b,P=x.style,C=x.properties,L=x.onAnimationEnd,D=w>0?o[w-1]:x,I=C||Object.keys(P);if(typeof T=="function"||T==="spring")return[].concat(NT(S),[a.runJSAnimation.bind(a,{from:D.style,to:P,duration:E,easing:T}),E]);var F=O4(I,E,T),z=xs(xs(xs({},D.style),P),{},{transition:F});return[].concat(NT(S),[z,E,L]).filter(yye)};return this.manager.start([l].concat(NT(o.reduce(v,[f,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=pye());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,v=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var S=s?rv({},s,l):l,x=O4(Object.keys(S),o,u);_.start([f,a,xs(xs({},S),{},{transition:x}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Hye(i,Vye),u=te.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var h=function(v){var _=v.props,S=_.style,x=S===void 0?{}:S,w=_.className,E=te.cloneElement(v,xs(xs({},l),{},{style:xs(xs({},x),f),className:w}));return E};return u===1?h(te.Children.only(a)):ge.createElement("div",null,te.Children.map(a,function(p){return h(p)}))}}]),n}(te.PureComponent);vu.displayName="Animate";vu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vu.propTypes={from:Wn.oneOfType([Wn.object,Wn.string]),to:Wn.oneOfType([Wn.object,Wn.string]),attributeName:Wn.string,duration:Wn.number,begin:Wn.number,easing:Wn.oneOfType([Wn.string,Wn.func]),steps:Wn.arrayOf(Wn.shape({duration:Wn.number.isRequired,style:Wn.object.isRequired,easing:Wn.oneOfType([Wn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Wn.func]),properties:Wn.arrayOf("string"),onAnimationEnd:Wn.func})),children:Wn.oneOfType([Wn.node,Wn.func]),isActive:Wn.bool,canBegin:Wn.bool,onAnimationEnd:Wn.func,shouldReAnimate:Wn.bool,onAnimationStart:Wn.func,onAnimationReStart:Wn.func};function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1.apply(this,arguments)}function n0e(t,e){return o0e(t)||a0e(t,e)||i0e(t,e)||r0e()}function r0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(t,e){if(t){if(typeof t=="string")return U4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U4(t,e)}}function U4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function o0e(t){if(Array.isArray(t))return t}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){s0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s0e(t,e,n){return e=l0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l0e(t){var e=u0e(t,"string");return _y(e)=="symbol"?e:e+""}function u0e(t,e){if(_y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z4=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=a[p]>o?o:a[p];f="M".concat(e,",").concat(n+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),f+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*h[1])),f+="L ".concat(e+r,",").concat(n+i-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),f+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*h[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);f="M ".concat(e,",").concat(n+s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+l*_,",").concat(n,`
            L `).concat(e+r-l*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*_,`
            L `).concat(e+r,",").concat(n+i-s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r-l*_,",").concat(n+i,`
            L `).concat(e+l*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*_," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},c0e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),h=Math.min(o,o+l),p=Math.max(o,o+l);return r>=u&&r<=f&&i>=h&&i<=p}return!1},f0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OI=function(e){var n=B4(B4({},f0e),e),r=te.useRef(),i=te.useState(-1),a=n0e(i,2),o=a[0],s=a[1];te.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,f=n.width,h=n.height,p=n.radius,v=n.className,_=n.animationEasing,S=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var b=_n("recharts-rectangle",v);return E?ge.createElement(vu,{canBegin:o>0,from:{width:f,height:h,x:l,y:u},to:{width:f,height:h,x:l,y:u},duration:S,animationEasing:_,isActive:E},function(T){var P=T.width,C=T.height,L=T.x,D=T.y;return ge.createElement(vu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:S,isActive:w,easing:_},ge.createElement("path",y1({},Qt(n,!0),{className:b,d:z4(L,D,P,C,p),ref:r})))}):ge.createElement("path",y1({},Qt(n,!0),{className:b,d:z4(l,u,f,h,p)}))},h0e=["points","className","baseLinePoints","connectNulls"];function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function d0e(t,e){if(t==null)return{};var n=p0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j4(t){return y0e(t)||v0e(t)||g0e(t)||m0e()}function m0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(t,e){if(t){if(typeof t=="string")return g2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g2(t,e)}}function v0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y0e(t){if(Array.isArray(t))return g2(t)}function g2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var V4=function(e){return e&&e.x===+e.x&&e.y===+e.y},x0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){V4(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),V4(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Mv=function(e,n){var r=x0e(e);n&&(r=[r.reduce(function(a,o){return[].concat(j4(a),j4(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},_0e=function(e,n,r){var i=Mv(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Mv(n.reverse(),r).slice(1))},w0e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=d0e(e,h0e);if(!n||!n.length)return null;var s=_n("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=_0e(n,i,a);return ge.createElement("g",{className:s},ge.createElement("path",Mp({},Qt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?ge.createElement("path",Mp({},Qt(o,!0),{fill:"none",d:Mv(n,a)})):null,l?ge.createElement("path",Mp({},Qt(o,!0),{fill:"none",d:Mv(i,a)})):null)}var f=Mv(n,a);return ge.createElement("path",Mp({},Qt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:s,d:f}))};function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v2.apply(this,arguments)}var II=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=_n("recharts-dot",a);return n===+n&&r===+r&&i===+i?te.createElement("circle",v2({},Qt(e,!1),V_(e),{className:o,cx:n,cy:r,r:i})):null};function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}var S0e=["x","y","top","left","width","height","className"];function y2(){return y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y2.apply(this,arguments)}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){M0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M0e(t,e,n){return e=E0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E0e(t){var e=A0e(t,"string");return wy(e)=="symbol"?e:e+""}function A0e(t,e){if(wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T0e(t,e){if(t==null)return{};var n=P0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var C0e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},R0e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,h=f===void 0?0:f,p=e.height,v=p===void 0?0:p,_=e.className,S=T0e(e,S0e),x=b0e({x:r,y:a,top:s,left:u,width:h,height:v},S);return!ct(r)||!ct(a)||!ct(h)||!ct(v)||!ct(s)||!ct(u)?null:ge.createElement("path",y2({},Qt(x,!0),{className:_n("recharts-cross",_),d:C0e(r,a,h,v,s,u)}))},DT,W4;function O0e(){if(W4)return DT;W4=1;var t=Gw(),e=SG(),n=pl();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return DT=r,DT}var I0e=O0e();const L0e=$n(I0e);var kT,G4;function N0e(){if(G4)return kT;G4=1;var t=Gw(),e=pl(),n=bG();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return kT=r,kT}var D0e=N0e();const k0e=$n(D0e);var U0e=["cx","cy","angle","ticks","axisLine"],F0e=["ticks","tick","angle","tickFormatter","stroke"];function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){Jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q4(t,e){if(t==null)return{};var n=B0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u$(r.key),r)}}function j0e(t,e,n){return e&&X4(t.prototype,e),n&&X4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V0e(t,e,n){return e=x1(e),H0e(t,l$()?Reflect.construct(e,n||[],x1(t).constructor):e.apply(t,n))}function H0e(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W0e(t)}function W0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function x1(t){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x1(t)}function G0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x2(t,e)}function x2(t,e){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x2(t,e)}function Jw(t,e,n){return e=u$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u$(t){var e=$0e(t,"string");return Jp(e)=="symbol"?e:e+""}function $0e(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qw=function(t){function e(){return z0e(this,e),V0e(this,e,arguments)}return G0e(e,t),j0e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return hr(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=L0e(s,function(f){return f.coordinate||0}),u=k0e(s,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=q4(r,U0e),f=s.reduce(function(_,S){return[Math.min(_[0],S.coordinate),Math.max(_[1],S.coordinate)]},[1/0,-1/0]),h=hr(i,a,f[0],o),p=hr(i,a,f[1],o),v=Ff(Ff(Ff({},Qt(u,!1)),{},{fill:"none"},Qt(l,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return ge.createElement("line",Ev({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,f=q4(i,F0e),h=this.getTickTextAnchor(),p=Qt(f,!1),v=Qt(o,!1),_=a.map(function(S,x){var w=r.getTickValueCoord(S),E=Ff(Ff(Ff(Ff({textAnchor:h,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},p),{},{stroke:"none",fill:u},v),{},{index:x},w),{},{payload:S});return ge.createElement(Xn,Ev({className:_n("recharts-polar-radius-axis-tick",ZG(o)),key:"tick-".concat(S.coordinate)},bh(r.props,S,x)),e.renderTickItem(o,E,l?l(S.value,x):S.value))});return ge.createElement(Xn,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:ge.createElement(Xn,{className:_n("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Ei.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ge.isValidElement(r)?o=ge.cloneElement(r,i):rn(r)?o=r(i):o=ge.createElement(Mh,Ev({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(te.PureComponent);Jw(Qw,"displayName","PolarRadiusAxis");Jw(Qw,"axisType","radiusAxis");Jw(Qw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xf.apply(this,arguments)}function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){eS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f$(r.key),r)}}function X0e(t,e,n){return e&&K4(t.prototype,e),n&&K4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y0e(t,e,n){return e=_1(e),K0e(t,c$()?Reflect.construct(e,n||[],_1(t).constructor):e.apply(t,n))}function K0e(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z0e(t)}function Z0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c$=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_1(t)}function J0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_2(t,e)}function _2(t,e){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_2(t,e)}function eS(t,e,n){return e=f$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=Q0e(t,"string");return Qp(e)=="symbol"?e:e+""}function Q0e(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var exe=Math.PI/180,Z4=1e-5,tS=function(t){function e(){return q0e(this,e),Y0e(this,e,arguments)}return J0e(e,t),X0e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,f=u||8,h=hr(a,o,s,r.coordinate),p=hr(a,o,s+(l==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*exe),o;return a>Z4?o=i==="outer"?"start":"end":a<-Z4?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Bf(Bf({},Qt(this.props,!1)),{},{fill:"none"},Qt(s,!1));if(l==="circle")return ge.createElement(II,Xf({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var f=this.props.ticks,h=f.map(function(p){return hr(i,a,o,p.coordinate)});return ge.createElement(w0e,Xf({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,f=Qt(this.props,!1),h=Qt(o,!1),p=Bf(Bf({},f),{},{fill:"none"},Qt(s,!1)),v=a.map(function(_,S){var x=r.getTickLineCoord(_),w=r.getTickTextAnchor(_),E=Bf(Bf(Bf({textAnchor:w},f),{},{stroke:"none",fill:u},h),{},{index:S,payload:_,x:x.x2,y:x.y2});return ge.createElement(Xn,Xf({className:_n("recharts-polar-angle-axis-tick",ZG(o)),key:"tick-".concat(_.coordinate)},bh(r.props,_,S)),s&&ge.createElement("line",Xf({className:"recharts-polar-angle-axis-tick-line"},p,x)),o&&e.renderTickItem(o,E,l?l(_.value,S):_.value))});return ge.createElement(Xn,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:ge.createElement(Xn,{className:_n("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ge.isValidElement(r)?o=ge.cloneElement(r,i):rn(r)?o=r(i):o=ge.createElement(Mh,Xf({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(te.PureComponent);eS(tS,"displayName","PolarAngleAxis");eS(tS,"axisType","angleAxis");eS(tS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var UT,J4;function txe(){if(J4)return UT;J4=1;var t=v6(),e=t(Object.getPrototypeOf,Object);return UT=e,UT}var FT,Q4;function nxe(){if(Q4)return FT;Q4=1;var t=wu(),e=txe(),n=Su(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function u(f){if(!n(f)||t(f)!=r)return!1;var h=e(f);if(h===null)return!0;var p=s.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return FT=u,FT}var rxe=nxe();const ixe=$n(rxe);var BT,e5;function axe(){if(e5)return BT;e5=1;var t=wu(),e=Su(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return BT=r,BT}var oxe=axe();const sxe=$n(oxe);function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1.apply(this,arguments)}function lxe(t,e){return hxe(t)||fxe(t,e)||cxe(t,e)||uxe()}function uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cxe(t,e){if(t){if(typeof t=="string")return t5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t5(t,e)}}function t5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hxe(t){if(Array.isArray(t))return t}function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(r){dxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dxe(t,e,n){return e=pxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pxe(t){var e=mxe(t,"string");return Sy(e)=="symbol"?e:e+""}function mxe(t,e){if(Sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i5=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},gxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vxe=function(e){var n=r5(r5({},gxe),e),r=te.useRef(),i=te.useState(-1),a=lxe(i,2),o=a[0],s=a[1];te.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,h=n.lowerWidth,p=n.height,v=n.className,_=n.animationEasing,S=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var E=_n("recharts-trapezoid",v);return w?ge.createElement(vu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:f,lowerWidth:h,height:p,x:l,y:u},duration:S,animationEasing:_,isActive:w},function(b){var T=b.upperWidth,P=b.lowerWidth,C=b.height,L=b.x,D=b.y;return ge.createElement(vu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:S,easing:_},ge.createElement("path",w1({},Qt(n,!0),{className:E,d:i5(L,D,T,P,C),ref:r})))}):ge.createElement("g",null,ge.createElement("path",w1({},Qt(n,!0),{className:E,d:i5(l,u,f,h,p)})))},yxe=["option","shapeType","propTransformer","activeClassName","isActive"];function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function xxe(t,e){if(t==null)return{};var n=_xe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _xe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){wxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wxe(t,e,n){return e=Sxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sxe(t){var e=bxe(t,"string");return by(e)=="symbol"?e:e+""}function bxe(t,e){if(by(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(by(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mxe(t,e){return S1(S1({},e),t)}function Exe(t,e){return t==="symbols"}function o5(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ge.createElement(OI,n);case"trapezoid":return ge.createElement(vxe,n);case"sector":return ge.createElement(e$,n);case"symbols":if(Exe(e))return ge.createElement(KO,n);break;default:return null}}function Axe(t){return te.isValidElement(t)?t.props:t}function h$(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Mxe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=xxe(t,yxe),u;if(te.isValidElement(e))u=te.cloneElement(e,S1(S1({},l),Axe(e)));else if(rn(e))u=e(l);else if(ixe(e)&&!sxe(e)){var f=i(e,l);u=ge.createElement(o5,{shapeType:n,elementProps:f})}else{var h=l;u=ge.createElement(o5,{shapeType:n,elementProps:h})}return s?ge.createElement(Xn,{className:o},u):u}function nS(t,e){return e!=null&&"trapezoids"in t.props}function rS(t,e){return e!=null&&"sectors"in t.props}function My(t,e){return e!=null&&"points"in t.props}function Txe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Pxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Cxe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Rxe(t,e){var n;return nS(t,e)?n=Txe:rS(t,e)?n=Pxe:My(t,e)&&(n=Cxe),n}function Oxe(t,e){var n;return nS(t,e)?n="trapezoids":rS(t,e)?n="sectors":My(t,e)&&(n="points"),n}function Ixe(t,e){if(nS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(rS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return My(t,e)?e.payload:{}}function Lxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Oxe(n,e),a=Ixe(n,e),o=r.filter(function(l,u){var f=Xw(a,l),h=n.props[i].filter(function(_){var S=Rxe(n,e);return S(_,e)}),p=n.props[i].indexOf(h[h.length-1]),v=u===p;return f&&v}),s=r.indexOf(o[o.length-1]);return s}var T_;function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}function s5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(n),!0).forEach(function(r){zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function Dxe(t,e,n){return e&&l5(t.prototype,e),n&&l5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kxe(t,e,n){return e=b1(e),Uxe(t,d$()?Reflect.construct(e,n||[],b1(t).constructor):e.apply(t,n))}function Uxe(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fxe(t)}function Fxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b1(t)}function Bxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w2(t,e)}function w2(t,e){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w2(t,e)}function zo(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=zxe(t,"string");return em(e)=="symbol"?e:e+""}function zxe(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mu=function(t){function e(n){var r;return Nxe(this,e),r=kxe(this,e,[n]),zo(r,"pieRef",null),zo(r,"sectorRefs",[]),zo(r,"id",Jy("recharts-pie-")),zo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rn(i)&&i()}),zo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rn(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Bxe(e,t),Dxe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,f=Qt(this.props,!1),h=Qt(o,!1),p=Qt(s,!1),v=o&&o.offsetRadius||20,_=r.map(function(S,x){var w=(S.startAngle+S.endAngle)/2,E=hr(S.cx,S.cy,S.outerRadius+v,w),b=ur(ur(ur(ur({},f),S),{},{stroke:"none"},h),{},{index:x,textAnchor:e.getTextAnchor(E.x,S.cx)},E),T=ur(ur(ur(ur({},f),S),{},{fill:"none",stroke:S.fill},p),{},{index:x,points:[hr(S.cx,S.cy,S.outerRadius,w),E]}),P=l;return Sn(l)&&Sn(u)?P="value":Sn(l)&&(P=u),ge.createElement(Xn,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(o,b,Qi(S,P)))});return ge.createElement(Xn,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),p=l&&i.hasActiveIndex()?l:null,v=h?o:p,_=ur(ur({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return ge.createElement(Xn,Ep({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},bh(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),ge.createElement(h$,Ep({option:v,isActive:h,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state,p=h.prevSectors,v=h.prevIsAnimationActive;return ge.createElement(vu,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var S=_.t,x=[],w=a&&a[0],E=w.startAngle;return a.forEach(function(b,T){var P=p&&p[T],C=T>0?po(b,"paddingAngle",0):0;if(P){var L=pc(P.endAngle-P.startAngle,b.endAngle-b.startAngle),D=ur(ur({},b),{},{startAngle:E+C,endAngle:E+L(S)+C});x.push(D),E=D.endAngle}else{var I=b.endAngle,F=b.startAngle,z=pc(0,I-F),Y=z(S),H=ur(ur({},b),{},{startAngle:E+C,endAngle:E+Y+C});x.push(H),E=H.endAngle}}),ge.createElement(Xn,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Xw(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,f=i.cy,h=i.innerRadius,p=i.outerRadius,v=i.isAnimationActive,_=this.state.isAnimationFinished;if(a||!o||!o.length||!ct(u)||!ct(f)||!ct(h)||!ct(p))return null;var S=_n("recharts-pie",s);return ge.createElement(Xn,{tabIndex:this.props.rootTabIndex,className:S,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(o),Ei.renderCallByParent(this.props,null,!1),(!v||_)&&Ec.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(ge.isValidElement(r))return ge.cloneElement(r,i);if(rn(r))return r(i);var o=_n("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ge.createElement(o2,Ep({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(ge.isValidElement(r))return ge.cloneElement(r,i);var o=a;if(rn(r)&&(o=r(i),ge.isValidElement(o)))return o;var s=_n("recharts-pie-label-text",typeof r!="boolean"&&!rn(r)?r.className:"");return ge.createElement(Mh,Ep({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(te.PureComponent);T_=Mu;zo(Mu,"displayName","Pie");zo(Mu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Em.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zo(Mu,"parseDeltaAngle",function(t,e){var n=xa(e-t),r=Math.min(Math.abs(e-t),360);return n*r});zo(Mu,"getRealPieData",function(t){var e=t.data,n=t.children,r=Qt(t,!1),i=Vo(n,Fw);return e&&e.length?e.map(function(a,o){return ur(ur(ur({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return ur(ur({},r),a.props)}):[]});zo(Mu,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=KG(i,a),s=r+_a(t.cx,i,i/2),l=n+_a(t.cy,a,a/2),u=_a(t.innerRadius,o,0),f=_a(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:f,maxRadius:h}});zo(Mu,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ur(ur({},e.type.defaultProps),e.props):e.props,i=T_.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,f=r.nameKey,h=r.valueKey,p=r.tooltipType,v=Math.abs(r.minAngle),_=T_.parseCoordinateOfPie(r,n),S=T_.parseDeltaAngle(o,s),x=Math.abs(S),w=u;Sn(u)&&Sn(h)?(Rs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Sn(u)&&(Rs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var E=i.filter(function(D){return Qi(D,w,0)!==0}).length,b=(x>=360?E:E-1)*l,T=x-E*v-b,P=i.reduce(function(D,I){var F=Qi(I,w,0);return D+(ct(F)?F:0)},0),C;if(P>0){var L;C=i.map(function(D,I){var F=Qi(D,w,0),z=Qi(D,f,I),Y=(ct(F)?F:0)/P,H;I?H=L.endAngle+xa(S)*l*(F!==0?1:0):H=o;var K=H+xa(S)*((F!==0?v:0)+Y*T),ee=(H+K)/2,oe=(_.innerRadius+_.outerRadius)/2,ae=[{name:z,value:F,payload:D,dataKey:w,type:p}],$=hr(_.cx,_.cy,oe,ee);return L=ur(ur(ur({percent:Y,cornerRadius:a,name:z,tooltipPayload:ae,midAngle:ee,middleRadius:oe,tooltipPosition:$},D),_),{},{value:Qi(D,w),startAngle:H,endAngle:K,payload:D,paddingAngle:xa(S)*l}),L})}return ur(ur({},_),{},{sectors:C,data:i})});var zT,u5;function jxe(){if(u5)return zT;u5=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var s=-1,l=e(t((i-r)/(a||1)),0),u=Array(l);l--;)u[o?l:++s]=r,r+=a;return u}return zT=n,zT}var jT,c5;function m$(){if(c5)return jT;c5=1;var t=L6(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return jT=r,jT}var VT,f5;function Vxe(){if(f5)return VT;f5=1;var t=jxe(),e=Uw(),n=m$();function r(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),s=s===void 0?a<o?1:-1:n(s),t(a,o,s,i)}}return VT=r,VT}var HT,h5;function Hxe(){if(h5)return HT;h5=1;var t=Vxe(),e=t();return HT=e,HT}var Wxe=Hxe();const M1=$n(Wxe);function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function d5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(n),!0).forEach(function(r){g$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g$(t,e,n){return e=Gxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gxe(t){var e=$xe(t,"string");return Ey(e)=="symbol"?e:e+""}function $xe(t,e){if(Ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qxe=["Webkit","Moz","O","ms"],Xxe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=qxe.reduce(function(a,o){return p5(p5({},a),{},g$({},o+r,n))},{});return i[e]=n,i};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(this,arguments)}function m5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(n),!0).forEach(function(r){ao(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y$(r.key),r)}}function Kxe(t,e,n){return e&&g5(t.prototype,e),n&&g5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zxe(t,e,n){return e=A1(e),Jxe(t,v$()?Reflect.construct(e,n||[],A1(t).constructor):e.apply(t,n))}function Jxe(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qxe(t)}function Qxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A1(t)}function e_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S2(t,e)}function S2(t,e){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S2(t,e)}function ao(t,e,n){return e=y$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y$(t){var e=t_e(t,"string");return tm(e)=="symbol"?e:e+""}function t_e(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=wv().domain(M1(0,l)).range([a,a+o-s]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},v5=function(e){return e.changedTouches&&!!e.changedTouches.length},nm=function(t){function e(n){var r;return Yxe(this,e),r=Zxe(this,e,[n]),ao(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ao(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ao(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),ao(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ao(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ao(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ao(r,"handleSlideDragStart",function(i){var a=v5(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return e_e(e,t),Kxe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,h=Math.min(i,a),p=Math.max(i,a),v=e.getIndexInRange(o,h),_=e.getIndexInRange(o,p);return{startIndex:v-v%l,endIndex:_===f?f:_-_%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Qi(a[r],s,r);return rn(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,h=l.travellerWidth,p=l.startIndex,v=l.endIndex,_=l.onChange,S=r.pageX-a;S>0?S=Math.min(S,u+f-h-s,u+f-h-o):S<0&&(S=Math.max(S,u-o,u-s));var x=this.getIndex({startX:o+S,endX:s+S});(x.startIndex!==p||x.endIndex!==v)&&_&&_(x),this.setState({startX:o+S,endX:s+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=v5(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],f=this.props,h=f.x,p=f.width,v=f.travellerWidth,_=f.onChange,S=f.gap,x=f.data,w={startX:this.state.startX,endX:this.state.endX},E=r.pageX-a;E>0?E=Math.min(E,h+p-v-u):E<0&&(E=Math.max(E,h-u)),w[o]=u+E;var b=this.getIndex(w),T=b.startIndex,P=b.endIndex,C=function(){var D=x.length-1;return o==="startX"&&(s>l?T%S===0:P%S===0)||s<l&&P===D||o==="endX"&&(s>l?P%S===0:T%S===0)||s>l&&P===D};this.setState(ao(ao({},o,u+E),"brushMoveStartX",r.pageX),function(){_&&C()&&_(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],h=s.indexOf(f);if(h!==-1){var p=h+r;if(!(p===-1||p>=s.length)){var v=s[p];i==="startX"&&v>=u||i==="endX"&&v<=l||this.setState(ao({},i,v),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return ge.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,f=r.padding,h=te.Children.only(u);return h?ge.cloneElement(h,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,f=l.travellerWidth,h=l.height,p=l.traveller,v=l.ariaLabel,_=l.data,S=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),E=WT(WT({},Qt(this.props,!1)),{},{x:w,y:u,width:f,height:h}),b=v||"Min value: ".concat((a=_[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=_[x])===null||o===void 0?void 0:o.name);return ge.createElement(Xn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),s.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,E))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,f=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return ge.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:h,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,h=f.startX,p=f.endX,v=5,_={pointerEvents:"none",fill:u};return ge.createElement(Xn,{className:"recharts-brush-texts"},ge.createElement(Mh,E1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-v,y:o+s/2},_),this.getTextOfTick(i)),ge.createElement(Mh,E1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+l+v,y:o+s/2},_),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,f=r.height,h=r.alwaysShowText,p=this.state,v=p.startX,_=p.endX,S=p.isTextActive,x=p.isSlideMoving,w=p.isTravellerMoving,E=p.isTravellerFocused;if(!i||!i.length||!ct(s)||!ct(l)||!ct(u)||!ct(f)||u<=0||f<=0)return null;var b=_n("recharts-brush",a),T=ge.Children.count(o)===1,P=Xxe("userSelect","none");return ge.createElement(Xn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(v,_),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(_,"endX"),(S||x||w||E||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return ge.createElement(ge.Fragment,null,ge.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),ge.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ge.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ge.isValidElement(r)?a=ge.cloneElement(r,i):rn(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,h=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return WT({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?n_e({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(te.PureComponent);ao(nm,"displayName","Brush");ao(nm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GT,y5;function r_e(){if(y5)return GT;y5=1;var t=rI();function e(n,r){var i;return t(n,function(a,o,s){return i=r(a,o,s),!i}),!!i}return GT=e,GT}var $T,x5;function i_e(){if(x5)return $T;x5=1;var t=c6(),e=pl(),n=r_e(),r=Ga(),i=Uw();function a(o,s,l){var u=r(o)?t:n;return l&&i(o,s,l)&&(s=void 0),u(o,e(s,3))}return $T=a,$T}var a_e=i_e();const o_e=$n(a_e);var ul=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},qT,_5;function s_e(){if(_5)return qT;_5=1;var t=P6();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return qT=e,qT}var XT,w5;function l_e(){if(w5)return XT;w5=1;var t=s_e(),e=A6(),n=pl();function r(i,a){var o={};return a=n(a,3),e(i,function(s,l,u){t(o,l,a(s,l,u))}),o}return XT=r,XT}var u_e=l_e();const c_e=$n(u_e);var YT,S5;function f_e(){if(S5)return YT;S5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return YT=t,YT}var KT,b5;function h_e(){if(b5)return KT;b5=1;var t=rI();function e(n,r){var i=!0;return t(n,function(a,o,s){return i=!!r(a,o,s),i}),i}return KT=e,KT}var ZT,M5;function d_e(){if(M5)return ZT;M5=1;var t=f_e(),e=h_e(),n=pl(),r=Ga(),i=Uw();function a(o,s,l){var u=r(o)?t:e;return l&&i(o,s,l)&&(s=void 0),u(o,n(s,3))}return ZT=a,ZT}var p_e=d_e();const x$=$n(p_e);var m_e=["x","y"];function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function b2(){return b2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b2.apply(this,arguments)}function E5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(n),!0).forEach(function(r){g_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g_e(t,e,n){return e=v_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v_e(t){var e=y_e(t,"string");return Ay(e)=="symbol"?e:e+""}function y_e(t,e){if(Ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x_e(t,e){if(t==null)return{};var n=__e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function __e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w_e(t,e){var n=t.x,r=t.y,i=x_e(t,m_e),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),h="".concat(e.width||i.width),p=parseInt(h,10);return Kg(Kg(Kg(Kg(Kg({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function A5(t){return ge.createElement(h$,b2({shapeType:"rectangle",propTransformer:w_e,activeClassName:"recharts-active-bar"},t))}var S_e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ct(r)||Xse(r);return a?e(r,i):(a||Th(),n)}},b_e=["value","background"],_$;function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function M_e(t,e){if(t==null)return{};var n=E_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T1.apply(this,arguments)}function T5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(n),!0).forEach(function(r){yc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S$(r.key),r)}}function T_e(t,e,n){return e&&P5(t.prototype,e),n&&P5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P_e(t,e,n){return e=P1(e),C_e(t,w$()?Reflect.construct(e,n||[],P1(t).constructor):e.apply(t,n))}function C_e(t,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R_e(t)}function R_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function P1(t){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P1(t)}function O_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M2(t,e)}function M2(t,e){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M2(t,e)}function yc(t,e,n){return e=S$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S$(t){var e=I_e(t,"string");return rm(e)=="symbol"?e:e+""}function I_e(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oc=function(t){function e(){var n;A_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=P_e(this,e,[].concat(i)),yc(n,"state",{isAnimationFinished:!1}),yc(n,"id",Jy("recharts-bar-")),yc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),yc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return O_e(e,t),T_e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,f=Qt(this.props,!1);return r&&r.map(function(h,p){var v=p===l,_=v?u:o,S=Qr(Qr(Qr({},f),h),{},{isActive:v,option:_,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ge.createElement(Xn,T1({className:"recharts-bar-rectangle"},bh(i.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(p)}),ge.createElement(A5,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state.prevData;return ge.createElement(vu,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var _=v.t,S=a.map(function(x,w){var E=p&&p[w];if(E){var b=pc(E.x,x.x),T=pc(E.y,x.y),P=pc(E.width,x.width),C=pc(E.height,x.height);return Qr(Qr({},x),{},{x:b(_),y:T(_),width:P(_),height:C(_)})}if(o==="horizontal"){var L=pc(0,x.height),D=L(_);return Qr(Qr({},x),{},{y:x.y+x.height-D,height:D})}var I=pc(0,x.width),F=I(_);return Qr(Qr({},x),{},{width:F})});return ge.createElement(Xn,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Xw(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Qt(this.props.background,!1);return a.map(function(u,f){u.value;var h=u.background,p=M_e(u,b_e);if(!h)return null;var v=Qr(Qr(Qr(Qr(Qr({},p),{},{fill:"#eee"},h),l),bh(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return ge.createElement(A5,T1({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,h=Vo(f,Zw);if(!h)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,v=function(x,w){var E=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:E,errorVal:Qi(x,w)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ge.createElement(Xn,_,h.map(function(S){return ge.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,f=r.top,h=r.width,p=r.height,v=r.isAnimationActive,_=r.background,S=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=_n("recharts-bar",o),E=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,T=E||b,P=Sn(S)?this.id:S;return ge.createElement(Xn,{className:w},E||b?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(P)},ge.createElement("rect",{x:E?u:u-h/2,y:b?f:f-p/2,width:E?h:h*2,height:b?p:p*2}))):null,ge.createElement(Xn,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(P,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,P),(!v||x)&&Ec.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(te.PureComponent);_$=Oc;yc(Oc,"displayName","Bar");yc(Oc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Em.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yc(Oc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,p=t.offset,v=fge(r,n);if(!v)return null;var _=e.layout,S=n.type.defaultProps,x=S!==void 0?Qr(Qr({},S),n.props):n.props,w=x.dataKey,E=x.children,b=x.minPointSize,T=_==="horizontal"?o:a,P=u?T.scale.domain():null,C=yge({numericAxis:T}),L=Vo(E,Fw),D=h.map(function(I,F){var z,Y,H,K,ee,oe;u?z=hge(u[f+F],P):(z=Qi(I,w),Array.isArray(z)||(z=[C,z]));var ae=S_e(b,_$.defaultProps.minPointSize)(z[1],F);if(_==="horizontal"){var $,re=[o.scale(z[0]),o.scale(z[1])],J=re[0],j=re[1];Y=n4({axis:a,ticks:s,bandSize:i,offset:v.offset,entry:I,index:F}),H=($=j??J)!==null&&$!==void 0?$:void 0,K=v.size;var q=J-j;if(ee=Number.isNaN(q)?0:q,oe={x:Y,y:o.y,width:K,height:o.height},Math.abs(ae)>0&&Math.abs(ee)<Math.abs(ae)){var pe=xa(ee||ae)*(Math.abs(ae)-Math.abs(ee));H-=pe,ee+=pe}}else{var _e=[a.scale(z[0]),a.scale(z[1])],Re=_e[0],Ie=_e[1];if(Y=Re,H=n4({axis:o,ticks:l,bandSize:i,offset:v.offset,entry:I,index:F}),K=Ie-Re,ee=v.size,oe={x:a.x,y:H,width:a.width,height:ee},Math.abs(ae)>0&&Math.abs(K)<Math.abs(ae)){var Ye=xa(K||ae)*(Math.abs(ae)-Math.abs(K));K+=Ye}}return Qr(Qr(Qr({},I),{},{x:Y,y:H,width:K,height:ee,value:u?z:z[1],payload:I,background:oe},L&&L[F]&&L[F].props),{},{tooltipPayload:[XG(n,I)],tooltipPosition:{x:Y+K/2,y:H+ee/2}})});return Qr({data:D,layout:_},p)});function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function L_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b$(r.key),r)}}function N_e(t,e,n){return e&&C5(t.prototype,e),n&&C5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(n),!0).forEach(function(r){iS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iS(t,e,n){return e=b$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=D_e(t,"string");return Ty(e)=="symbol"?e:e+""}function D_e(t,e){if(Ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k_e=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!oo(u,Oc);return f.reduce(function(v,_){var S=n[_],x=S.orientation,w=S.domain,E=S.padding,b=E===void 0?{}:E,T=S.mirror,P=S.reversed,C="".concat(x).concat(T?"Mirror":""),L,D,I,F,z;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var Y=w[1]-w[0],H=1/0,K=S.categoricalDomain.sort(Zse);if(K.forEach(function(_e,Re){Re>0&&(H=Math.min((_e||0)-(K[Re-1]||0),H))}),Number.isFinite(H)){var ee=H/Y,oe=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(L=ee*oe/2),S.padding==="no-gap"){var ae=_a(e.barCategoryGap,ee*oe),$=ee*oe/2;L=$-ae-($-ae)/oe*ae}}}i==="xAxis"?D=[r.left+(b.left||0)+(L||0),r.left+r.width-(b.right||0)-(L||0)]:i==="yAxis"?D=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(L||0),r.top+r.height-(b.bottom||0)-(L||0)]:D=S.range,P&&(D=[D[1],D[0]]);var re=WG(S,a,p),J=re.scale,j=re.realScaleType;J.domain(w).range(D),GG(J);var q=$G(J,bs(bs({},S),{},{realScaleType:j}));i==="xAxis"?(z=x==="top"&&!T||x==="bottom"&&T,I=r.left,F=h[C]-z*S.height):i==="yAxis"&&(z=x==="left"&&!T||x==="right"&&T,I=h[C]-z*S.width,F=r.top);var pe=bs(bs(bs({},S),q),{},{realScaleType:j,x:I,y:F,scale:J,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return pe.bandSize=h1(pe,q),!S.hide&&i==="xAxis"?h[C]+=(z?-1:1)*pe.height:S.hide||(h[C]+=(z?-1:1)*pe.width),bs(bs({},v),{},iS({},_,pe))},{})},M$=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},U_e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return M$({x:n,y:r},{x:i,y:a})},E$=function(){function t(e){L_e(this,t),this.scale=e}return N_e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();iS(E$,"EPS",1e-4);var LI=function(e){var n=Object.keys(e).reduce(function(r,i){return bs(bs({},r),{},iS({},i,E$.create(e[i])))},{});return bs(bs({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return c_e(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return x$(i,function(a,o){return n[o].isInRange(a)})}})};function F_e(t){return(t%180+180)%180}var B_e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=F_e(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},JT,O5;function z_e(){if(O5)return JT;O5=1;var t=pl(),e=Qy(),n=Dw();function r(i){return function(a,o,s){var l=Object(a);if(!e(a)){var u=t(o,3);a=n(a),o=function(h){return u(l[h],h,l)}}var f=i(a,o,s);return f>-1?l[u?a[f]:f]:void 0}}return JT=r,JT}var QT,I5;function j_e(){if(I5)return QT;I5=1;var t=m$();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return QT=e,QT}var eP,L5;function V_e(){if(L5)return eP;L5=1;var t=w6(),e=pl(),n=j_e(),r=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var u=s==null?0:n(s);return u<0&&(u=r(l+u,0)),t(a,e(o,3),u)}return eP=i,eP}var tP,N5;function H_e(){if(N5)return tP;N5=1;var t=z_e(),e=V_e(),n=t(e);return tP=n,tP}var W_e=H_e();const G_e=$n(W_e);var $_e=UW();const q_e=$n($_e);var X_e=q_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),NI=te.createContext(void 0),DI=te.createContext(void 0),A$=te.createContext(void 0),T$=te.createContext({}),P$=te.createContext(void 0),C$=te.createContext(0),R$=te.createContext(0),D5=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,f=X_e(a);return ge.createElement(NI.Provider,{value:r},ge.createElement(DI.Provider,{value:i},ge.createElement(T$.Provider,{value:a},ge.createElement(A$.Provider,{value:f},ge.createElement(P$.Provider,{value:o},ge.createElement(C$.Provider,{value:u},ge.createElement(R$.Provider,{value:l},s)))))))},Y_e=function(){return te.useContext(P$)},O$=function(e){var n=te.useContext(NI);n==null&&Th();var r=n[e];return r==null&&Th(),r},K_e=function(){var e=te.useContext(NI);return gc(e)},Z_e=function(){var e=te.useContext(DI),n=G_e(e,function(r){return x$(r.domain,Number.isFinite)});return n||gc(e)},I$=function(e){var n=te.useContext(DI);n==null&&Th();var r=n[e];return r==null&&Th(),r},J_e=function(){var e=te.useContext(A$);return e},Q_e=function(){return te.useContext(T$)},kI=function(){return te.useContext(R$)},UI=function(){return te.useContext(C$)};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function e1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function n1e(t,e,n){return e&&t1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r1e(t,e,n){return e=C1(e),i1e(t,L$()?Reflect.construct(e,n||[],C1(t).constructor):e.apply(t,n))}function i1e(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a1e(t)}function a1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L$=function(){return!!t})()}function C1(t){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C1(t)}function o1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E2(t,e)}function E2(t,e){return E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E2(t,e)}function k5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(n),!0).forEach(function(r){FI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FI(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t){var e=s1e(t,"string");return im(e)=="symbol"?e:e+""}function s1e(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l1e(t,e){return h1e(t)||f1e(t,e)||c1e(t,e)||u1e()}function u1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c1e(t,e){if(t){if(typeof t=="string")return F5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F5(t,e)}}function F5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function h1e(t){if(Array.isArray(t))return t}function A2(){return A2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A2.apply(this,arguments)}var d1e=function(e,n){var r;return ge.isValidElement(e)?r=ge.cloneElement(e,n):rn(e)?r=e(n):r=ge.createElement("line",A2({},n,{className:"recharts-reference-line-line"})),r},p1e=function(e,n,r,i,a,o,s,l,u){var f=a.x,h=a.y,p=a.width,v=a.height;if(r){var _=u.y,S=e.y.apply(_,{position:o});if(ul(u,"discard")&&!e.y.isInRange(S))return null;var x=[{x:f+p,y:S},{x:f,y:S}];return l==="left"?x.reverse():x}if(n){var w=u.x,E=e.x.apply(w,{position:o});if(ul(u,"discard")&&!e.x.isInRange(E))return null;var b=[{x:E,y:h+v},{x:E,y:h}];return s==="top"?b.reverse():b}if(i){var T=u.segment,P=T.map(function(C){return e.apply(C,{position:o})});return ul(u,"discard")&&o_e(P,function(C){return!e.isInRange(C)})?null:P}return null};function m1e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Y_e(),f=O$(i),h=I$(a),p=J_e();if(!u||!p)return null;Rs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=LI({x:f.scale,y:h.scale}),_=di(e),S=di(n),x=r&&r.length===2,w=p1e(v,_,S,x,p,t.position,f.orientation,h.orientation,t);if(!w)return null;var E=l1e(w,2),b=E[0],T=b.x,P=b.y,C=E[1],L=C.x,D=C.y,I=ul(t,"hidden")?"url(#".concat(u,")"):void 0,F=U5(U5({clipPath:I},Qt(t,!0)),{},{x1:T,y1:P,x2:L,y2:D});return ge.createElement(Xn,{className:_n("recharts-reference-line",s)},d1e(o,F),Ei.renderCallByParent(t,U_e({x1:T,y1:P,x2:L,y2:D})))}var BI=function(t){function e(){return e1e(this,e),r1e(this,e,arguments)}return o1e(e,t),n1e(e,[{key:"render",value:function(){return ge.createElement(m1e,this.props)}}])}(ge.Component);FI(BI,"displayName","ReferenceLine");FI(BI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function T2(){return T2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T2.apply(this,arguments)}function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function B5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(n),!0).forEach(function(r){aS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k$(r.key),r)}}function y1e(t,e,n){return e&&v1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x1e(t,e,n){return e=R1(e),_1e(t,D$()?Reflect.construct(e,n||[],R1(t).constructor):e.apply(t,n))}function _1e(t,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w1e(t)}function w1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function R1(t){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R1(t)}function S1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P2(t,e)}function P2(t,e){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P2(t,e)}function aS(t,e,n){return e=k$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$(t){var e=b1e(t,"string");return am(e)=="symbol"?e:e+""}function b1e(t,e){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M1e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=LI({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ul(e,"discard")&&!o.isInRange(s)?null:s},oS=function(t){function e(){return g1e(this,e),x1e(this,e,arguments)}return S1e(e,t),y1e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=di(i),f=di(a);if(Rs(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=M1e(this.props);if(!h)return null;var p=h.x,v=h.y,_=this.props,S=_.shape,x=_.className,w=ul(this.props,"hidden")?"url(#".concat(l,")"):void 0,E=z5(z5({clipPath:w},Qt(this.props,!0)),{},{cx:p,cy:v});return ge.createElement(Xn,{className:_n("recharts-reference-dot",x)},e.renderDot(S,E),Ei.renderCallByParent(this.props,{x:p-o,y:v-o,width:2*o,height:2*o}))}}])}(ge.Component);aS(oS,"displayName","ReferenceDot");aS(oS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});aS(oS,"renderDot",function(t,e){var n;return ge.isValidElement(t)?n=ge.cloneElement(t,e):rn(t)?n=t(e):n=ge.createElement(II,T2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function C2(){return C2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C2.apply(this,arguments)}function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function j5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(n),!0).forEach(function(r){sS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F$(r.key),r)}}function T1e(t,e,n){return e&&A1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P1e(t,e,n){return e=O1(e),C1e(t,U$()?Reflect.construct(e,n||[],O1(t).constructor):e.apply(t,n))}function C1e(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1e(t)}function R1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U$=function(){return!!t})()}function O1(t){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O1(t)}function O1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R2(t,e)}function R2(t,e){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R2(t,e)}function sS(t,e,n){return e=F$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F$(t){var e=I1e(t,"string");return om(e)=="symbol"?e:e+""}function I1e(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L1e=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,h=a.yAxis;if(!f||!h)return null;var p=LI({x:f.scale,y:h.scale}),v={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},_={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return ul(a,"discard")&&(!p.isInRange(v)||!p.isInRange(_))?null:M$(v,_)},lS=function(t){function e(){return E1e(this,e),P1e(this,e,arguments)}return O1e(e,t),T1e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;Rs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=di(i),p=di(a),v=di(o),_=di(s),S=this.props.shape;if(!h&&!p&&!v&&!_&&!S)return null;var x=L1e(h,p,v,_,this.props);if(!x&&!S)return null;var w=ul(this.props,"hidden")?"url(#".concat(f,")"):void 0;return ge.createElement(Xn,{className:_n("recharts-reference-area",l)},e.renderRect(S,V5(V5({clipPath:w},Qt(this.props,!0)),x)),Ei.renderCallByParent(this.props,x))}}])}(ge.Component);sS(lS,"displayName","ReferenceArea");sS(lS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});sS(lS,"renderRect",function(t,e){var n;return ge.isValidElement(t)?n=ge.cloneElement(t,e):rn(t)?n=t(e):n=ge.createElement(OI,C2({},e,{className:"recharts-reference-area-rect"})),n});function B$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function N1e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return B_e(r,n)}function D1e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function I1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function k1e(t,e){return B$(t,e+1)}function U1e(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,f=o,h=function(){var _=r==null?void 0:r[l];if(_===void 0)return{v:B$(r,u)};var S=l,x,w=function(){return x===void 0&&(x=n(_,S)),x},E=_.coordinate,b=l===0||I1(t,E,w,f,s);b||(l=0,f=o,u+=1),b&&(f=E+t*(w()/2+i),l+=u)},p;u<=a.length;)if(p=h(),p)return p.v;return[]}function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function H5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H5(Object(n),!0).forEach(function(r){F1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F1e(t,e,n){return e=B1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B1e(t){var e=z1e(t,"string");return Py(e)=="symbol"?e:e+""}function z1e(t,e){if(Py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j1e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var v=a[p],_,S=function(){return _===void 0&&(_=n(v,p)),_};if(p===o-1){var x=t*(v.coordinate+t*S()/2-l);a[p]=v=Zi(Zi({},v),{},{tickCoord:x>0?v.coordinate-x*t:v.coordinate})}else a[p]=v=Zi(Zi({},v),{},{tickCoord:v.coordinate});var w=I1(t,v.tickCoord,S,s,l);w&&(l=v.tickCoord-t*(S()/2+i),a[p]=Zi(Zi({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function V1e(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var f=r[s-1],h=n(f,s-1),p=t*(f.coordinate+t*h/2-u);o[s-1]=f=Zi(Zi({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var v=I1(t,f.tickCoord,function(){return h},l,u);v&&(u=f.tickCoord-t*(h/2+i),o[s-1]=Zi(Zi({},f),{},{isShow:!0}))}for(var _=a?s-1:s,S=function(E){var b=o[E],T,P=function(){return T===void 0&&(T=n(b,E)),T};if(E===0){var C=t*(b.coordinate-t*P()/2-l);o[E]=b=Zi(Zi({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else o[E]=b=Zi(Zi({},b),{},{tickCoord:b.coordinate});var L=I1(t,b.tickCoord,P,l,u);L&&(l=b.tickCoord+t*(P()/2+i),o[E]=Zi(Zi({},b),{},{isShow:!0}))},x=0;x<_;x++)S(x);return o}function zI(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ct(l)||Em.isSsr)return k1e(i,typeof l=="number"&&ct(l)?l:0);var p=[],v=s==="top"||s==="bottom"?"width":"height",_=f&&v==="width"?_v(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(b,T){var P=rn(u)?u(b.value,T):b.value;return v==="width"?N1e(_v(P,{fontSize:e,letterSpacing:n}),_,h):_v(P,{fontSize:e,letterSpacing:n})[v]},x=i.length>=2?xa(i[1].coordinate-i[0].coordinate):1,w=D1e(a,x,v);return l==="equidistantPreserveStart"?U1e(x,w,S,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=V1e(x,w,S,i,o,l==="preserveStartEnd"):p=j1e(x,w,S,i,o),p.filter(function(E){return E.isShow}))}var H1e=["viewBox"],W1e=["viewBox"],G1e=["ticks"];function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function W5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(r){jI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nP(t,e){if(t==null)return{};var n=$1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j$(r.key),r)}}function X1e(t,e,n){return e&&G5(t.prototype,e),n&&G5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y1e(t,e,n){return e=L1(e),K1e(t,z$()?Reflect.construct(e,n||[],L1(t).constructor):e.apply(t,n))}function K1e(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z1e(t)}function Z1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z$=function(){return!!t})()}function L1(t){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L1(t)}function J1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O2(t,e)}function O2(t,e){return O2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O2(t,e)}function jI(t,e,n){return e=j$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$(t){var e=Q1e(t,"string");return sm(e)=="symbol"?e:e+""}function Q1e(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cm=function(t){function e(n){var r;return q1e(this,e),r=Y1e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return J1e(e,t),X1e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=nP(r,H1e),s=this.props,l=s.viewBox,u=nP(s,W1e);return!Rp(a,l)||!Rp(o,u)||!Rp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,h=i.mirror,p=i.tickMargin,v,_,S,x,w,E,b=h?-1:1,T=r.tickSize||f,P=ct(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":v=_=r.coordinate,x=o+ +!h*l,S=x-b*T,E=S-b*p,w=P;break;case"left":S=x=r.coordinate,_=a+ +!h*s,v=_-b*T,w=v-b*p,E=P;break;case"right":S=x=r.coordinate,_=a+ +h*s,v=_+b*T,w=v+b*p,E=P;break;default:v=_=r.coordinate,x=o+ +h*l,S=x+b*T,E=S+b*p,w=P;break}return{line:{x1:v,y1:S,x2:_,y2:x},tick:{x:w,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,h=ui(ui(ui({},Qt(this.props,!1)),Qt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);h=ui(ui({},h),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var v=+(l==="left"&&!u||l==="right"&&u);h=ui(ui({},h),{},{x1:i+v*o,y1:a,x2:i+v*o,y2:a+s})}return ge.createElement("line",Ap({},h,{className:_n("recharts-cartesian-axis-line",po(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,h=s.tickFormatter,p=s.unit,v=zI(ui(ui({},this.props),{},{ticks:r}),i,a),_=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),x=Qt(this.props,!1),w=Qt(f,!1),E=ui(ui({},x),{},{fill:"none"},Qt(l,!1)),b=v.map(function(T,P){var C=o.getTickLineCoord(T),L=C.line,D=C.tick,I=ui(ui(ui(ui({textAnchor:_,verticalAnchor:S},x),{},{stroke:"none",fill:u},w),D),{},{index:P,payload:T,visibleTicksCount:v.length,tickFormatter:h});return ge.createElement(Xn,Ap({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},bh(o.props,T,P)),l&&ge.createElement("line",Ap({},E,L,{className:_n("recharts-cartesian-axis-tick-line",po(l,"className"))})),f&&e.renderTickItem(f,I,"".concat(rn(h)?h(T.value,P):T.value).concat(p||"")))});return ge.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var h=this.props,p=h.ticks,v=nP(h,G1e),_=p;return rn(l)&&(_=p&&p.length>0?l(this.props):l(v)),o<=0||s<=0||!_||!_.length?null:ge.createElement(Xn,{className:_n("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Ei.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=_n(i.className,"recharts-cartesian-axis-tick-value");return ge.isValidElement(r)?o=ge.cloneElement(r,ui(ui({},i),{},{className:s})):rn(r)?o=r(ui(ui({},i),{},{className:s})):o=ge.createElement(Mh,Ap({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(te.Component);jI(Cm,"displayName","CartesianAxis");jI(Cm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ewe=["x1","y1","x2","y2","key"],twe=["offset"];function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function $5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(n),!0).forEach(function(r){nwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nwe(t,e,n){return e=rwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rwe(t){var e=iwe(t,"string");return Ph(e)=="symbol"?e:e+""}function iwe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oh.apply(this,arguments)}function q5(t,e){if(t==null)return{};var n=awe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function awe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var owe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return ge.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function V$(t,e){var n;if(ge.isValidElement(t))n=ge.cloneElement(t,e);else if(rn(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=q5(e,ewe),u=Qt(l,!1);u.offset;var f=q5(u,twe);n=ge.createElement("line",oh({},f,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function swe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ji(Ji({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return V$(i,u)});return ge.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function lwe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ji(Ji({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return V$(i,u)});return ge.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function uwe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,v){return p-v});i!==f[0]&&f.unshift(0);var h=f.map(function(p,v){var _=!f[v+1],S=_?i+o-p:f[v+1]-p;if(S<=0)return null;var x=v%e.length;return ge.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:S,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function cwe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,v){return p-v});a!==f[0]&&f.unshift(0);var h=f.map(function(p,v){var _=!f[v+1],S=_?a+s-p:f[v+1]-p;if(S<=0)return null;var x=v%r.length;return ge.createElement("rect",{key:"react-".concat(v),x:p,y:o,width:S,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var fwe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return HG(zI(Ji(Ji(Ji({},Cm.defaultProps),r),{},{ticks:lu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},hwe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return HG(zI(Ji(Ji(Ji({},Cm.defaultProps),r),{},{ticks:lu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},up={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function H$(t){var e,n,r,i,a,o,s=kI(),l=UI(),u=Q_e(),f=Ji(Ji({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:up.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:up.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:up.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:up.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:up.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:up.verticalFill,x:ct(t.x)?t.x:u.left,y:ct(t.y)?t.y:u.top,width:ct(t.width)?t.width:u.width,height:ct(t.height)?t.height:u.height}),h=f.x,p=f.y,v=f.width,_=f.height,S=f.syncWithTicks,x=f.horizontalValues,w=f.verticalValues,E=K_e(),b=Z_e();if(!ct(v)||v<=0||!ct(_)||_<=0||!ct(h)||h!==+h||!ct(p)||p!==+p)return null;var T=f.verticalCoordinatesGenerator||fwe,P=f.horizontalCoordinatesGenerator||hwe,C=f.horizontalPoints,L=f.verticalPoints;if((!C||!C.length)&&rn(P)){var D=x&&x.length,I=P({yAxis:b?Ji(Ji({},b),{},{ticks:D?x:b.ticks}):void 0,width:s,height:l,offset:u},D?!0:S);Rs(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ph(I),"]")),Array.isArray(I)&&(C=I)}if((!L||!L.length)&&rn(T)){var F=w&&w.length,z=T({xAxis:E?Ji(Ji({},E),{},{ticks:F?w:E.ticks}):void 0,width:s,height:l,offset:u},F?!0:S);Rs(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ph(z),"]")),Array.isArray(z)&&(L=z)}return ge.createElement("g",{className:"recharts-cartesian-grid"},ge.createElement(owe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),ge.createElement(swe,oh({},f,{offset:u,horizontalPoints:C,xAxis:E,yAxis:b})),ge.createElement(lwe,oh({},f,{offset:u,verticalPoints:L,xAxis:E,yAxis:b})),ge.createElement(uwe,oh({},f,{horizontalPoints:C})),ge.createElement(cwe,oh({},f,{verticalPoints:L})))}H$.displayName="CartesianGrid";function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function dwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$$(r.key),r)}}function mwe(t,e,n){return e&&pwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gwe(t,e,n){return e=N1(e),vwe(t,W$()?Reflect.construct(e,n||[],N1(t).constructor):e.apply(t,n))}function vwe(t,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ywe(t)}function ywe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W$=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N1(t)}function xwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I2(t,e)}function I2(t,e){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I2(t,e)}function G$(t,e,n){return e=$$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t){var e=_we(t,"string");return lm(e)=="symbol"?e:e+""}function _we(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L2.apply(this,arguments)}function wwe(t){var e=t.xAxisId,n=kI(),r=UI(),i=O$(e);return i==null?null:te.createElement(Cm,L2({},i,{className:_n("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return lu(o,!0)}}))}var uS=function(t){function e(){return dwe(this,e),gwe(this,e,arguments)}return xwe(e,t),mwe(e,[{key:"render",value:function(){return te.createElement(wwe,this.props)}}])}(te.Component);G$(uS,"displayName","XAxis");G$(uS,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function Swe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y$(r.key),r)}}function Mwe(t,e,n){return e&&bwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ewe(t,e,n){return e=D1(e),Awe(t,q$()?Reflect.construct(e,n||[],D1(t).constructor):e.apply(t,n))}function Awe(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Twe(t)}function Twe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q$=function(){return!!t})()}function D1(t){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D1(t)}function Pwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N2(t,e)}function N2(t,e){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N2(t,e)}function X$(t,e,n){return e=Y$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y$(t){var e=Cwe(t,"string");return um(e)=="symbol"?e:e+""}function Cwe(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D2.apply(this,arguments)}var Rwe=function(e){var n=e.yAxisId,r=kI(),i=UI(),a=I$(n);return a==null?null:te.createElement(Cm,D2({},a,{className:_n("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return lu(s,!0)}}))},cS=function(t){function e(){return Swe(this,e),Ewe(this,e,arguments)}return Pwe(e,t),Mwe(e,[{key:"render",value:function(){return te.createElement(Rwe,this.props)}}])}(te.Component);X$(cS,"displayName","YAxis");X$(cS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function X5(t){return Nwe(t)||Lwe(t)||Iwe(t)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iwe(t,e){if(t){if(typeof t=="string")return k2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k2(t,e)}}function Lwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nwe(t){if(Array.isArray(t))return k2(t)}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U2=function(e,n,r,i,a){var o=Vo(e,BI),s=Vo(e,oS),l=[].concat(X5(o),X5(s)),u=Vo(e,lS),f="".concat(i,"Id"),h=i[0],p=n;if(l.length&&(p=l.reduce(function(S,x){if(x.props[f]===r&&ul(x.props,"extendDomain")&&ct(x.props[h])){var w=x.props[h];return[Math.min(S[0],w),Math.max(S[1],w)]}return S},p)),u.length){var v="".concat(h,"1"),_="".concat(h,"2");p=u.reduce(function(S,x){if(x.props[f]===r&&ul(x.props,"extendDomain")&&ct(x.props[v])&&ct(x.props[_])){var w=x.props[v],E=x.props[_];return[Math.min(S[0],w,E),Math.max(S[1],w,E)]}return S},p)}return a&&a.length&&(p=a.reduce(function(S,x){return ct(x)?[Math.min(S[0],x),Math.max(S[1],x)]:S},p)),p},rP={exports:{}},Y5;function Dwe(){return Y5||(Y5=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||l,p),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],v]:l._events[_].push(v):(l._events[_]=v,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,v=h.length,_=new Array(v);p<v;p++)_[p]=h[p].fn;return _},s.prototype.listenerCount=function(u){var f=n?n+u:u,h=this._events[f];return h?h.fn?1:h.length:0},s.prototype.emit=function(u,f,h,p,v,_){var S=n?n+u:u;if(!this._events[S])return!1;var x=this._events[S],w=arguments.length,E,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,h),!0;case 4:return x.fn.call(x.context,f,h,p),!0;case 5:return x.fn.call(x.context,f,h,p,v),!0;case 6:return x.fn.call(x.context,f,h,p,v,_),!0}for(b=1,E=new Array(w-1);b<w;b++)E[b-1]=arguments[b];x.fn.apply(x.context,E)}else{var T=x.length,P;for(b=0;b<T;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),w){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,h);break;case 4:x[b].fn.call(x[b].context,f,h,p);break;default:if(!E)for(P=1,E=new Array(w-1);P<w;P++)E[P-1]=arguments[P];x[b].fn.apply(x[b].context,E)}}return!0},s.prototype.on=function(u,f,h){return a(this,u,f,h,!1)},s.prototype.once=function(u,f,h){return a(this,u,f,h,!0)},s.prototype.removeListener=function(u,f,h,p){var v=n?n+u:u;if(!this._events[v])return this;if(!f)return o(this,v),this;var _=this._events[v];if(_.fn)_.fn===f&&(!p||_.once)&&(!h||_.context===h)&&o(this,v);else{for(var S=0,x=[],w=_.length;S<w;S++)(_[S].fn!==f||p&&!_[S].once||h&&_[S].context!==h)&&x.push(_[S]);x.length?this._events[v]=x.length===1?x[0]:x:o(this,v)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(rP)),rP.exports}var kwe=Dwe();const Uwe=$n(kwe);var iP=new Uwe,aP="recharts.syncMouseEvents";function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function Fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function zwe(t,e,n){return e&&Bwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oP(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K$(t){var e=jwe(t,"string");return Cy(e)=="symbol"?e:e+""}function jwe(t,e){if(Cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vwe=function(){function t(){Fwe(this,t),oP(this,"activeIndex",0),oP(this,"coordinateList",[]),oP(this,"layout","horizontal")}return zwe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,f=n.offset,h=f===void 0?null:f,p=n.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+l+u,p=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function Hwe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ct(r)&&ct(i))return!0}return!1}function Wwe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Z$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=hr(e,n,r,i),s=hr(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Gwe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,p=hr(s,l,u,h),v=hr(s,l,f,h);r=p.x,i=p.y,a=v.x,o=v.y}else return Z$(e);return[{x:r,y:i},{x:a,y:o}]}function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function K5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K5(Object(n),!0).forEach(function(r){$we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $we(t,e,n){return e=qwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qwe(t){var e=Xwe(t,"string");return Ry(e)=="symbol"?e:e+""}function Xwe(t,e){if(Ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ywe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var _,S=o2;if(p==="ScatterChart")_=o,S=R0e;else if(p==="BarChart")_=Wwe(h,o,l,f),S=OI;else if(h==="radial"){var x=Z$(o),w=x.cx,E=x.cy,b=x.radius,T=x.startAngle,P=x.endAngle;_={cx:w,cy:E,startAngle:T,endAngle:P,innerRadius:b,outerRadius:b},S=e$}else _={points:Gwe(h,o,l)},S=o2;var C=c_(c_(c_(c_({stroke:"#ccc",pointerEvents:"none"},l),_),Qt(v,!1)),{},{payload:s,payloadIndex:u,className:_n("recharts-tooltip-cursor",v.className)});return te.isValidElement(v)?te.cloneElement(v,C):te.createElement(S,C)}var Kwe=["item"],Zwe=["children","className","width","height","style","compact","title","desc"];function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}function Z5(t,e){return eSe(t)||Qwe(t,e)||Q$(t,e)||Jwe()}function Jwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function eSe(t){if(Array.isArray(t))return t}function J5(t,e){if(t==null)return{};var n=tSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eq(r.key),r)}}function iSe(t,e,n){return e&&rSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aSe(t,e,n){return e=k1(e),oSe(t,J$()?Reflect.construct(e,n||[],k1(t).constructor):e.apply(t,n))}function oSe(t,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sSe(t)}function sSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J$=function(){return!!t})()}function k1(t){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k1(t)}function lSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F2(t,e)}function F2(t,e){return F2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F2(t,e)}function fm(t){return fSe(t)||cSe(t)||Q$(t)||uSe()}function uSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$(t,e){if(t){if(typeof t=="string")return B2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B2(t,e)}}function cSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fSe(t){if(Array.isArray(t))return B2(t)}function B2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(n),!0).forEach(function(r){Yt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yt(t,e,n){return e=eq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eq(t){var e=hSe(t,"string");return cm(e)=="symbol"?e:e+""}function hSe(t,e){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dSe={xAxis:["bottom","top"],yAxis:["left","right"]},pSe={width:"100%",height:"100%"},tq={x:0,y:0};function f_(t){return t}var mSe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},gSe=function(e,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return We(We(We({},i),hr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return We(We(We({},i),hr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return tq},fS=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(fm(s),fm(u)):s},[]);return o.length>0?o:e&&e.length&&ct(i)&&ct(a)?e.slice(i,a+1):[]};function nq(t){return t==="number"?[0,"auto"]:void 0}var z2=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=fS(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var v=h===void 0?s:h;p=_C(v,o.dataKey,i)}else p=h&&h[r]||s[r];return p?[].concat(fm(l),[XG(u,p)]):l},[])},ej=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=mSe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=age(o,s,u,l);if(f>=0&&u){var h=u[f]&&u[f].value,p=z2(e,n,f,h),v=gSe(r,s,f,a);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:v}}return null},vSe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=e.stackOffset,v=VG(f,a);return r.reduce(function(_,S){var x,w=S.type.defaultProps!==void 0?We(We({},S.type.defaultProps),S.props):S.props,E=w.type,b=w.dataKey,T=w.allowDataOverflow,P=w.allowDuplicatedCategory,C=w.scale,L=w.ticks,D=w.includeHidden,I=w[o];if(_[I])return _;var F=fS(e.data,{graphicalItems:i.filter(function(q){var pe,_e=o in q.props?q.props[o]:(pe=q.type.defaultProps)===null||pe===void 0?void 0:pe[o];return _e===I}),dataStartIndex:l,dataEndIndex:u}),z=F.length,Y,H,K;Hwe(w.domain,T,E)&&(Y=t2(w.domain,null,T),v&&(E==="number"||C!=="auto")&&(K=Sv(F,b,"category")));var ee=nq(E);if(!Y||Y.length===0){var oe,ae=(oe=w.domain)!==null&&oe!==void 0?oe:ee;if(b){if(Y=Sv(F,b,E),E==="category"&&v){var $=Kse(Y);P&&$?(H=Y,Y=M1(0,z)):P||(Y=a4(ae,Y,S).reduce(function(q,pe){return q.indexOf(pe)>=0?q:[].concat(fm(q),[pe])},[]))}else if(E==="category")P?Y=Y.filter(function(q){return q!==""&&!Sn(q)}):Y=a4(ae,Y,S).reduce(function(q,pe){return q.indexOf(pe)>=0||pe===""||Sn(pe)?q:[].concat(fm(q),[pe])},[]);else if(E==="number"){var re=cge(F,i.filter(function(q){var pe,_e,Re=o in q.props?q.props[o]:(pe=q.type.defaultProps)===null||pe===void 0?void 0:pe[o],Ie="hide"in q.props?q.props.hide:(_e=q.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Re===I&&(D||!Ie)}),b,a,f);re&&(Y=re)}v&&(E==="number"||C!=="auto")&&(K=Sv(F,b,"category"))}else v?Y=M1(0,z):s&&s[I]&&s[I].hasStack&&E==="number"?Y=p==="expand"?[0,1]:qG(s[I].stackGroups,l,u):Y=jG(F,i.filter(function(q){var pe=o in q.props?q.props[o]:q.type.defaultProps[o],_e="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return pe===I&&(D||!_e)}),E,f,!0);if(E==="number")Y=U2(h,Y,I,a,L),ae&&(Y=t2(ae,Y,T));else if(E==="category"&&ae){var J=ae,j=Y.every(function(q){return J.indexOf(q)>=0});j&&(Y=J)}}return We(We({},_),{},Yt({},I,We(We({},w),{},{axisType:a,domain:Y,categoricalDomain:K,duplicateDomain:H,originalDomain:(x=w.domain)!==null&&x!==void 0?x:ee,isCategorical:v,layout:f})))},{})},ySe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=fS(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),v=p.length,_=VG(f,a),S=-1;return r.reduce(function(x,w){var E=w.type.defaultProps!==void 0?We(We({},w.type.defaultProps),w.props):w.props,b=E[o],T=nq("number");if(!x[b]){S++;var P;return _?P=M1(0,v):s&&s[b]&&s[b].hasStack?(P=qG(s[b].stackGroups,l,u),P=U2(h,P,b,a)):(P=t2(T,jG(p,r.filter(function(C){var L,D,I=o in C.props?C.props[o]:(L=C.type.defaultProps)===null||L===void 0?void 0:L[o],F="hide"in C.props?C.props.hide:(D=C.type.defaultProps)===null||D===void 0?void 0:D.hide;return I===b&&!F}),"number",f),i.defaultProps.allowDataOverflow),P=U2(h,P,b,a)),We(We({},x),{},Yt({},b,We(We({axisType:a},i.defaultProps),{},{hide:!0,orientation:po(dSe,"".concat(a,".").concat(S%2),null),domain:P,originalDomain:T,isCategorical:_,layout:f})))}return x},{})},xSe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),p=Vo(f,a),v={};return p&&p.length?v=vSe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(v=ySe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),v},_Se=function(e){var n=gc(e),r=lu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:iI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:h1(n,r)}},tj=function(e){var n=e.children,r=e.defaultShowTooltip,i=oo(n,nm),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},wSe=function(e){return!e||!e.length?!1:e.some(function(n){var r=uu(n&&n.type);return r&&r.indexOf("Bar")>=0})},nj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SSe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,h=r.children,p=r.margin||{},v=oo(h,nm),_=oo(h,Op),S=Object.keys(l).reduce(function(P,C){var L=l[C],D=L.orientation;return!L.mirror&&!L.hide?We(We({},P),{},Yt({},D,P[D]+L.width)):P},{left:p.left||0,right:p.right||0}),x=Object.keys(o).reduce(function(P,C){var L=o[C],D=L.orientation;return!L.mirror&&!L.hide?We(We({},P),{},Yt({},D,po(P,"".concat(D))+L.height)):P},{top:p.top||0,bottom:p.bottom||0}),w=We(We({},x),S),E=w.bottom;v&&(w.bottom+=v.props.height||nm.defaultProps.height),_&&n&&(w=lge(w,i,r,n));var b=u-w.left-w.right,T=f-w.top-w.bottom;return We(We({brushBottom:E},w),{},{width:Math.max(b,0),height:Math.max(T,0)})},bSe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},rq=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(w,E){var b=E.graphicalItems,T=E.stackGroups,P=E.offset,C=E.updateId,L=E.dataStartIndex,D=E.dataEndIndex,I=w.barSize,F=w.layout,z=w.barGap,Y=w.barCategoryGap,H=w.maxBarSize,K=nj(F),ee=K.numericAxisName,oe=K.cateAxisName,ae=wSe(b),$=[];return b.forEach(function(re,J){var j=fS(w.data,{graphicalItems:[re],dataStartIndex:L,dataEndIndex:D}),q=re.type.defaultProps!==void 0?We(We({},re.type.defaultProps),re.props):re.props,pe=q.dataKey,_e=q.maxBarSize,Re=q["".concat(ee,"Id")],Ie=q["".concat(oe,"Id")],Ye={},Xe=l.reduce(function(Bt,ln){var le=E["".concat(ln.axisType,"Map")],Q=q["".concat(ln.axisType,"Id")];le&&le[Q]||ln.axisType==="zAxis"||Th();var Le=le[Q];return We(We({},Bt),{},Yt(Yt({},ln.axisType,Le),"".concat(ln.axisType,"Ticks"),lu(Le)))},Ye),ke=Xe[oe],Ze=Xe["".concat(oe,"Ticks")],Fe=T&&T[Re]&&T[Re].hasStack&&xge(re,T[Re].stackGroups),Z=uu(re.type).indexOf("Bar")>=0,Ne=h1(ke,Ze),be=[],qe=ae&&oge({barSize:I,stackGroups:T,totalSize:bSe(Xe,oe)});if(Z){var Be,ot,lt=Sn(_e)?H:_e,dt=(Be=(ot=h1(ke,Ze,!0))!==null&&ot!==void 0?ot:lt)!==null&&Be!==void 0?Be:0;be=sge({barGap:z,barCategoryGap:Y,bandSize:dt!==Ne?dt:Ne,sizeList:qe[Ie],maxBarSize:lt}),dt!==Ne&&(be=be.map(function(Bt){return We(We({},Bt),{},{position:We(We({},Bt.position),{},{offset:Bt.position.offset-dt/2})})}))}var Tt=re&&re.type&&re.type.getComposedData;Tt&&$.push({props:We(We({},Tt(We(We({},Xe),{},{displayedData:j,props:w,dataKey:pe,item:re,bandSize:Ne,barPosition:be,offset:P,stackedData:Fe,layout:F,dataStartIndex:L,dataEndIndex:D}))),{},Yt(Yt(Yt({key:re.key||"item-".concat(J)},ee,Xe[ee]),oe,Xe[oe]),"animationId",C)),childIndex:lle(re,w.children),item:re})}),$},v=function(w,E){var b=w.props,T=w.dataStartIndex,P=w.dataEndIndex,C=w.updateId;if(!_U({props:b}))return null;var L=b.children,D=b.layout,I=b.stackOffset,F=b.data,z=b.reverseStackOrder,Y=nj(D),H=Y.numericAxisName,K=Y.cateAxisName,ee=Vo(L,r),oe=vge(F,ee,"".concat(H,"Id"),"".concat(K,"Id"),I,z),ae=l.reduce(function(q,pe){var _e="".concat(pe.axisType,"Map");return We(We({},q),{},Yt({},_e,xSe(b,We(We({},pe),{},{graphicalItems:ee,stackGroups:pe.axisType===H&&oe,dataStartIndex:T,dataEndIndex:P}))))},{}),$=SSe(We(We({},ae),{},{props:b,graphicalItems:ee}),E==null?void 0:E.legendBBox);Object.keys(ae).forEach(function(q){ae[q]=f(b,ae[q],$,q.replace("Map",""),n)});var re=ae["".concat(K,"Map")],J=_Se(re),j=p(b,We(We({},ae),{},{dataStartIndex:T,dataEndIndex:P,updateId:C,graphicalItems:ee,stackGroups:oe,offset:$}));return We(We({formattedGraphicalItems:j,graphicalItems:ee,offset:$,stackGroups:oe},J),ae)},_=function(x){function w(E){var b,T,P;return nSe(this,w),P=aSe(this,w,[E]),Yt(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Yt(P,"accessibilityManager",new Vwe),Yt(P,"handleLegendBBoxUpdate",function(C){if(C){var L=P.state,D=L.dataStartIndex,I=L.dataEndIndex,F=L.updateId;P.setState(We({legendBBox:C},v({props:P.props,dataStartIndex:D,dataEndIndex:I,updateId:F},We(We({},P.state),{},{legendBBox:C}))))}}),Yt(P,"handleReceiveSyncEvent",function(C,L,D){if(P.props.syncId===C){if(D===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(L)}}),Yt(P,"handleBrushChange",function(C){var L=C.startIndex,D=C.endIndex;if(L!==P.state.dataStartIndex||D!==P.state.dataEndIndex){var I=P.state.updateId;P.setState(function(){return We({dataStartIndex:L,dataEndIndex:D},v({props:P.props,dataStartIndex:L,dataEndIndex:D,updateId:I},P.state))}),P.triggerSyncEvent({dataStartIndex:L,dataEndIndex:D})}}),Yt(P,"handleMouseEnter",function(C){var L=P.getMouseInfo(C);if(L){var D=We(We({},L),{},{isTooltipActive:!0});P.setState(D),P.triggerSyncEvent(D);var I=P.props.onMouseEnter;rn(I)&&I(D,C)}}),Yt(P,"triggeredAfterMouseMove",function(C){var L=P.getMouseInfo(C),D=L?We(We({},L),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(D),P.triggerSyncEvent(D);var I=P.props.onMouseMove;rn(I)&&I(D,C)}),Yt(P,"handleItemMouseEnter",function(C){P.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Yt(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Yt(P,"handleMouseMove",function(C){C.persist(),P.throttleTriggeredAfterMouseMove(C)}),Yt(P,"handleMouseLeave",function(C){P.throttleTriggeredAfterMouseMove.cancel();var L={isTooltipActive:!1};P.setState(L),P.triggerSyncEvent(L);var D=P.props.onMouseLeave;rn(D)&&D(L,C)}),Yt(P,"handleOuterEvent",function(C){var L=sle(C),D=po(P.props,"".concat(L));if(L&&rn(D)){var I,F;/.*touch.*/i.test(L)?F=P.getMouseInfo(C.changedTouches[0]):F=P.getMouseInfo(C),D((I=F)!==null&&I!==void 0?I:{},C)}}),Yt(P,"handleClick",function(C){var L=P.getMouseInfo(C);if(L){var D=We(We({},L),{},{isTooltipActive:!0});P.setState(D),P.triggerSyncEvent(D);var I=P.props.onClick;rn(I)&&I(D,C)}}),Yt(P,"handleMouseDown",function(C){var L=P.props.onMouseDown;if(rn(L)){var D=P.getMouseInfo(C);L(D,C)}}),Yt(P,"handleMouseUp",function(C){var L=P.props.onMouseUp;if(rn(L)){var D=P.getMouseInfo(C);L(D,C)}}),Yt(P,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Yt(P,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&P.handleMouseDown(C.changedTouches[0])}),Yt(P,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&P.handleMouseUp(C.changedTouches[0])}),Yt(P,"handleDoubleClick",function(C){var L=P.props.onDoubleClick;if(rn(L)){var D=P.getMouseInfo(C);L(D,C)}}),Yt(P,"handleContextMenu",function(C){var L=P.props.onContextMenu;if(rn(L)){var D=P.getMouseInfo(C);L(D,C)}}),Yt(P,"triggerSyncEvent",function(C){P.props.syncId!==void 0&&iP.emit(aP,P.props.syncId,C,P.eventEmitterSymbol)}),Yt(P,"applySyncEvent",function(C){var L=P.props,D=L.layout,I=L.syncMethod,F=P.state.updateId,z=C.dataStartIndex,Y=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)P.setState(We({dataStartIndex:z,dataEndIndex:Y},v({props:P.props,dataStartIndex:z,dataEndIndex:Y,updateId:F},P.state)));else if(C.activeTooltipIndex!==void 0){var H=C.chartX,K=C.chartY,ee=C.activeTooltipIndex,oe=P.state,ae=oe.offset,$=oe.tooltipTicks;if(!ae)return;if(typeof I=="function")ee=I($,C);else if(I==="value"){ee=-1;for(var re=0;re<$.length;re++)if($[re].value===C.activeLabel){ee=re;break}}var J=We(We({},ae),{},{x:ae.left,y:ae.top}),j=Math.min(H,J.x+J.width),q=Math.min(K,J.y+J.height),pe=$[ee]&&$[ee].value,_e=z2(P.state,P.props.data,ee),Re=$[ee]?{x:D==="horizontal"?$[ee].coordinate:j,y:D==="horizontal"?q:$[ee].coordinate}:tq;P.setState(We(We({},C),{},{activeLabel:pe,activeCoordinate:Re,activePayload:_e,activeTooltipIndex:ee}))}else P.setState(C)}),Yt(P,"renderCursor",function(C){var L,D=P.state,I=D.isTooltipActive,F=D.activeCoordinate,z=D.activePayload,Y=D.offset,H=D.activeTooltipIndex,K=D.tooltipAxisBandSize,ee=P.getTooltipEventType(),oe=(L=C.props.active)!==null&&L!==void 0?L:I,ae=P.props.layout,$=C.key||"_recharts-cursor";return ge.createElement(Ywe,{key:$,activeCoordinate:F,activePayload:z,activeTooltipIndex:H,chartName:n,element:C,isActive:oe,layout:ae,offset:Y,tooltipAxisBandSize:K,tooltipEventType:ee})}),Yt(P,"renderPolarAxis",function(C,L,D){var I=po(C,"type.axisType"),F=po(P.state,"".concat(I,"Map")),z=C.type.defaultProps,Y=z!==void 0?We(We({},z),C.props):C.props,H=F&&F[Y["".concat(I,"Id")]];return te.cloneElement(C,We(We({},H),{},{className:_n(I,H.className),key:C.key||"".concat(L,"-").concat(D),ticks:lu(H,!0)}))}),Yt(P,"renderPolarGrid",function(C){var L=C.props,D=L.radialLines,I=L.polarAngles,F=L.polarRadius,z=P.state,Y=z.radiusAxisMap,H=z.angleAxisMap,K=gc(Y),ee=gc(H),oe=ee.cx,ae=ee.cy,$=ee.innerRadius,re=ee.outerRadius;return te.cloneElement(C,{polarAngles:Array.isArray(I)?I:lu(ee,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(F)?F:lu(K,!0).map(function(J){return J.coordinate}),cx:oe,cy:ae,innerRadius:$,outerRadius:re,key:C.key||"polar-grid",radialLines:D})}),Yt(P,"renderLegend",function(){var C=P.state.formattedGraphicalItems,L=P.props,D=L.children,I=L.width,F=L.height,z=P.props.margin||{},Y=I-(z.left||0)-(z.right||0),H=BG({children:D,formattedGraphicalItems:C,legendWidth:Y,legendContent:u});if(!H)return null;var K=H.item,ee=J5(H,Kwe);return te.cloneElement(K,We(We({},ee),{},{chartWidth:I,chartHeight:F,margin:z,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Yt(P,"renderTooltip",function(){var C,L=P.props,D=L.children,I=L.accessibilityLayer,F=oo(D,Ss);if(!F)return null;var z=P.state,Y=z.isTooltipActive,H=z.activeCoordinate,K=z.activePayload,ee=z.activeLabel,oe=z.offset,ae=(C=F.props.active)!==null&&C!==void 0?C:Y;return te.cloneElement(F,{viewBox:We(We({},oe),{},{x:oe.left,y:oe.top}),active:ae,label:ee,payload:ae?K:[],coordinate:H,accessibilityLayer:I})}),Yt(P,"renderBrush",function(C){var L=P.props,D=L.margin,I=L.data,F=P.state,z=F.offset,Y=F.dataStartIndex,H=F.dataEndIndex,K=F.updateId;return te.cloneElement(C,{key:C.key||"_recharts-brush",onChange:o_(P.handleBrushChange,C.props.onChange),data:I,x:ct(C.props.x)?C.props.x:z.left,y:ct(C.props.y)?C.props.y:z.top+z.height+z.brushBottom-(D.bottom||0),width:ct(C.props.width)?C.props.width:z.width,startIndex:Y,endIndex:H,updateId:"brush-".concat(K)})}),Yt(P,"renderReferenceElement",function(C,L,D){if(!C)return null;var I=P,F=I.clipPathId,z=P.state,Y=z.xAxisMap,H=z.yAxisMap,K=z.offset,ee=C.type.defaultProps||{},oe=C.props,ae=oe.xAxisId,$=ae===void 0?ee.xAxisId:ae,re=oe.yAxisId,J=re===void 0?ee.yAxisId:re;return te.cloneElement(C,{key:C.key||"".concat(L,"-").concat(D),xAxis:Y[$],yAxis:H[J],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:F})}),Yt(P,"renderActivePoints",function(C){var L=C.item,D=C.activePoint,I=C.basePoint,F=C.childIndex,z=C.isRange,Y=[],H=L.props.key,K=L.item.type.defaultProps!==void 0?We(We({},L.item.type.defaultProps),L.item.props):L.item.props,ee=K.activeDot,oe=K.dataKey,ae=We(We({index:F,dataKey:oe,cx:D.x,cy:D.y,r:4,fill:RI(L.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Qt(ee,!1)),V_(ee));return Y.push(w.renderActiveDot(ee,ae,"".concat(H,"-activePoint-").concat(F))),I?Y.push(w.renderActiveDot(ee,We(We({},ae),{},{cx:I.x,cy:I.y}),"".concat(H,"-basePoint-").concat(F))):z&&Y.push(null),Y}),Yt(P,"renderGraphicChild",function(C,L,D){var I=P.filterFormatItem(C,L,D);if(!I)return null;var F=P.getTooltipEventType(),z=P.state,Y=z.isTooltipActive,H=z.tooltipAxis,K=z.activeTooltipIndex,ee=z.activeLabel,oe=P.props.children,ae=oo(oe,Ss),$=I.props,re=$.points,J=$.isRange,j=$.baseLine,q=I.item.type.defaultProps!==void 0?We(We({},I.item.type.defaultProps),I.item.props):I.item.props,pe=q.activeDot,_e=q.hide,Re=q.activeBar,Ie=q.activeShape,Ye=!!(!_e&&Y&&ae&&(pe||Re||Ie)),Xe={};F!=="axis"&&ae&&ae.props.trigger==="click"?Xe={onClick:o_(P.handleItemMouseEnter,C.props.onClick)}:F!=="axis"&&(Xe={onMouseLeave:o_(P.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:o_(P.handleItemMouseEnter,C.props.onMouseEnter)});var ke=te.cloneElement(C,We(We({},I.props),Xe));function Ze(ln){return typeof H.dataKey=="function"?H.dataKey(ln.payload):null}if(Ye)if(K>=0){var Fe,Z;if(H.dataKey&&!H.allowDuplicatedCategory){var Ne=typeof H.dataKey=="function"?Ze:"payload.".concat(H.dataKey.toString());Fe=_C(re,Ne,ee),Z=J&&j&&_C(j,Ne,ee)}else Fe=re==null?void 0:re[K],Z=J&&j&&j[K];if(Ie||Re){var be=C.props.activeIndex!==void 0?C.props.activeIndex:K;return[te.cloneElement(C,We(We(We({},I.props),Xe),{},{activeIndex:be})),null,null]}if(!Sn(Fe))return[ke].concat(fm(P.renderActivePoints({item:I,activePoint:Fe,basePoint:Z,childIndex:K,isRange:J})))}else{var qe,Be=(qe=P.getItemByXY(P.state.activeCoordinate))!==null&&qe!==void 0?qe:{graphicalItem:ke},ot=Be.graphicalItem,lt=ot.item,dt=lt===void 0?C:lt,Tt=ot.childIndex,Bt=We(We(We({},I.props),Xe),{},{activeIndex:Tt});return[te.cloneElement(dt,Bt),null,null]}return J?[ke,null,null]:[ke,null]}),Yt(P,"renderCustomized",function(C,L,D){return te.cloneElement(C,We(We({key:"recharts-customized-".concat(D)},P.props),P.state))}),Yt(P,"renderMap",{CartesianGrid:{handler:f_,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:f_},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:f_},YAxis:{handler:f_},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((b=E.id)!==null&&b!==void 0?b:Jy("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=N6(P.triggeredAfterMouseMove,(T=E.throttleDelay)!==null&&T!==void 0?T:1e3/60),P.state={},P}return lSe(w,x),iSe(w,[{key:"componentDidMount",value:function(){var b,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,T=b.children,P=b.data,C=b.height,L=b.layout,D=oo(T,Ss);if(D){var I=D.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,z=z2(this.state,P,I,F),Y=this.state.tooltipTicks[I].coordinate,H=(this.state.offset.top+C)/2,K=L==="horizontal",ee=K?{x:Y,y:H}:{y:Y,x:H},oe=this.state.formattedGraphicalItems.find(function($){var re=$.item;return re.type.name==="Scatter"});oe&&(ee=We(We({},ee),oe.props.points[I].tooltipPosition),z=oe.props.points[I].tooltipPayload);var ae={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:F,activePayload:z,activeCoordinate:ee};this.setState(ae),this.renderCursor(D),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var P,C;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){SC([oo(b.children,Ss)],[oo(this.props.children,Ss)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=oo(this.props.children,Ss);if(b&&typeof b.props.shared=="boolean"){var T=b.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var T=this.container,P=T.getBoundingClientRect(),C=Xfe(P),L={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},D=P.width/T.offsetWidth||1,I=this.inRange(L.chartX,L.chartY,D);if(!I)return null;var F=this.state,z=F.xAxisMap,Y=F.yAxisMap,H=this.getTooltipEventType(),K=ej(this.state,this.props.data,this.props.layout,I);if(H!=="axis"&&z&&Y){var ee=gc(z).scale,oe=gc(Y).scale,ae=ee&&ee.invert?ee.invert(L.chartX):null,$=oe&&oe.invert?oe.invert(L.chartY):null;return We(We({},L),{},{xValue:ae,yValue:$},K)}return K?We(We({},L),K):null}},{key:"inRange",value:function(b,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,L=b/P,D=T/P;if(C==="horizontal"||C==="vertical"){var I=this.state.offset,F=L>=I.left&&L<=I.left+I.width&&D>=I.top&&D<=I.top+I.height;return F?{x:L,y:D}:null}var z=this.state,Y=z.angleAxisMap,H=z.radiusAxisMap;if(Y&&H){var K=gc(Y);return l4({x:L,y:D},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,T=this.getTooltipEventType(),P=oo(b,Ss),C={};P&&T==="axis"&&(P.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var L=V_(this.props,this.handleOuterEvent);return We(We({},L),C)}},{key:"addListener",value:function(){iP.on(aP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iP.removeListener(aP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,T,P){for(var C=this.state.formattedGraphicalItems,L=0,D=C.length;L<D;L++){var I=C[L];if(I.item===b||I.props.key===b.key||T===uu(I.item.type)&&P===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,T=this.state.offset,P=T.left,C=T.top,L=T.height,D=T.width;return ge.createElement("defs",null,ge.createElement("clipPath",{id:b},ge.createElement("rect",{x:P,y:C,height:L,width:D})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(T,P){var C=Z5(P,2),L=C[0],D=C[1];return We(We({},T),{},Yt({},L,D.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(T,P){var C=Z5(P,2),L=C[0],D=C[1];return We(We({},T),{},Yt({},L,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[b])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(b){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[b])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(b){var T=this.state,P=T.formattedGraphicalItems,C=T.activeItem;if(P&&P.length)for(var L=0,D=P.length;L<D;L++){var I=P[L],F=I.props,z=I.item,Y=z.type.defaultProps!==void 0?We(We({},z.type.defaultProps),z.props):z.props,H=uu(z.type);if(H==="Bar"){var K=(F.data||[]).find(function($){return c0e(b,$)});if(K)return{graphicalItem:I,payload:K}}else if(H==="RadialBar"){var ee=(F.data||[]).find(function($){return l4(b,$)});if(ee)return{graphicalItem:I,payload:ee}}else if(nS(I,C)||rS(I,C)||My(I,C)){var oe=Lxe({graphicalItem:I,activeTooltipItem:C,itemData:Y.data}),ae=Y.activeIndex===void 0?oe:Y.activeIndex;return{graphicalItem:We(We({},I),{},{childIndex:ae}),payload:My(I,C)?Y.data[oe]:I.props.data[oe]}}}return null}},{key:"render",value:function(){var b=this;if(!_U(this))return null;var T=this.props,P=T.children,C=T.className,L=T.width,D=T.height,I=T.style,F=T.compact,z=T.title,Y=T.desc,H=J5(T,Zwe),K=Qt(H,!1);if(F)return ge.createElement(D5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement(MC,Tp({},K,{width:L,height:D,title:z,desc:Y}),this.renderClipPath(),SU(P,this.renderMap)));if(this.props.accessibilityLayer){var ee,oe;K.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,K.role=(oe=this.props.role)!==null&&oe!==void 0?oe:"application",K.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},K.onFocus=function(){b.accessibilityManager.focus()}}var ae=this.parseEventsOfWrapper();return ge.createElement(D5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement("div",Tp({className:_n("recharts-wrapper",C),style:We({position:"relative",cursor:"default",width:L,height:D},I)},ae,{ref:function(re){b.container=re}}),ge.createElement(MC,Tp({},K,{width:L,height:D,title:z,desc:Y,style:pSe}),this.renderClipPath(),SU(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(te.Component);Yt(_,"displayName",n),Yt(_,"defaultProps",We({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Yt(_,"getDerivedStateFromProps",function(x,w){var E=x.dataKey,b=x.data,T=x.children,P=x.width,C=x.height,L=x.layout,D=x.stackOffset,I=x.margin,F=w.dataStartIndex,z=w.dataEndIndex;if(w.updateId===void 0){var Y=tj(x);return We(We(We({},Y),{},{updateId:0},v(We(We({props:x},Y),{},{updateId:0}),w)),{},{prevDataKey:E,prevData:b,prevWidth:P,prevHeight:C,prevLayout:L,prevStackOffset:D,prevMargin:I,prevChildren:T})}if(E!==w.prevDataKey||b!==w.prevData||P!==w.prevWidth||C!==w.prevHeight||L!==w.prevLayout||D!==w.prevStackOffset||!Rp(I,w.prevMargin)){var H=tj(x),K={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},ee=We(We({},ej(w,b,L)),{},{updateId:w.updateId+1}),oe=We(We(We({},H),K),ee);return We(We(We({},oe),v(We({props:x},oe),w)),{},{prevDataKey:E,prevData:b,prevWidth:P,prevHeight:C,prevLayout:L,prevStackOffset:D,prevMargin:I,prevChildren:T})}if(!SC(T,w.prevChildren)){var ae,$,re,J,j=oo(T,nm),q=j&&(ae=($=j.props)===null||$===void 0?void 0:$.startIndex)!==null&&ae!==void 0?ae:F,pe=j&&(re=(J=j.props)===null||J===void 0?void 0:J.endIndex)!==null&&re!==void 0?re:z,_e=q!==F||pe!==z,Re=!Sn(b),Ie=Re&&!_e?w.updateId:w.updateId+1;return We(We({updateId:Ie},v(We(We({props:x},w),{},{updateId:Ie,dataStartIndex:q,dataEndIndex:pe}),w)),{},{prevChildren:T,dataStartIndex:q,dataEndIndex:pe})}return null}),Yt(_,"renderActiveDot",function(x,w,E){var b;return te.isValidElement(x)?b=te.cloneElement(x,w):rn(x)?b=x(w):b=ge.createElement(II,w),ge.createElement(Xn,{className:"recharts-active-dot",key:E},b)});var S=te.forwardRef(function(w,E){return ge.createElement(_,Tp({},w,{ref:E}))});return S.displayName=_.displayName,S},MSe=rq({chartName:"BarChart",GraphicalChild:Oc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:uS},{axisType:"yAxis",AxisComp:cS}],formatAxisMap:k_e}),ESe=rq({chartName:"PieChart",GraphicalChild:Mu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:tS},{axisType:"radiusAxis",AxisComp:Qw}],formatAxisMap:Cge,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const rj=[{name:"Deep Learning",value:40},{name:"Computer Vision",value:30},{name:"NLP",value:20},{name:"Reinforcement Learning",value:10}],ASe=[{name:"2020",citations:45,publications:2},{name:"2021",citations:78,publications:3},{name:"2022",citations:120,publications:4},{name:"2023",citations:230,publications:5},{name:"2024",citations:310,publications:6},{name:"2025",citations:420,publications:4}],ij=["#9D4EDD","#4CC9F0","#00F5D4","#7209B7"],TSe=()=>{const t=te.useRef(null),e=KV(t,{once:!1,amount:.5});return W.jsx(Xt.div,{ref:t,className:"h-64 w-full",initial:{opacity:0,scale:.8},animate:e?{opacity:1,scale:1}:{opacity:0,scale:.8},transition:{duration:.8},children:W.jsx(D6,{width:"100%",height:"100%",children:W.jsxs(ESe,{children:[W.jsx(Mu,{data:rj,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,innerRadius:40,fill:"#8884d8",dataKey:"value",animationBegin:0,animationDuration:1500,label:({name:n,percent:r})=>`${n} ${(r*100).toFixed(0)}%`,children:rj.map((n,r)=>W.jsx(Fw,{fill:ij[r%ij.length]},`cell-${r}`))}),W.jsx(Ss,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.8)",borderColor:"#9D4EDD",borderRadius:"8px",color:"white"}})]})})})},PSe=()=>{const t=te.useRef(null),e=KV(t,{once:!1,amount:.5});return W.jsx(Xt.div,{ref:t,className:"h-64 w-full",initial:{opacity:0,scale:.8},animate:e?{opacity:1,scale:1}:{opacity:0,scale:.8},transition:{duration:.8},children:W.jsx(D6,{width:"100%",height:"100%",children:W.jsxs(MSe,{data:ASe,margin:{top:20,right:30,left:20,bottom:5},children:[W.jsx(H$,{strokeDasharray:"3 3",stroke:"#1E293B"}),W.jsx(uS,{dataKey:"name",stroke:"#9D4EDD"}),W.jsx(cS,{stroke:"#9D4EDD"}),W.jsx(Ss,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.8)",borderColor:"#9D4EDD",borderRadius:"8px",color:"white"}}),W.jsx(Oc,{dataKey:"citations",fill:"#4CC9F0",animationDuration:1500}),W.jsx(Oc,{dataKey:"publications",fill:"#00F5D4",animationDuration:1500})]})})})},CSe=()=>W.jsxs("section",{id:"research",className:"section relative py-24",children:[W.jsx("div",{className:"absolute inset-0 cyber-grid opacity-10"}),W.jsxs("div",{className:"mb-16 text-center",children:[W.jsx(Xt.h2,{className:"gradient-text mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:"Impatto della Ricerca"}),W.jsx(Xt.p,{className:"subtitle max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:"Visualizzazione dell'impatto e delle aree di ricerca principali"})]}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[W.jsxs("div",{className:"glass p-6 rounded-lg",children:[W.jsx("h3",{className:"text-xl font-display text-white mb-6 text-center",children:"Aree di Ricerca"}),W.jsx(TSe,{})]}),W.jsxs("div",{className:"glass p-6 rounded-lg",children:[W.jsx("h3",{className:"text-xl font-display text-white mb-6 text-center",children:"Pubblicazioni e Citazioni"}),W.jsx(PSe,{})]})]}),W.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-6",children:[W.jsxs(Xt.div,{className:"glass p-6 rounded-lg text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},whileHover:{y:-5,boxShadow:"0 0 15px rgba(157, 78, 221, 0.5)"},children:[W.jsx("div",{className:"text-4xl font-display text-cyber-green mb-2",children:"24"}),W.jsx("div",{className:"text-gray-300",children:"Pubblicazioni"})]}),W.jsxs(Xt.div,{className:"glass p-6 rounded-lg text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},whileHover:{y:-5,boxShadow:"0 0 15px rgba(76, 201, 240, 0.5)"},children:[W.jsx("div",{className:"text-4xl font-display text-neon-blue mb-2",children:"1200+"}),W.jsx("div",{className:"text-gray-300",children:"Citazioni"})]}),W.jsxs(Xt.div,{className:"glass p-6 rounded-lg text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},whileHover:{y:-5,boxShadow:"0 0 15px rgba(177, 74, 237, 0.5)"},children:[W.jsx("div",{className:"text-4xl font-display text-neon-purple mb-2",children:"8"}),W.jsx("div",{className:"text-gray-300",children:"Premi Ricevuti"})]})]})]}),RSe=()=>W.jsxs("section",{id:"contact",className:"section relative py-24",children:[W.jsx("div",{className:"absolute inset-0 cyber-grid opacity-10"}),W.jsxs("div",{className:"mb-16 text-center",children:[W.jsx(Xt.h2,{className:"gradient-text mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:"Contattami"}),W.jsx(Xt.p,{className:"subtitle max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:"Sei interessato a collaborazioni di ricerca o hai domande sul mio lavoro? Contattami!"})]}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[W.jsxs(Xt.div,{className:"glass p-8 rounded-lg",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0},children:[W.jsx("h3",{className:"text-xl font-display text-white mb-6",children:"Inviami un messaggio"}),W.jsxs("form",{className:"space-y-6",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome"}),W.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-3 bg-dark-surface-lighter border border-dark-surface-lighter/50 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-electric-purple/50",placeholder:"Il tuo nome"})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),W.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-3 bg-dark-surface-lighter border border-dark-surface-lighter/50 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-electric-purple/50",placeholder:"La tua email"})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:"Messaggio"}),W.jsx("textarea",{id:"message",rows:5,className:"w-full px-4 py-3 bg-dark-surface-lighter border border-dark-surface-lighter/50 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-electric-purple/50",placeholder:"Il tuo messaggio"})]}),W.jsx(Xt.button,{type:"submit",className:"btn btn-primary w-full",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Invia Messaggio"})]})]}),W.jsxs(Xt.div,{className:"glass p-8 rounded-lg",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0},children:[W.jsx("h3",{className:"text-xl font-display text-white mb-6",children:"Informazioni di contatto"}),W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{className:"flex items-start gap-4",children:[W.jsx("div",{className:"w-10 h-10 rounded-full bg-electric-purple/20 flex items-center justify-center flex-shrink-0",children:W.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M22 12C22 17.5228 17.5228 22 12 22M22 12C22 6.47715 17.5228 2 12 2M22 12H2M12 22C6.47715 22 2 17.5228 2 12M12 22C14.5 19.5 16 16 16 12C16 8 14.5 4.5 12 2M12 22C9.5 19.5 8 16 8 12C8 8 9.5 4.5 12 2M2 12C2 6.47715 6.47715 2 12 2",stroke:"#9D4EDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),W.jsxs("div",{children:[W.jsx("h4",{className:"text-white font-medium",children:"Sito Web"}),W.jsx("p",{className:"text-gray-300",children:"www.ai-researcher.com"})]})]}),W.jsxs("div",{className:"flex items-start gap-4",children:[W.jsx("div",{className:"w-10 h-10 rounded-full bg-electric-purple/20 flex items-center justify-center flex-shrink-0",children:W.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M21.5 18H17.5L14.5 15H9.5L6.5 18H2.5M21.5 18V15M21.5 18H17.5M2.5 18V15M2.5 18H6.5M14.5 15L17.5 12V6M14.5 15H9.5M6.5 18L9.5 15M17.5 6H14M17.5 6H21.5V9M6.5 12L9.5 15M6.5 12V6H2.5V9",stroke:"#9D4EDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),W.jsxs("div",{children:[W.jsx("h4",{className:"text-white font-medium",children:"Email"}),W.jsx("p",{className:"text-gray-300",children:"contact@ai-researcher.com"})]})]}),W.jsxs("div",{className:"flex items-start gap-4",children:[W.jsx("div",{className:"w-10 h-10 rounded-full bg-electric-purple/20 flex items-center justify-center flex-shrink-0",children:W.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[W.jsx("path",{d:"M20 10C20 14.4183 12 22 12 22C12 22 4 14.4183 4 10C4 5.58172 7.58172 2 12 2C16.4183 2 20 5.58172 20 10Z",stroke:"#9D4EDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),W.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"#9D4EDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),W.jsxs("div",{children:[W.jsx("h4",{className:"text-white font-medium",children:"Sede"}),W.jsxs("p",{className:"text-gray-300",children:["Dipartimento di Informatica",W.jsx("br",{}),"Università di Milano, Italia"]})]})]}),W.jsxs("div",{className:"pt-6",children:[W.jsx("h4",{className:"text-white font-medium mb-4",children:"Social Media"}),W.jsxs("div",{className:"flex gap-4",children:[W.jsx(Xt.a,{href:"#",className:"w-10 h-10 rounded-full bg-dark-surface-lighter flex items-center justify-center",whileHover:{y:-3,boxShadow:"0 0 10px rgba(157, 78, 221, 0.5)"},children:W.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[W.jsx("path",{d:"M16 8C17.5913 8 19.1174 8.63214 20.2426 9.75736C21.3679 10.8826 22 12.4087 22 14V21H18V14C18 13.4696 17.7893 12.9609 17.4142 12.5858C17.0391 12.2107 16.5304 12 16 12C15.4696 12 14.9609 12.2107 14.5858 12.5858C14.2107 12.9609 14 13.4696 14 14V21H10V14C10 12.4087 10.6321 10.8826 11.7574 9.75736C12.8826 8.63214 14.4087 8 16 8Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),W.jsx("path",{d:"M6 9H2V21H6V9Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),W.jsx("path",{d:"M4 6C5.10457 6 6 5.10457 6 4C6 2.89543 5.10457 2 4 2C2.89543 2 2 2.89543 2 4C2 5.10457 2.89543 6 4 6Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),W.jsx(Xt.a,{href:"#",className:"w-10 h-10 rounded-full bg-dark-surface-lighter flex items-center justify-center",whileHover:{y:-3,boxShadow:"0 0 10px rgba(157, 78, 221, 0.5)"},children:W.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M23 3.01006C23 3.01006 20.9821 4.20217 19.86 4.54006C19.2577 3.84757 18.4573 3.35675 17.567 3.13398C16.6767 2.91122 15.7395 2.96725 14.8821 3.29451C14.0247 3.62177 13.2884 4.20446 12.773 4.96377C12.2575 5.72309 11.9877 6.62239 12 7.54006V8.54006C10.2426 8.58562 8.50127 8.19587 6.93101 7.4055C5.36074 6.61513 4.01032 5.44869 3 4.01006C3 4.01006 -1 13.0101 8 17.0101C5.94053 18.408 3.48716 19.109 1 19.0101C10 24.0101 21 19.0101 21 7.51006C20.9991 7.23151 20.9723 6.95365 20.92 6.68006C21.9406 5.67355 23 3.01006 23 3.01006Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),W.jsx(Xt.a,{href:"#",className:"w-10 h-10 rounded-full bg-dark-surface-lighter flex items-center justify-center",whileHover:{y:-3,boxShadow:"0 0 10px rgba(157, 78, 221, 0.5)"},children:W.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[W.jsx("path",{d:"M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),W.jsx("path",{d:"M16 8V8.01",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),W.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),W.jsx(Xt.a,{href:"#",className:"w-10 h-10 rounded-full bg-dark-surface-lighter flex items-center justify-center",whileHover:{y:-3,boxShadow:"0 0 10px rgba(157, 78, 221, 0.5)"},children:W.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[W.jsx("path",{d:"M15 22V18C15.1392 16.7473 14.78 15.4901 14 14.5C17 14.5 20 12.5 20 9C20.08 7.75 19.73 6.52 19 5.5C19.28 4.35 19.28 3.15 19 2C19 2 18 2 16 3.5C13.36 3 10.64 3 8 3.5C6 2 5 2 5 2C4.7 3.15 4.7 4.35 5 5.5C4.27 6.52 3.92 7.75 4 9C4 12.5 7 14.5 10 14.5C9.61 14.99 9.32 15.55 9.15 16.15C8.98 16.75 8.93 17.38 9 18V22",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),W.jsx("path",{d:"M9 18C4.49 20 4 16 2 16",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]})]})]})]})]});var OSe={value:()=>{}};function VI(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new P_(n)}function P_(t){this._=t}function ISe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}P_.prototype=VI.prototype={constructor:P_,on:function(t,e){var n=this._,r=ISe(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=LSe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=aj(n[i],t.name,e);else if(e==null)for(i in n)n[i]=aj(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new P_(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function LSe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function aj(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=OSe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var j2="http://www.w3.org/1999/xhtml";const oj={svg:"http://www.w3.org/2000/svg",xhtml:j2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hS(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),oj.hasOwnProperty(e)?{space:oj[e],local:t}:t}function NSe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===j2&&e.documentElement.namespaceURI===j2?e.createElement(t):e.createElementNS(n,t)}}function DSe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function iq(t){var e=hS(t);return(e.local?DSe:NSe)(e)}function kSe(){}function HI(t){return t==null?kSe:function(){return this.querySelector(t)}}function USe(t){typeof t!="function"&&(t=HI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,u,f=0;f<o;++f)(l=a[f])&&(u=t.call(l,l.__data__,f,a))&&("__data__"in l&&(u.__data__=l.__data__),s[f]=u);return new Is(r,this._parents)}function FSe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function BSe(){return[]}function aq(t){return t==null?BSe:function(){return this.querySelectorAll(t)}}function zSe(t){return function(){return FSe(t.apply(this,arguments))}}function jSe(t){typeof t=="function"?t=zSe(t):t=aq(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new Is(r,i)}function oq(t){return function(){return this.matches(t)}}function sq(t){return function(e){return e.matches(t)}}var VSe=Array.prototype.find;function HSe(t){return function(){return VSe.call(this.children,t)}}function WSe(){return this.firstElementChild}function GSe(t){return this.select(t==null?WSe:HSe(typeof t=="function"?t:sq(t)))}var $Se=Array.prototype.filter;function qSe(){return Array.from(this.children)}function XSe(t){return function(){return $Se.call(this.children,t)}}function YSe(t){return this.selectAll(t==null?qSe:XSe(typeof t=="function"?t:sq(t)))}function KSe(t){typeof t!="function"&&(t=oq(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new Is(r,this._parents)}function lq(t){return new Array(t.length)}function ZSe(){return new Is(this._enter||this._groups.map(lq),this._parents)}function U1(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}U1.prototype={constructor:U1,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function JSe(t){return function(){return t}}function QSe(t,e,n,r,i,a){for(var o=0,s,l=e.length,u=a.length;o<u;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new U1(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function ebe(t,e,n,r,i,a,o){var s,l,u=new Map,f=e.length,h=a.length,p=new Array(f),v;for(s=0;s<f;++s)(l=e[s])&&(p[s]=v=o.call(l,l.__data__,s,e)+"",u.has(v)?i[s]=l:u.set(v,l));for(s=0;s<h;++s)v=o.call(t,a[s],s,a)+"",(l=u.get(v))?(r[s]=l,l.__data__=a[s],u.delete(v)):n[s]=new U1(t,a[s]);for(s=0;s<f;++s)(l=e[s])&&u.get(p[s])===l&&(i[s]=l)}function tbe(t){return t.__data__}function nbe(t,e){if(!arguments.length)return Array.from(this,tbe);var n=e?ebe:QSe,r=this._parents,i=this._groups;typeof t!="function"&&(t=JSe(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var f=r[u],h=i[u],p=h.length,v=rbe(t.call(f,f&&f.__data__,u,r)),_=v.length,S=s[u]=new Array(_),x=o[u]=new Array(_),w=l[u]=new Array(p);n(f,h,S,x,w,v,e);for(var E=0,b=0,T,P;E<_;++E)if(T=S[E]){for(E>=b&&(b=E+1);!(P=x[b])&&++b<_;);T._next=P||null}}return o=new Is(o,r),o._enter=s,o._exit=l,o}function rbe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ibe(){return new Is(this._exit||this._groups.map(lq),this._parents)}function abe(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function obe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=n[l],f=r[l],h=u.length,p=s[l]=new Array(h),v,_=0;_<h;++_)(v=u[_]||f[_])&&(p[_]=v);for(;l<i;++l)s[l]=n[l];return new Is(s,this._parents)}function sbe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function lbe(t){t||(t=ube);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),u,f=0;f<s;++f)(u=o[f])&&(l[f]=u);l.sort(e)}return new Is(i,this._parents).order()}function ube(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cbe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fbe(){return Array.from(this)}function hbe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function dbe(){let t=0;for(const e of this)++t;return t}function pbe(){return!this.node()}function mbe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function gbe(t){return function(){this.removeAttribute(t)}}function vbe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ybe(t,e){return function(){this.setAttribute(t,e)}}function xbe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _be(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wbe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Sbe(t,e){var n=hS(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?vbe:gbe:typeof e=="function"?n.local?wbe:_be:n.local?xbe:ybe)(n,e))}function uq(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function bbe(t){return function(){this.style.removeProperty(t)}}function Mbe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ebe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Abe(t,e,n){return arguments.length>1?this.each((e==null?bbe:typeof e=="function"?Ebe:Mbe)(t,e,n??"")):hm(this.node(),t)}function hm(t,e){return t.style.getPropertyValue(e)||uq(t).getComputedStyle(t,null).getPropertyValue(e)}function Tbe(t){return function(){delete this[t]}}function Pbe(t,e){return function(){this[t]=e}}function Cbe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Rbe(t,e){return arguments.length>1?this.each((e==null?Tbe:typeof e=="function"?Cbe:Pbe)(t,e)):this.node()[t]}function cq(t){return t.trim().split(/^|\s+/)}function WI(t){return t.classList||new fq(t)}function fq(t){this._node=t,this._names=cq(t.getAttribute("class")||"")}fq.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function hq(t,e){for(var n=WI(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function dq(t,e){for(var n=WI(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Obe(t){return function(){hq(this,t)}}function Ibe(t){return function(){dq(this,t)}}function Lbe(t,e){return function(){(e.apply(this,arguments)?hq:dq)(this,t)}}function Nbe(t,e){var n=cq(t+"");if(arguments.length<2){for(var r=WI(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Lbe:e?Obe:Ibe)(n,e))}function Dbe(){this.textContent=""}function kbe(t){return function(){this.textContent=t}}function Ube(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Fbe(t){return arguments.length?this.each(t==null?Dbe:(typeof t=="function"?Ube:kbe)(t)):this.node().textContent}function Bbe(){this.innerHTML=""}function zbe(t){return function(){this.innerHTML=t}}function jbe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Vbe(t){return arguments.length?this.each(t==null?Bbe:(typeof t=="function"?jbe:zbe)(t)):this.node().innerHTML}function Hbe(){this.nextSibling&&this.parentNode.appendChild(this)}function Wbe(){return this.each(Hbe)}function Gbe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $be(){return this.each(Gbe)}function qbe(t){var e=typeof t=="function"?t:iq(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Xbe(){return null}function Ybe(t,e){var n=typeof t=="function"?t:iq(t),r=e==null?Xbe:typeof e=="function"?e:HI(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Kbe(){var t=this.parentNode;t&&t.removeChild(this)}function Zbe(){return this.each(Kbe)}function Jbe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qbe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function eMe(t){return this.select(t?Qbe:Jbe)}function tMe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function nMe(t){return function(e){t.call(this,e,this.__data__)}}function rMe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function iMe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function aMe(t,e,n){return function(){var r=this.__on,i,a=nMe(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function oMe(t,e,n){var r=rMe(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,f;l<u;++l)for(i=0,f=s[l];i<a;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(s=e?aMe:iMe,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function pq(t,e,n){var r=uq(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function sMe(t,e){return function(){return pq(this,t,e)}}function lMe(t,e){return function(){return pq(this,t,e.apply(this,arguments))}}function uMe(t,e){return this.each((typeof e=="function"?lMe:sMe)(t,e))}function*cMe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var fMe=[null];function Is(t,e){this._groups=t,this._parents=e}function i0(){return new Is([[document.documentElement]],fMe)}function hMe(){return this}Is.prototype=i0.prototype={constructor:Is,select:USe,selectAll:jSe,selectChild:GSe,selectChildren:YSe,filter:KSe,data:nbe,enter:ZSe,exit:ibe,join:abe,merge:obe,selection:hMe,order:sbe,sort:lbe,call:cbe,nodes:fbe,node:hbe,size:dbe,empty:pbe,each:mbe,attr:Sbe,style:Abe,property:Rbe,classed:Nbe,text:Fbe,html:Vbe,raise:Wbe,lower:$be,append:qbe,insert:Ybe,remove:Zbe,clone:eMe,datum:tMe,on:oMe,dispatch:uMe,[Symbol.iterator]:cMe};var dm=0,iv=0,Zg=0,mq=1e3,F1,av,B1=0,Ch=0,dS=0,Oy=typeof performance=="object"&&performance.now?performance:Date,gq=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function GI(){return Ch||(gq(dMe),Ch=Oy.now()+dS)}function dMe(){Ch=0}function z1(){this._call=this._time=this._next=null}z1.prototype=$I.prototype={constructor:z1,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?GI():+n)+(e==null?0:+e),!this._next&&av!==this&&(av?av._next=this:F1=this,av=this),this._call=t,this._time=n,V2()},stop:function(){this._call&&(this._call=null,this._time=1/0,V2())}};function $I(t,e,n){var r=new z1;return r.restart(t,e,n),r}function pMe(){GI(),++dm;for(var t=F1,e;t;)(e=Ch-t._time)>=0&&t._call.call(void 0,e),t=t._next;--dm}function sj(){Ch=(B1=Oy.now())+dS,dm=iv=0;try{pMe()}finally{dm=0,gMe(),Ch=0}}function mMe(){var t=Oy.now(),e=t-B1;e>mq&&(dS-=e,B1=t)}function gMe(){for(var t,e=F1,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:F1=n);av=t,V2(r)}function V2(t){if(!dm){iv&&(iv=clearTimeout(iv));var e=t-Ch;e>24?(t<1/0&&(iv=setTimeout(sj,t-Oy.now()-dS)),Zg&&(Zg=clearInterval(Zg))):(Zg||(B1=Oy.now(),Zg=setInterval(mMe,mq)),dm=1,gq(sj))}}function lj(t,e,n){var r=new z1;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var vMe=VI("start","end","cancel","interrupt"),yMe=[],vq=0,uj=1,H2=2,C_=3,cj=4,W2=5,R_=6;function pS(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;xMe(t,n,{name:e,index:r,group:i,on:vMe,tween:yMe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:vq})}function qI(t,e){var n=ks(t,e);if(n.state>vq)throw new Error("too late; already scheduled");return n}function ml(t,e){var n=ks(t,e);if(n.state>C_)throw new Error("too late; already running");return n}function ks(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function xMe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$I(a,0,n.time);function a(u){n.state=uj,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,h,p,v;if(n.state!==uj)return l();for(f in r)if(v=r[f],v.name===n.name){if(v.state===C_)return lj(o);v.state===cj?(v.state=R_,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[f]):+f<e&&(v.state=R_,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[f])}if(lj(function(){n.state===C_&&(n.state=cj,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=H2,n.on.call("start",t,t.__data__,n.index,n.group),n.state===H2){for(n.state=C_,i=new Array(p=n.tween.length),f=0,h=-1;f<p;++f)(v=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=v);i.length=h+1}}function s(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=W2,1),h=-1,p=i.length;++h<p;)i[h].call(t,f);n.state===W2&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=R_,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function _Me(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>H2&&r.state<W2,r.state=R_,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function wMe(t){return this.each(function(){_Me(this,t)})}function SMe(t,e){var n,r;return function(){var i=ml(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function bMe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=ml(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function MMe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ks(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?SMe:bMe)(n,t,e))}function XI(t,e,n){var r=t._id;return t.each(function(){var i=ml(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ks(i,r).value[e]}}function yq(t,e){var n;return(typeof e=="number"?Es:e instanceof Eh?n1:(n=Eh(e))?(e=n,n1):q6)(t,e)}function EMe(t){return function(){this.removeAttribute(t)}}function AMe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function TMe(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function PMe(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function CMe(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function RMe(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function OMe(t,e){var n=hS(t),r=n==="transform"?ide:yq;return this.attrTween(t,typeof e=="function"?(n.local?RMe:CMe)(n,r,XI(this,"attr."+t,e)):e==null?(n.local?AMe:EMe)(n):(n.local?PMe:TMe)(n,r,e))}function IMe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function LMe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function NMe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&LMe(t,a)),n}return i._value=e,i}function DMe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&IMe(t,a)),n}return i._value=e,i}function kMe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=hS(t);return this.tween(n,(r.local?NMe:DMe)(r,e))}function UMe(t,e){return function(){qI(this,t).delay=+e.apply(this,arguments)}}function FMe(t,e){return e=+e,function(){qI(this,t).delay=e}}function BMe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?UMe:FMe)(e,t)):ks(this.node(),e).delay}function zMe(t,e){return function(){ml(this,t).duration=+e.apply(this,arguments)}}function jMe(t,e){return e=+e,function(){ml(this,t).duration=e}}function VMe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zMe:jMe)(e,t)):ks(this.node(),e).duration}function HMe(t,e){if(typeof e!="function")throw new Error;return function(){ml(this,t).ease=e}}function WMe(t){var e=this._id;return arguments.length?this.each(HMe(e,t)):ks(this.node(),e).ease}function GMe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ml(this,t).ease=n}}function $Me(t){if(typeof t!="function")throw new Error;return this.each(GMe(this._id,t))}function qMe(t){typeof t!="function"&&(t=oq(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new yu(r,this._parents,this._name,this._id)}function XMe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],u=n[s],f=l.length,h=o[s]=new Array(f),p,v=0;v<f;++v)(p=l[v]||u[v])&&(h[v]=p);for(;s<r;++s)o[s]=e[s];return new yu(o,this._parents,this._name,this._id)}function YMe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function KMe(t,e,n){var r,i,a=YMe(e)?qI:ml;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function ZMe(t,e){var n=this._id;return arguments.length<2?ks(this.node(),n).on.on(t):this.each(KMe(n,t,e))}function JMe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function QMe(){return this.on("end.remove",JMe(this._id))}function eEe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=HI(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),f,h,p=0;p<l;++p)(f=s[p])&&(h=t.call(f,f.__data__,p,s))&&("__data__"in f&&(h.__data__=f.__data__),u[p]=h,pS(u[p],e,n,p,u,ks(f,n)));return new yu(a,this._parents,e,n)}function tEe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=aq(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,f,h=0;h<u;++h)if(f=l[h]){for(var p=t.call(f,f.__data__,h,l),v,_=ks(f,n),S=0,x=p.length;S<x;++S)(v=p[S])&&pS(v,e,n,S,p,_);a.push(p),o.push(f)}return new yu(a,o,e,n)}var nEe=i0.prototype.constructor;function rEe(){return new nEe(this._groups,this._parents)}function iEe(t,e){var n,r,i;return function(){var a=hm(this,t),o=(this.style.removeProperty(t),hm(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function xq(t){return function(){this.style.removeProperty(t)}}function aEe(t,e,n){var r,i=n+"",a;return function(){var o=hm(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function oEe(t,e,n){var r,i,a;return function(){var o=hm(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),hm(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function sEe(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var l=ml(this,t),u=l.on,f=l.value[a]==null?s||(s=xq(e)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(o,i=f),l.on=r}}function lEe(t,e,n){var r=(t+="")=="transform"?rde:yq;return e==null?this.styleTween(t,iEe(t,r)).on("end.style."+t,xq(t)):typeof e=="function"?this.styleTween(t,oEe(t,r,XI(this,"style."+t,e))).each(sEe(this._id,t)):this.styleTween(t,aEe(t,r,e),n).on("end.style."+t,null)}function uEe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function cEe(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&uEe(t,o,n)),r}return a._value=e,a}function fEe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,cEe(t,e,n??""))}function hEe(t){return function(){this.textContent=t}}function dEe(t){return function(){var e=t(this);this.textContent=e??""}}function pEe(t){return this.tween("text",typeof t=="function"?dEe(XI(this,"text",t)):hEe(t==null?"":t+""))}function mEe(t){return function(e){this.textContent=t.call(this,e)}}function gEe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&mEe(i)),e}return r._value=t,r}function vEe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,gEe(t))}function yEe(){for(var t=this._name,e=this._id,n=_q(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var f=ks(l,e);pS(l,t,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new yu(r,this._parents,t,n)}function xEe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var u=ml(this,r),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&a()})}var _Ee=0;function yu(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function _q(){return++_Ee}var nu=i0.prototype;yu.prototype={constructor:yu,select:eEe,selectAll:tEe,selectChild:nu.selectChild,selectChildren:nu.selectChildren,filter:qMe,merge:XMe,selection:rEe,transition:yEe,call:nu.call,nodes:nu.nodes,node:nu.node,size:nu.size,empty:nu.empty,each:nu.each,on:ZMe,attr:OMe,attrTween:kMe,style:lEe,styleTween:fEe,text:pEe,textTween:vEe,remove:QMe,tween:MMe,delay:BMe,duration:VMe,ease:WMe,easeVarying:$Me,end:xEe,[Symbol.iterator]:nu[Symbol.iterator]};function wEe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var SEe={time:null,delay:0,duration:250,ease:wEe};function bEe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function MEe(t){var e,n;t instanceof yu?(e=t._id,t=t._name):(e=_q(),(n=SEe).time=GI(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&pS(l,t,e,u,o,n||bEe(l,e));return new yu(r,this._parents,t,e)}i0.prototype.interrupt=wMe;i0.prototype.transition=MEe;function EEe(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=n.length,s,l=0,u=0;for(a=0;a<o;++a)s=n[a],l+=s.x,u+=s.y;for(l=(l/o-t)*r,u=(u/o-e)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=u}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function AEe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return wq(this.cover(e,n),e,n,t)}function wq(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,l=t._y0,u=t._x1,f=t._y1,h,p,v,_,S,x,w,E;if(!a)return t._root=o,t;for(;a.length;)if((S=e>=(h=(s+u)/2))?s=h:u=h,(x=n>=(p=(l+f)/2))?l=p:f=p,i=a,!(a=a[w=x<<1|S]))return i[w]=o,t;if(v=+t._x.call(null,a.data),_=+t._y.call(null,a.data),e===v&&n===_)return o.next=a,i?i[w]=o:t._root=o,t;do i=i?i[w]=new Array(4):t._root=new Array(4),(S=e>=(h=(s+u)/2))?s=h:u=h,(x=n>=(p=(l+f)/2))?l=p:f=p;while((w=x<<1|S)===(E=(_>=p)<<1|v>=h));return i[E]=a,i[w]=o,t}function TEe(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),l=1/0,u=1/0,f=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<l&&(l=i),i>f&&(f=i),a<u&&(u=a),a>h&&(h=a));if(l>f||u>h)return this;for(this.cover(l,u).cover(f,h),n=0;n<r;++n)wq(this,o[n],s[n],t[n]);return this}function PEe(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n||1,s=this._root,l,u;n>t||t>=i||r>e||e>=a;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function CEe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function REe(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function va(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function OEe(t,e,n){var r,i=this._x0,a=this._y0,o,s,l,u,f=this._x1,h=this._y1,p=[],v=this._root,_,S;for(v&&p.push(new va(v,i,a,f,h)),n==null?n=1/0:(i=t-n,a=e-n,f=t+n,h=e+n,n*=n);_=p.pop();)if(!(!(v=_.node)||(o=_.x0)>f||(s=_.y0)>h||(l=_.x1)<i||(u=_.y1)<a))if(v.length){var x=(o+l)/2,w=(s+u)/2;p.push(new va(v[3],x,w,l,u),new va(v[2],o,w,x,u),new va(v[1],x,s,l,w),new va(v[0],o,s,x,w)),(S=(e>=w)<<1|t>=x)&&(_=p[p.length-1],p[p.length-1]=p[p.length-1-S],p[p.length-1-S]=_)}else{var E=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),T=E*E+b*b;if(T<n){var P=Math.sqrt(n=T);i=t-P,a=e-P,f=t+P,h=e+P,r=v.data}}return r}function IEe(t){if(isNaN(f=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,f,h,p,v,_,S,x,w;if(!n)return this;if(n.length)for(;;){if((_=f>=(p=(o+l)/2))?o=p:l=p,(S=h>=(v=(s+u)/2))?s=v:u=v,e=n,!(n=n[x=S<<1|_]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,w=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[x]=a:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[w]=n:this._root=n),this):(this._root=a,this)}function LEe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function NEe(){return this._root}function DEe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function kEe(t){var e=[],n,r=this._root,i,a,o,s,l;for(r&&e.push(new va(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var u=(a+s)/2,f=(o+l)/2;(i=r[3])&&e.push(new va(i,u,f,s,l)),(i=r[2])&&e.push(new va(i,a,f,u,l)),(i=r[1])&&e.push(new va(i,u,o,s,f)),(i=r[0])&&e.push(new va(i,a,o,u,f))}return this}function UEe(t){var e=[],n=[],r;for(this._root&&e.push(new va(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,u=r.y1,f=(o+l)/2,h=(s+u)/2;(a=i[0])&&e.push(new va(a,o,s,f,h)),(a=i[1])&&e.push(new va(a,f,s,l,h)),(a=i[2])&&e.push(new va(a,o,h,f,u)),(a=i[3])&&e.push(new va(a,f,h,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function FEe(t){return t[0]}function BEe(t){return arguments.length?(this._x=t,this):this._x}function zEe(t){return t[1]}function jEe(t){return arguments.length?(this._y=t,this):this._y}function YI(t,e,n){var r=new KI(e??FEe,n??zEe,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function KI(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function fj(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ea=YI.prototype=KI.prototype;Ea.copy=function(){var t=new KI(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=fj(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=fj(r));return t};Ea.add=AEe;Ea.addAll=TEe;Ea.cover=PEe;Ea.data=CEe;Ea.extent=REe;Ea.find=OEe;Ea.remove=IEe;Ea.removeAll=LEe;Ea.root=NEe;Ea.size=DEe;Ea.visit=kEe;Ea.visitAfter=UEe;Ea.x=BEe;Ea.y=jEe;function vh(t){return function(){return t}}function xc(t){return(t()-.5)*1e-6}function VEe(t){return t.x+t.vx}function HEe(t){return t.y+t.vy}function WEe(t){var e,n,r,i=1,a=1;typeof t!="function"&&(t=vh(t==null?1:+t));function o(){for(var u,f=e.length,h,p,v,_,S,x,w=0;w<a;++w)for(h=YI(e,VEe,HEe).visitAfter(s),u=0;u<f;++u)p=e[u],S=n[p.index],x=S*S,v=p.x+p.vx,_=p.y+p.vy,h.visit(E);function E(b,T,P,C,L){var D=b.data,I=b.r,F=S+I;if(D){if(D.index>p.index){var z=v-D.x-D.vx,Y=_-D.y-D.vy,H=z*z+Y*Y;H<F*F&&(z===0&&(z=xc(r),H+=z*z),Y===0&&(Y=xc(r),H+=Y*Y),H=(F-(H=Math.sqrt(H)))/H*i,p.vx+=(z*=H)*(F=(I*=I)/(x+I)),p.vy+=(Y*=H)*F,D.vx-=z*(F=1-F),D.vy-=Y*F)}return}return T>v+F||C<v-F||P>_+F||L<_-F}}function s(u){if(u.data)return u.r=n[u.data.index];for(var f=u.r=0;f<4;++f)u[f]&&u[f].r>u.r&&(u.r=u[f].r)}function l(){if(e){var u,f=e.length,h;for(n=new Array(f),u=0;u<f;++u)h=e[u],n[h.index]=+t(h,u,e)}}return o.initialize=function(u,f){e=u,r=f,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:vh(+u),l(),o):t},o}function GEe(t){return t.index}function hj(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function $Ee(t){var e=GEe,n=h,r,i=vh(30),a,o,s,l,u,f=1;t==null&&(t=[]);function h(x){return 1/Math.min(s[x.source.index],s[x.target.index])}function p(x){for(var w=0,E=t.length;w<f;++w)for(var b=0,T,P,C,L,D,I,F;b<E;++b)T=t[b],P=T.source,C=T.target,L=C.x+C.vx-P.x-P.vx||xc(u),D=C.y+C.vy-P.y-P.vy||xc(u),I=Math.sqrt(L*L+D*D),I=(I-a[b])/I*x*r[b],L*=I,D*=I,C.vx-=L*(F=l[b]),C.vy-=D*F,P.vx+=L*(F=1-F),P.vy+=D*F}function v(){if(o){var x,w=o.length,E=t.length,b=new Map(o.map((P,C)=>[e(P,C,o),P])),T;for(x=0,s=new Array(w);x<E;++x)T=t[x],T.index=x,typeof T.source!="object"&&(T.source=hj(b,T.source)),typeof T.target!="object"&&(T.target=hj(b,T.target)),s[T.source.index]=(s[T.source.index]||0)+1,s[T.target.index]=(s[T.target.index]||0)+1;for(x=0,l=new Array(E);x<E;++x)T=t[x],l[x]=s[T.source.index]/(s[T.source.index]+s[T.target.index]);r=new Array(E),_(),a=new Array(E),S()}}function _(){if(o)for(var x=0,w=t.length;x<w;++x)r[x]=+n(t[x],x,t)}function S(){if(o)for(var x=0,w=t.length;x<w;++x)a[x]=+i(t[x],x,t)}return p.initialize=function(x,w){o=x,u=w,v()},p.links=function(x){return arguments.length?(t=x,v(),p):t},p.id=function(x){return arguments.length?(e=x,p):e},p.iterations=function(x){return arguments.length?(f=+x,p):f},p.strength=function(x){return arguments.length?(n=typeof x=="function"?x:vh(+x),_(),p):n},p.distance=function(x){return arguments.length?(i=typeof x=="function"?x:vh(+x),S(),p):i},p}const qEe=1664525,XEe=1013904223,dj=4294967296;function YEe(){let t=1;return()=>(t=(qEe*t+XEe)%dj)/dj}function KEe(t){return t.x}function ZEe(t){return t.y}var JEe=10,QEe=Math.PI*(3-Math.sqrt(5));function eAe(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=$I(h),u=VI("tick","end"),f=YEe();t==null&&(t=[]);function h(){p(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function p(S){var x,w=t.length,E;S===void 0&&(S=1);for(var b=0;b<S;++b)for(n+=(a-n)*i,s.forEach(function(T){T(n)}),x=0;x<w;++x)E=t[x],E.fx==null?E.x+=E.vx*=o:(E.x=E.fx,E.vx=0),E.fy==null?E.y+=E.vy*=o:(E.y=E.fy,E.vy=0);return e}function v(){for(var S=0,x=t.length,w;S<x;++S){if(w=t[S],w.index=S,w.fx!=null&&(w.x=w.fx),w.fy!=null&&(w.y=w.fy),isNaN(w.x)||isNaN(w.y)){var E=JEe*Math.sqrt(.5+S),b=S*QEe;w.x=E*Math.cos(b),w.y=E*Math.sin(b)}(isNaN(w.vx)||isNaN(w.vy))&&(w.vx=w.vy=0)}}function _(S){return S.initialize&&S.initialize(t,f),S}return v(),e={tick:p,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(S){return arguments.length?(t=S,v(),s.forEach(_),e):t},alpha:function(S){return arguments.length?(n=+S,e):n},alphaMin:function(S){return arguments.length?(r=+S,e):r},alphaDecay:function(S){return arguments.length?(i=+S,e):+i},alphaTarget:function(S){return arguments.length?(a=+S,e):a},velocityDecay:function(S){return arguments.length?(o=1-S,e):1-o},randomSource:function(S){return arguments.length?(f=S,s.forEach(_),e):f},force:function(S,x){return arguments.length>1?(x==null?s.delete(S):s.set(S,_(x)),e):s.get(S)},find:function(S,x,w){var E=0,b=t.length,T,P,C,L,D;for(w==null?w=1/0:w*=w,E=0;E<b;++E)L=t[E],T=S-L.x,P=x-L.y,C=T*T+P*P,C<w&&(D=L,w=C);return D},on:function(S,x){return arguments.length>1?(u.on(S,x),e):u.on(S)}}}function tAe(){var t,e,n,r,i=vh(-30),a,o=1,s=1/0,l=.81;function u(v){var _,S=t.length,x=YI(t,KEe,ZEe).visitAfter(h);for(r=v,_=0;_<S;++_)e=t[_],x.visit(p)}function f(){if(t){var v,_=t.length,S;for(a=new Array(_),v=0;v<_;++v)S=t[v],a[S.index]=+i(S,v,t)}}function h(v){var _=0,S,x,w=0,E,b,T;if(v.length){for(E=b=T=0;T<4;++T)(S=v[T])&&(x=Math.abs(S.value))&&(_+=S.value,w+=x,E+=x*S.x,b+=x*S.y);v.x=E/w,v.y=b/w}else{S=v,S.x=S.data.x,S.y=S.data.y;do _+=a[S.data.index];while(S=S.next)}v.value=_}function p(v,_,S,x){if(!v.value)return!0;var w=v.x-e.x,E=v.y-e.y,b=x-_,T=w*w+E*E;if(b*b/l<T)return T<s&&(w===0&&(w=xc(n),T+=w*w),E===0&&(E=xc(n),T+=E*E),T<o&&(T=Math.sqrt(o*T)),e.vx+=w*v.value*r/T,e.vy+=E*v.value*r/T),!0;if(v.length||T>=s)return;(v.data!==e||v.next)&&(w===0&&(w=xc(n),T+=w*w),E===0&&(E=xc(n),T+=E*E),T<o&&(T=Math.sqrt(o*T)));do v.data!==e&&(b=a[v.data.index]*r/T,e.vx+=w*b,e.vy+=E*b);while(v=v.next)}return u.initialize=function(v,_){t=v,n=_,f()},u.strength=function(v){return arguments.length?(i=typeof v=="function"?v:vh(+v),f(),u):i},u.distanceMin=function(v){return arguments.length?(o=v*v,u):Math.sqrt(o)},u.distanceMax=function(v){return arguments.length?(s=v*v,u):Math.sqrt(s)},u.theta=function(v){return arguments.length?(l=v*v,u):Math.sqrt(l)},u}function ov(t,e,n){this.k=t,this.x=e,this.y=n}ov.prototype={constructor:ov,scale:function(t){return t===1?this:new ov(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ov(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ov.prototype;class nAe{constructor(e){Mg(this,"nodes",new Map);Mg(this,"edges",[]);Mg(this,"simulation");Mg(this,"layout");this.layout=e,this.simulation=eAe().force("link",$Ee().id(n=>n.id).distance(e.physics.linkDistance).strength(.1)).force("charge",tAe().strength(e.physics.charge).distanceMax(200)).force("center",EEe(0,0)).force("collision",WEe().radius(n=>n.size*2).strength(.7)).alphaDecay(.0228).velocityDecay(e.physics.damping)}updateNodes(e){this.nodes.clear(),e.forEach(n=>{n.position||(n.position=[(Math.random()-.5)*100,(Math.random()-.5)*100,(Math.random()-.5)*100]),n.velocity||(n.velocity=[0,0,0]),this.nodes.set(n.id,n)}),this.simulation.nodes(Array.from(this.nodes.values()))}updateEdges(e){this.edges=e,this.simulation.force("link").links(e)}start(){this.simulation.restart()}stop(){this.simulation.stop()}tick(){return this.simulation.tick(),Array.from(this.nodes.values())}detectCommunities(){const e=new Map,n=Array.from(this.nodes.values()),r=Math.ceil(Math.sqrt(n.length));return n.forEach((i,a)=>{e.set(i.id,a%r)}),e}}const rAe=({node:t,isSelected:e,isHovered:n,onClick:r,onHover:i})=>{const a=te.useRef(null),[o,s]=te.useState(!1);Dh(f=>{if(a.current){a.current.position.set(...t.position);const h=e?1.5:n?1.2:1;a.current.scale.lerp(new ne(h,h,h),.1);const p=f.clock.getElapsedTime();a.current.position.y+=Math.sin(p*2+t.position[0])*.01}});const l=()=>{switch(t.type){case"publication":return W.jsx("sphereGeometry",{args:[t.size,16,16]});case"project":return W.jsx("boxGeometry",{args:[t.size*2,t.size*2,t.size*2]});case"collaborator":return W.jsx("octahedronGeometry",{args:[t.size]});case"institution":return W.jsx("cylinderGeometry",{args:[t.size,t.size,t.size*2]});case"concept":return W.jsx("tetrahedronGeometry",{args:[t.size]});default:return W.jsx("sphereGeometry",{args:[t.size,8,8]})}},u=()=>{const f=t.color,h=e?.5:n?.3:.1;return W.jsx("meshStandardMaterial",{color:f,emissive:f,emissiveIntensity:h,metalness:.6,roughness:.4,transparent:!0,opacity:.9})};return W.jsxs("group",{children:[W.jsxs("mesh",{ref:a,onClick:f=>{f.stopPropagation(),r(t)},onPointerOver:f=>{f.stopPropagation(),s(!0),i(t),document.body.style.cursor="pointer"},onPointerOut:f=>{f.stopPropagation(),s(!1),i(null),document.body.style.cursor="auto"},children:[l(),u()]}),(e||n)&&W.jsx(noe,{position:[t.position[0],t.position[1]+t.size*2,t.position[2]],children:W.jsxs("div",{className:"bg-black bg-opacity-75 text-white p-2 rounded text-xs max-w-48",children:[W.jsx("div",{className:"font-semibold",children:t.title}),W.jsxs("div",{className:"text-gray-300",children:[t.year," • ",t.citations," citations"]})]})})]})},iAe=({edge:t,nodes:e})=>{const n=te.useRef(null),r=e.get(t.source),i=e.get(t.target);if(!r||!i)return null;const a=[new ne(...r.position),new ne(...i.position)],o=new yn().setFromPoints(a),s=()=>{switch(t.type){case"citation":return"#4CC9F0";case"collaboration":return"#9D4EDD";case"conceptual":return"#00F5D4";case"temporal":return"#FFB700";default:return"#ffffff"}};return Dh(()=>{if(n.current&&r&&i){const l=n.current.geometry.attributes.position.array;l[0]=r.position[0],l[1]=r.position[1],l[2]=r.position[2],l[3]=i.position[0],l[4]=i.position[1],l[5]=i.position[2],n.current.geometry.attributes.position.needsUpdate=!0}}),W.jsx("line",{ref:n,geometry:o,children:W.jsx("lineBasicMaterial",{color:s(),transparent:!0,opacity:.6,linewidth:t.weight*2})})},aAe=({filters:t,onFiltersChange:e,availableYears:n,nodeTypes:r})=>W.jsxs(Xt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"absolute top-4 left-4 bg-black bg-opacity-75 backdrop-blur p-4 rounded-lg text-white min-w-64 z-10",children:[W.jsx("h3",{className:"text-lg font-semibold mb-4 text-cyber-green",children:"Graph Filters"}),W.jsxs("div",{className:"mb-4",children:[W.jsx("label",{className:"block text-sm font-medium mb-2",children:"Search"}),W.jsx("input",{type:"text",value:t.searchTerm,onChange:i=>e({...t,searchTerm:i.target.value}),className:"w-full p-2 bg-gray-800 rounded text-white text-sm",placeholder:"Search titles, authors..."})]}),W.jsxs("div",{className:"mb-4",children:[W.jsx("label",{className:"block text-sm font-medium mb-2",children:"Year Range"}),W.jsxs("div",{className:"flex gap-2",children:[W.jsx("input",{type:"number",value:t.yearRange[0],onChange:i=>e({...t,yearRange:[parseInt(i.target.value),t.yearRange[1]]}),min:n[0],max:n[1],className:"w-full p-2 bg-gray-800 rounded text-white text-sm"}),W.jsx("input",{type:"number",value:t.yearRange[1],onChange:i=>e({...t,yearRange:[t.yearRange[0],parseInt(i.target.value)]}),min:n[0],max:n[1],className:"w-full p-2 bg-gray-800 rounded text-white text-sm"})]})]}),W.jsxs("div",{className:"mb-4",children:[W.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Min Citations: ",t.minCitations]}),W.jsx("input",{type:"range",value:t.minCitations,onChange:i=>e({...t,minCitations:parseInt(i.target.value)}),min:0,max:1e3,className:"w-full"})]}),W.jsxs("div",{className:"mb-4",children:[W.jsx("label",{className:"block text-sm font-medium mb-2",children:"Node Types"}),W.jsx("div",{className:"space-y-2",children:r.map(i=>W.jsxs("label",{className:"flex items-center",children:[W.jsx("input",{type:"checkbox",checked:t.nodeTypes.has(i),onChange:a=>{const o=new Set(t.nodeTypes);a.target.checked?o.add(i):o.delete(i),e({...t,nodeTypes:o})},className:"mr-2"}),W.jsx("span",{className:"text-sm capitalize",children:i})]},i))})]})]}),oAe=({node:t,onClose:e})=>t?W.jsxs(Xt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"absolute top-4 right-4 bg-black bg-opacity-90 backdrop-blur p-6 rounded-lg text-white max-w-md z-10",children:[W.jsxs("div",{className:"flex justify-between items-start mb-4",children:[W.jsx("h3",{className:"text-lg font-semibold text-cyber-green",children:"Node Details"}),W.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),W.jsxs("div",{className:"space-y-3",children:[W.jsxs("div",{children:[W.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Title:"}),W.jsx("p",{className:"text-white",children:t.title})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[W.jsxs("div",{children:[W.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Type:"}),W.jsx("p",{className:"text-white capitalize",children:t.type})]}),W.jsxs("div",{children:[W.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Year:"}),W.jsx("p",{className:"text-white",children:t.year})]})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[W.jsxs("div",{children:[W.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Citations:"}),W.jsx("p",{className:"text-white",children:t.citations})]}),W.jsxs("div",{children:[W.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Impact Score:"}),W.jsx("p",{className:"text-white",children:t.impact_score.toFixed(2)})]})]}),t.metadata.authors&&W.jsxs("div",{children:[W.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Authors:"}),W.jsx("p",{className:"text-white text-sm",children:t.metadata.authors.join(", ")})]}),t.metadata.keywords&&W.jsxs("div",{children:[W.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Keywords:"}),W.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.metadata.keywords.map((n,r)=>W.jsx("span",{className:"px-2 py-1 bg-electric-purple text-xs rounded",children:n},r))})]}),t.metadata.abstract&&W.jsxs("div",{children:[W.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Abstract:"}),W.jsx("p",{className:"text-white text-sm mt-1 max-h-32 overflow-y-auto",children:t.metadata.abstract})]}),t.metadata.url&&W.jsx("div",{children:W.jsx("a",{href:t.metadata.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 bg-electric-purple hover:bg-neon-purple rounded text-sm transition-colors",children:"View Publication"})})]})]}):null,sAe=()=>{const[t,e]=te.useState([]),[n,r]=te.useState([]),[i,a]=te.useState(null),[o,s]=te.useState(null),[l,u]=te.useState(!0),[f,h]=te.useState(null),[p,v]=te.useState({yearRange:[2020,2025],minCitations:0,nodeTypes:new Set(["publication","project","collaborator"]),keywords:[],searchTerm:""}),_=te.useRef(),S=te.useRef(),x={algorithm:"force-directed",physics:{charge:-300,linkDistance:50,gravity:.1,damping:.9},clustering:{enabled:!0,method:"louvain",resolution:1}};te.useEffect(()=>(_.current=new nAe(x),w(),()=>{S.current&&cancelAnimationFrame(S.current)}),[]);const w=async()=>{try{u(!0),await new Promise(D=>setTimeout(D,1e3));const C=[{id:"pub-1",type:"publication",title:"Deep Learning for Medical Image Analysis",year:2023,citations:45,impact_score:8.5,connections:["pub-2","collab-1"],position:[0,0,0],velocity:[0,0,0],metadata:{authors:["Dr. Smith","You"],venue:"Nature Medicine",keywords:["deep learning","medical imaging","CNN"],abstract:"A comprehensive study on applying deep learning techniques to medical image analysis..."},color:"#9D4EDD",size:3},{id:"pub-2",type:"publication",title:"AI Ethics in Healthcare",year:2023,citations:78,impact_score:9.2,connections:["pub-1","concept-1"],position:[0,0,0],velocity:[0,0,0],metadata:{authors:["You","Dr. Johnson"],venue:"AI Ethics Journal",keywords:["AI ethics","healthcare","bias"],abstract:"Exploring ethical considerations in AI-powered healthcare systems..."},color:"#4CC9F0",size:4},{id:"collab-1",type:"collaborator",title:"Dr. Sarah Smith",year:2023,citations:0,impact_score:7.8,connections:["pub-1","inst-1"],position:[0,0,0],velocity:[0,0,0],metadata:{keywords:["medical imaging","machine learning"]},color:"#00F5D4",size:2.5},{id:"inst-1",type:"institution",title:"Stanford Medical School",year:2023,citations:0,impact_score:9.5,connections:["collab-1"],position:[0,0,0],velocity:[0,0,0],metadata:{},color:"#FFB700",size:3.5},{id:"concept-1",type:"concept",title:"Explainable AI",year:2023,citations:0,impact_score:8,connections:["pub-2"],position:[0,0,0],velocity:[0,0,0],metadata:{keywords:["explainability","interpretability","transparency"]},color:"#FF6B6B",size:2}],L=[{source:"pub-1",target:"pub-2",weight:.8,type:"citation",metadata:{strength:.8}},{source:"pub-1",target:"collab-1",weight:.9,type:"collaboration",metadata:{strength:.9}},{source:"collab-1",target:"inst-1",weight:.7,type:"collaboration",metadata:{strength:.7}},{source:"pub-2",target:"concept-1",weight:.6,type:"conceptual",metadata:{strength:.6}}];if(e(C),r(L),_.current){_.current.updateNodes(C),_.current.updateEdges(L),_.current.start();const D=()=>{const I=_.current.tick();e([...I]),S.current=requestAnimationFrame(D)};D()}}catch(C){h("Failed to load research data"),console.error(C)}finally{u(!1)}},E=te.useMemo(()=>t.filter(C=>!(!p.nodeTypes.has(C.type)||C.year<p.yearRange[0]||C.year>p.yearRange[1]||C.citations<p.minCitations||p.searchTerm&&!C.title.toLowerCase().includes(p.searchTerm.toLowerCase()))),[t,p]),b=te.useMemo(()=>{if(t.length===0)return[2020,2025];const C=t.map(L=>L.year);return[Math.min(...C),Math.max(...C)]},[t]),T=te.useMemo(()=>Array.from(new Set(t.map(C=>C.type))),[t]),P=te.useMemo(()=>{const C=new Map;return E.forEach(L=>C.set(L.id,L)),C},[E]);return l?W.jsx("div",{className:"flex items-center justify-center h-screen bg-cyber-black text-white",children:W.jsxs("div",{className:"text-center",children:[W.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-electric-purple mx-auto mb-4"}),W.jsx("h2",{className:"text-2xl font-semibold",children:"Loading Research Graph..."}),W.jsx("p",{className:"text-gray-400",children:"Analyzing publications and collaborations"})]})}):f?W.jsx("div",{className:"flex items-center justify-center h-screen bg-cyber-black text-white",children:W.jsxs("div",{className:"text-center",children:[W.jsx("h2",{className:"text-2xl font-semibold text-red-400",children:"Error Loading Graph"}),W.jsx("p",{className:"text-gray-400 mt-2",children:f}),W.jsx("button",{onClick:w,className:"mt-4 px-6 py-2 bg-electric-purple hover:bg-neon-purple rounded transition-colors",children:"Retry"})]})}):W.jsxs("div",{className:"relative w-full h-screen bg-gradient-to-br from-cyber-black to-deep-blue overflow-hidden",children:[W.jsx(aAe,{filters:p,onFiltersChange:v,availableYears:b,nodeTypes:T}),W.jsx(sV,{children:i&&W.jsx(oAe,{node:i,onClose:()=>a(null)})}),W.jsxs(Xt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"absolute bottom-4 left-4 bg-black bg-opacity-75 backdrop-blur p-4 rounded-lg text-white z-10",children:[W.jsx("h3",{className:"text-sm font-semibold mb-2 text-cyber-green",children:"Graph Statistics"}),W.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[W.jsxs("div",{children:[W.jsx("span",{className:"text-gray-300",children:"Nodes:"}),W.jsx("span",{className:"ml-2 text-white",children:E.length})]}),W.jsxs("div",{children:[W.jsx("span",{className:"text-gray-300",children:"Edges:"}),W.jsx("span",{className:"ml-2 text-white",children:n.length})]}),W.jsxs("div",{children:[W.jsx("span",{className:"text-gray-300",children:"Total Citations:"}),W.jsx("span",{className:"ml-2 text-white",children:t.reduce((C,L)=>C+L.citations,0)})]}),W.jsxs("div",{children:[W.jsx("span",{className:"text-gray-300",children:"Avg Impact:"}),W.jsx("span",{className:"ml-2 text-white",children:(t.reduce((C,L)=>C+L.impact_score,0)/t.length).toFixed(1)})]})]})]}),W.jsxs(AO,{camera:{position:[0,0,100],fov:60},gl:{antialias:!0,alpha:!0},children:[W.jsx("ambientLight",{intensity:.4}),W.jsx("pointLight",{position:[10,10,10],intensity:1}),W.jsx("pointLight",{position:[-10,-10,-10],intensity:.5}),W.jsx(RO,{enablePan:!0,enableZoom:!0,enableRotate:!0,zoomSpeed:.6,panSpeed:.8,rotateSpeed:.4}),E.map(C=>W.jsx(rAe,{node:C,isSelected:(i==null?void 0:i.id)===C.id,isHovered:(o==null?void 0:o.id)===C.id,onClick:a,onHover:s},C.id)),n.map((C,L)=>W.jsx(iAe,{edge:C,nodes:P},`${C.source}-${C.target}-${L}`))]})]})};function lAe(){const[t,e]=te.useState("portfolio"),n=()=>{e(a=>a==="portfolio"?"enterprise":"portfolio")},r=()=>W.jsxs("div",{className:"min-h-screen bg-cyber-black",style:{height:"auto",overflow:"visible"},children:[W.jsx(mZ,{}),W.jsxs("main",{children:[W.jsx(tse,{}),W.jsx(rse,{}),W.jsx(ose,{}),W.jsx(sse,{}),W.jsx(CSe,{}),W.jsx(RSe,{})]})]}),i=()=>W.jsx("div",{style:{width:"100%",height:"100vh",overflow:"hidden"},children:W.jsx(sAe,{})});return W.jsxs("div",{className:"relative min-h-screen bg-cyber-black",children:[W.jsx(Xt.div,{className:"fixed top-4 right-4 z-50",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1},children:W.jsx(Xt.button,{onClick:n,className:"glass p-3 rounded-lg text-white font-medium shadow-lg border border-electric-purple/30 hover:border-electric-purple/60 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgba(26, 26, 46, 0.8)",backdropFilter:"blur(16px)"},children:W.jsx("div",{className:"flex items-center gap-2",children:t==="portfolio"?W.jsxs(W.Fragment,{children:[W.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),W.jsx("span",{children:"Enterprise Mode"})]}):W.jsxs(W.Fragment,{children:[W.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),W.jsx("span",{children:"Portfolio Mode"})]})})})}),W.jsx(Xt.div,{className:"fixed bottom-4 left-4 z-40",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:W.jsx("div",{className:"glass p-3 rounded-lg",style:{background:"rgba(26, 26, 46, 0.8)",backdropFilter:"blur(16px)"},children:W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t==="portfolio"?"#00f5d4":"#8b5cf6"}}),W.jsx("span",{className:"text-white text-sm font-medium",children:t==="portfolio"?"Portfolio Personale":"Piattaforma Enterprise"})]})})}),W.jsx(sV,{mode:"wait",children:W.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},children:t==="portfolio"?W.jsx(r,{}):W.jsx(i,{})},t)})]})}pj.createRoot(document.getElementById("root")).render(W.jsx(te.StrictMode,{children:W.jsx(lAe,{})}));
